{"ast":null,"code":"\"use strict\";\n\n/**\n * Copyright 2023 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar _classPrivateMethodInitSpec = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateMethodInitSpec.js\").default;\nvar _classPrivateFieldInitSpec = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldInitSpec.js\").default;\nvar _defineProperty = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/defineProperty.js\").default;\nvar _assertClassBrand = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/assertClassBrand.js\").default;\nvar _classPrivateFieldGet = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldGet2.js\").default;\nvar _classPrivateFieldSet = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldSet2.js\").default;\nrequire(\"core-js/modules/es.array.push.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ActionDispatcher = void 0;\nconst protocol_js_1 = require(\"../../../protocol/protocol.js\");\nconst assert_js_1 = require(\"../../../utils/assert.js\");\nconst InputSource_js_1 = require(\"./InputSource.js\");\nconst keyUtils_js_1 = require(\"./keyUtils.js\");\nconst USKeyboardLayout_js_1 = require(\"./USKeyboardLayout.js\");\n/** https://w3c.github.io/webdriver/#dfn-center-point */\nconst CALCULATE_IN_VIEW_CENTER_PT_DECL = (i => {\n  const t = i.getClientRects()[0],\n    e = Math.max(0, Math.min(t.x, t.x + t.width)),\n    n = Math.min(window.innerWidth, Math.max(t.x, t.x + t.width)),\n    h = Math.max(0, Math.min(t.y, t.y + t.height)),\n    m = Math.min(window.innerHeight, Math.max(t.y, t.y + t.height));\n  return [e + (n - e >> 1), h + (m - h >> 1)];\n}).toString();\nconst IS_MAC_DECL = (() => {\n  return navigator.platform.toLowerCase().includes('mac');\n}).toString();\nasync function getElementCenter(context, element) {\n  const sandbox = await context.getOrCreateSandbox(undefined);\n  const result = await sandbox.callFunction(CALCULATE_IN_VIEW_CENTER_PT_DECL, false, {\n    type: 'undefined'\n  }, [element]);\n  if (result.type === 'exception') {\n    throw new protocol_js_1.NoSuchElementException(`Origin element ${element.sharedId} was not found`);\n  }\n  (0, assert_js_1.assert)(result.result.type === 'array');\n  (0, assert_js_1.assert)(result.result.value?.[0]?.type === 'number');\n  (0, assert_js_1.assert)(result.result.value?.[1]?.type === 'number');\n  const {\n    result: {\n      value: [{\n        value: x\n      }, {\n        value: y\n      }]\n    }\n  } = result;\n  return {\n    x: x,\n    y: y\n  };\n}\nvar _tickStart = /*#__PURE__*/new WeakMap();\nvar _tickDuration = /*#__PURE__*/new WeakMap();\nvar _inputState = /*#__PURE__*/new WeakMap();\nvar _context = /*#__PURE__*/new WeakMap();\nvar _isMacOS = /*#__PURE__*/new WeakMap();\nvar _ActionDispatcher_brand = /*#__PURE__*/new WeakSet();\nclass ActionDispatcher {\n  constructor(inputState, context, isMacOS) {\n    _classPrivateMethodInitSpec(this, _ActionDispatcher_brand);\n    _classPrivateFieldInitSpec(this, _tickStart, 0);\n    _classPrivateFieldInitSpec(this, _tickDuration, 0);\n    _classPrivateFieldInitSpec(this, _inputState, void 0);\n    _classPrivateFieldInitSpec(this, _context, void 0);\n    _classPrivateFieldInitSpec(this, _isMacOS, void 0);\n    _classPrivateFieldSet(_inputState, this, inputState);\n    _classPrivateFieldSet(_context, this, context);\n    _classPrivateFieldSet(_isMacOS, this, isMacOS);\n  }\n  async dispatchActions(optionsByTick) {\n    await _classPrivateFieldGet(_inputState, this).queue.run(async () => {\n      for (const options of optionsByTick) {\n        await this.dispatchTickActions(options);\n      }\n    });\n  }\n  async dispatchTickActions(options) {\n    _classPrivateFieldSet(_tickStart, this, performance.now());\n    _classPrivateFieldSet(_tickDuration, this, 0);\n    for (const {\n      action\n    } of options) {\n      if ('duration' in action && action.duration !== undefined) {\n        _classPrivateFieldSet(_tickDuration, this, Math.max(_classPrivateFieldGet(_tickDuration, this), action.duration));\n      }\n    }\n    const promises = [new Promise(resolve => setTimeout(resolve, _classPrivateFieldGet(_tickDuration, this)))];\n    for (const option of options) {\n      // In theory we have to wait for each action to happen, but CDP is serial,\n      // so as an optimization, we queue all CDP commands at once and await all\n      // of them.\n      promises.push(_assertClassBrand(_ActionDispatcher_brand, this, _dispatchAction).call(this, option));\n    }\n    await Promise.all(promises);\n  }\n}\nasync function _dispatchAction({\n  id,\n  action\n}) {\n  const source = _classPrivateFieldGet(_inputState, this).get(id);\n  const keyState = _classPrivateFieldGet(_inputState, this).getGlobalKeyState();\n  switch (action.type) {\n    case 'keyDown':\n      {\n        // SAFETY: The source is validated before.\n        await _assertClassBrand(_ActionDispatcher_brand, this, _dispatchKeyDownAction).call(this, source, action);\n        _classPrivateFieldGet(_inputState, this).cancelList.push({\n          id,\n          action: {\n            ...action,\n            type: 'keyUp'\n          }\n        });\n        break;\n      }\n    case 'keyUp':\n      {\n        // SAFETY: The source is validated before.\n        await _assertClassBrand(_ActionDispatcher_brand, this, _dispatchKeyUpAction).call(this, source, action);\n        break;\n      }\n    case 'pause':\n      {\n        // TODO: Implement waiting on the input source.\n        break;\n      }\n    case 'pointerDown':\n      {\n        // SAFETY: The source is validated before.\n        await _assertClassBrand(_ActionDispatcher_brand, this, _dispatchPointerDownAction).call(this, source, keyState, action);\n        _classPrivateFieldGet(_inputState, this).cancelList.push({\n          id,\n          action: {\n            ...action,\n            type: 'pointerUp'\n          }\n        });\n        break;\n      }\n    case 'pointerMove':\n      {\n        // SAFETY: The source is validated before.\n        await _assertClassBrand(_ActionDispatcher_brand, this, _dispatchPointerMoveAction).call(this, source, keyState, action);\n        break;\n      }\n    case 'pointerUp':\n      {\n        // SAFETY: The source is validated before.\n        await _assertClassBrand(_ActionDispatcher_brand, this, _dispatchPointerUpAction).call(this, source, keyState, action);\n        break;\n      }\n    case 'scroll':\n      {\n        // SAFETY: The source is validated before.\n        await _assertClassBrand(_ActionDispatcher_brand, this, _dispatchScrollAction).call(this, source, keyState, action);\n        break;\n      }\n  }\n}\nfunction _dispatchPointerDownAction(source, keyState, action) {\n  const {\n    button\n  } = action;\n  if (source.pressed.has(button)) {\n    return;\n  }\n  source.pressed.add(button);\n  const {\n    x,\n    y,\n    subtype: pointerType\n  } = source;\n  const {\n    width,\n    height,\n    pressure,\n    twist,\n    tangentialPressure\n  } = action;\n  const {\n    tiltX,\n    tiltY\n  } = getTilt(action);\n  // --- Platform-specific code begins here ---\n  const {\n    modifiers\n  } = keyState;\n  switch (pointerType) {\n    case \"mouse\" /* Input.PointerType.Mouse */:\n    case \"pen\" /* Input.PointerType.Pen */:\n      // TODO: Implement width and height when available.\n      return _classPrivateFieldGet(_context, this).cdpTarget.cdpClient.sendCommand('Input.dispatchMouseEvent', {\n        type: 'mousePressed',\n        x,\n        y,\n        modifiers,\n        button: getCdpButton(button),\n        buttons: source.buttons,\n        clickCount: source.setClickCount(button, new InputSource_js_1.PointerSource.ClickContext(x, y, performance.now())),\n        pointerType,\n        tangentialPressure,\n        tiltX,\n        tiltY,\n        twist,\n        force: pressure\n      });\n    case \"touch\" /* Input.PointerType.Touch */:\n      return _classPrivateFieldGet(_context, this).cdpTarget.cdpClient.sendCommand('Input.dispatchTouchEvent', {\n        type: 'touchStart',\n        touchPoints: [{\n          x,\n          y,\n          ...getRadii(width ?? 1, height ?? 1),\n          tangentialPressure,\n          tiltX,\n          tiltY,\n          twist,\n          force: pressure,\n          id: source.pointerId\n        }],\n        modifiers\n      });\n  }\n  // --- Platform-specific code ends here ---\n}\nfunction _dispatchPointerUpAction(source, keyState, action) {\n  const {\n    button\n  } = action;\n  if (!source.pressed.has(button)) {\n    return;\n  }\n  source.pressed.delete(button);\n  const {\n    x,\n    y,\n    subtype: pointerType\n  } = source;\n  // --- Platform-specific code begins here ---\n  const {\n    modifiers\n  } = keyState;\n  switch (pointerType) {\n    case \"mouse\" /* Input.PointerType.Mouse */:\n    case \"pen\" /* Input.PointerType.Pen */:\n      // TODO: Implement width and height when available.\n      return _classPrivateFieldGet(_context, this).cdpTarget.cdpClient.sendCommand('Input.dispatchMouseEvent', {\n        type: 'mouseReleased',\n        x,\n        y,\n        modifiers,\n        button: getCdpButton(button),\n        buttons: source.buttons,\n        clickCount: source.getClickCount(button),\n        pointerType\n      });\n    case \"touch\" /* Input.PointerType.Touch */:\n      return _classPrivateFieldGet(_context, this).cdpTarget.cdpClient.sendCommand('Input.dispatchTouchEvent', {\n        type: 'touchEnd',\n        touchPoints: [{\n          x,\n          y,\n          id: source.pointerId\n        }],\n        modifiers\n      });\n  }\n  // --- Platform-specific code ends here ---\n}\nasync function _dispatchPointerMoveAction(source, keyState, action) {\n  const {\n    x: startX,\n    y: startY,\n    subtype: pointerType\n  } = source;\n  const {\n    width,\n    height,\n    pressure,\n    twist,\n    tangentialPressure,\n    x: offsetX,\n    y: offsetY,\n    origin = 'viewport',\n    duration = _classPrivateFieldGet(_tickDuration, this)\n  } = action;\n  const {\n    tiltX,\n    tiltY\n  } = getTilt(action);\n  const {\n    targetX,\n    targetY\n  } = await _assertClassBrand(_ActionDispatcher_brand, this, _getCoordinateFromOrigin).call(this, origin, offsetX, offsetY, startX, startY);\n  if (targetX < 0 || targetY < 0) {\n    throw new protocol_js_1.MoveTargetOutOfBoundsException(`Cannot move beyond viewport (x: ${targetX}, y: ${targetY})`);\n  }\n  let last;\n  do {\n    const ratio = duration > 0 ? (performance.now() - _classPrivateFieldGet(_tickStart, this)) / duration : 1;\n    last = ratio >= 1;\n    let x;\n    let y;\n    if (last) {\n      x = targetX;\n      y = targetY;\n    } else {\n      x = Math.round(ratio * (targetX - startX) + startX);\n      y = Math.round(ratio * (targetY - startY) + startY);\n    }\n    if (source.x !== x || source.y !== y) {\n      // --- Platform-specific code begins here ---\n      const {\n        modifiers\n      } = keyState;\n      switch (pointerType) {\n        case \"mouse\" /* Input.PointerType.Mouse */:\n          // TODO: Implement width and height when available.\n          await _classPrivateFieldGet(_context, this).cdpTarget.cdpClient.sendCommand('Input.dispatchMouseEvent', {\n            type: 'mouseMoved',\n            x,\n            y,\n            modifiers,\n            clickCount: 0,\n            button: getCdpButton(source.pressed.values().next().value ?? 5),\n            buttons: source.buttons,\n            pointerType,\n            tangentialPressure,\n            tiltX,\n            tiltY,\n            twist,\n            force: pressure\n          });\n          break;\n        case \"pen\" /* Input.PointerType.Pen */:\n          if (source.pressed.size !== 0) {\n            // TODO: Implement width and height when available.\n            await _classPrivateFieldGet(_context, this).cdpTarget.cdpClient.sendCommand('Input.dispatchMouseEvent', {\n              type: 'mouseMoved',\n              x,\n              y,\n              modifiers,\n              clickCount: 0,\n              button: getCdpButton(source.pressed.values().next().value ?? 5),\n              buttons: source.buttons,\n              pointerType,\n              tangentialPressure,\n              tiltX,\n              tiltY,\n              twist,\n              force: pressure\n            });\n          }\n          break;\n        case \"touch\" /* Input.PointerType.Touch */:\n          if (source.pressed.size !== 0) {\n            await _classPrivateFieldGet(_context, this).cdpTarget.cdpClient.sendCommand('Input.dispatchTouchEvent', {\n              type: 'touchMove',\n              touchPoints: [{\n                x,\n                y,\n                ...getRadii(width ?? 1, height ?? 1),\n                tangentialPressure,\n                tiltX,\n                tiltY,\n                twist,\n                force: pressure,\n                id: source.pointerId\n              }],\n              modifiers\n            });\n          }\n          break;\n      }\n      // --- Platform-specific code ends here ---\n      source.x = x;\n      source.y = y;\n    }\n  } while (!last);\n}\nasync function _getCoordinateFromOrigin(origin, offsetX, offsetY, startX, startY) {\n  let targetX;\n  let targetY;\n  switch (origin) {\n    case 'viewport':\n      targetX = offsetX;\n      targetY = offsetY;\n      break;\n    case 'pointer':\n      targetX = startX + offsetX;\n      targetY = startY + offsetY;\n      break;\n    default:\n      {\n        const {\n          x: posX,\n          y: posY\n        } = await getElementCenter(_classPrivateFieldGet(_context, this), origin.element);\n        // SAFETY: These can never be special numbers.\n        targetX = posX + offsetX;\n        targetY = posY + offsetY;\n        break;\n      }\n  }\n  return {\n    targetX,\n    targetY\n  };\n}\nasync function _dispatchScrollAction(_source, keyState, action) {\n  const {\n    deltaX: targetDeltaX,\n    deltaY: targetDeltaY,\n    x: offsetX,\n    y: offsetY,\n    origin = 'viewport',\n    duration = _classPrivateFieldGet(_tickDuration, this)\n  } = action;\n  if (origin === 'pointer') {\n    throw new protocol_js_1.InvalidArgumentException('\"pointer\" origin is invalid for scrolling.');\n  }\n  const {\n    targetX,\n    targetY\n  } = await _assertClassBrand(_ActionDispatcher_brand, this, _getCoordinateFromOrigin).call(this, origin, offsetX, offsetY, 0, 0);\n  if (targetX < 0 || targetY < 0) {\n    throw new protocol_js_1.MoveTargetOutOfBoundsException(`Cannot move beyond viewport (x: ${targetX}, y: ${targetY})`);\n  }\n  let currentDeltaX = 0;\n  let currentDeltaY = 0;\n  let last;\n  do {\n    const ratio = duration > 0 ? (performance.now() - _classPrivateFieldGet(_tickStart, this)) / duration : 1;\n    last = ratio >= 1;\n    let deltaX;\n    let deltaY;\n    if (last) {\n      deltaX = targetDeltaX - currentDeltaX;\n      deltaY = targetDeltaY - currentDeltaY;\n    } else {\n      deltaX = Math.round(ratio * targetDeltaX - currentDeltaX);\n      deltaY = Math.round(ratio * targetDeltaY - currentDeltaY);\n    }\n    if (deltaX !== 0 || deltaY !== 0) {\n      // --- Platform-specific code begins here ---\n      const {\n        modifiers\n      } = keyState;\n      await _classPrivateFieldGet(_context, this).cdpTarget.cdpClient.sendCommand('Input.dispatchMouseEvent', {\n        type: 'mouseWheel',\n        deltaX,\n        deltaY,\n        x: targetX,\n        y: targetY,\n        modifiers\n      });\n      // --- Platform-specific code ends here ---\n      currentDeltaX += deltaX;\n      currentDeltaY += deltaY;\n    }\n  } while (!last);\n}\nasync function _dispatchKeyDownAction(source, action) {\n  if ([...action.value].length > 1) {\n    throw new protocol_js_1.InvalidArgumentException(`Invalid key value: ${action.value}`);\n  }\n  const rawKey = action.value;\n  const key = (0, keyUtils_js_1.getNormalizedKey)(rawKey);\n  const repeat = source.pressed.has(key);\n  const code = (0, keyUtils_js_1.getKeyCode)(rawKey);\n  const location = (0, keyUtils_js_1.getKeyLocation)(rawKey);\n  switch (key) {\n    case 'Alt':\n      source.alt = true;\n      break;\n    case 'Shift':\n      source.shift = true;\n      break;\n    case 'Control':\n      source.ctrl = true;\n      break;\n    case 'Meta':\n      source.meta = true;\n      break;\n  }\n  source.pressed.add(key);\n  const {\n    modifiers\n  } = source;\n  // --- Platform-specific code begins here ---\n  // The spread is a little hack so JS gives us an array of unicode characters\n  // to measure.\n  const unmodifiedText = getKeyEventUnmodifiedText(key, source);\n  const text = getKeyEventText(code ?? '', source) ?? unmodifiedText;\n  let command;\n  // The following commands need to be declared because Chromium doesn't\n  // handle them. See\n  // https://source.chromium.org/chromium/chromium/src/+/refs/heads/main:third_party/blink/renderer/core/editing/editing_behavior.cc;l=169;drc=b8143cf1dfd24842890fcd831c4f5d909bef4fc4;bpv=0;bpt=1.\n  if (_classPrivateFieldGet(_isMacOS, this) && source.meta) {\n    switch (code) {\n      case 'KeyA':\n        command = 'SelectAll';\n        break;\n      case 'KeyC':\n        command = 'Copy';\n        break;\n      case 'KeyV':\n        command = source.shift ? 'PasteAndMatchStyle' : 'Paste';\n        break;\n      case 'KeyX':\n        command = 'Cut';\n        break;\n      case 'KeyZ':\n        command = source.shift ? 'Redo' : 'Undo';\n        break;\n      default:\n      // Intentionally empty.\n    }\n  }\n  const promises = [_classPrivateFieldGet(_context, this).cdpTarget.cdpClient.sendCommand('Input.dispatchKeyEvent', {\n    type: text ? 'keyDown' : 'rawKeyDown',\n    windowsVirtualKeyCode: USKeyboardLayout_js_1.KeyToKeyCode[key],\n    key,\n    code,\n    text,\n    unmodifiedText,\n    autoRepeat: repeat,\n    isSystemKey: source.alt || undefined,\n    location: location < 3 ? location : undefined,\n    isKeypad: location === 3,\n    modifiers,\n    commands: command ? [command] : undefined\n  })];\n  // Drag cancelling happens on escape.\n  if (key === 'Escape') {\n    if (!source.alt && (_classPrivateFieldGet(_isMacOS, this) && !source.ctrl && !source.meta || !_classPrivateFieldGet(_isMacOS, this))) {\n      promises.push(_classPrivateFieldGet(_context, this).cdpTarget.cdpClient.sendCommand('Input.cancelDragging'));\n    }\n  }\n  await Promise.all(promises);\n  // --- Platform-specific code ends here ---\n}\nfunction _dispatchKeyUpAction(source, action) {\n  if ([...action.value].length > 1) {\n    throw new protocol_js_1.InvalidArgumentException(`Invalid key value: ${action.value}`);\n  }\n  const rawKey = action.value;\n  const key = (0, keyUtils_js_1.getNormalizedKey)(rawKey);\n  if (!source.pressed.has(key)) {\n    return;\n  }\n  const code = (0, keyUtils_js_1.getKeyCode)(rawKey);\n  const location = (0, keyUtils_js_1.getKeyLocation)(rawKey);\n  switch (key) {\n    case 'Alt':\n      source.alt = false;\n      break;\n    case 'Shift':\n      source.shift = false;\n      break;\n    case 'Control':\n      source.ctrl = false;\n      break;\n    case 'Meta':\n      source.meta = false;\n      break;\n  }\n  source.pressed.delete(key);\n  const {\n    modifiers\n  } = source;\n  // --- Platform-specific code begins here ---\n  // The spread is a little hack so JS gives us an array of unicode characters\n  // to measure.\n  const unmodifiedText = getKeyEventUnmodifiedText(key, source);\n  const text = getKeyEventText(code ?? '', source) ?? unmodifiedText;\n  return _classPrivateFieldGet(_context, this).cdpTarget.cdpClient.sendCommand('Input.dispatchKeyEvent', {\n    type: 'keyUp',\n    windowsVirtualKeyCode: USKeyboardLayout_js_1.KeyToKeyCode[key],\n    key,\n    code,\n    text,\n    unmodifiedText,\n    location: location < 3 ? location : undefined,\n    isSystemKey: source.alt || undefined,\n    isKeypad: location === 3,\n    modifiers\n  });\n  // --- Platform-specific code ends here ---\n}\n_defineProperty(ActionDispatcher, \"isMacOS\", async context => {\n  const result = await (await context.getOrCreateSandbox(undefined)).callFunction(IS_MAC_DECL, false);\n  (0, assert_js_1.assert)(result.type !== 'exception');\n  (0, assert_js_1.assert)(result.result.type === 'boolean');\n  return result.result.value;\n});\nexports.ActionDispatcher = ActionDispatcher;\nconst getKeyEventUnmodifiedText = (key, source) => {\n  if (key === 'Enter') {\n    return '\\r';\n  }\n  return [...key].length === 1 ? source.shift ? key.toLocaleUpperCase('en-US') : key : undefined;\n};\nconst getKeyEventText = (code, source) => {\n  if (source.ctrl) {\n    switch (code) {\n      case 'Digit2':\n        if (source.shift) {\n          return '\\x00';\n        }\n        break;\n      case 'KeyA':\n        return '\\x01';\n      case 'KeyB':\n        return '\\x02';\n      case 'KeyC':\n        return '\\x03';\n      case 'KeyD':\n        return '\\x04';\n      case 'KeyE':\n        return '\\x05';\n      case 'KeyF':\n        return '\\x06';\n      case 'KeyG':\n        return '\\x07';\n      case 'KeyH':\n        return '\\x08';\n      case 'KeyI':\n        return '\\x09';\n      case 'KeyJ':\n        return '\\x0A';\n      case 'KeyK':\n        return '\\x0B';\n      case 'KeyL':\n        return '\\x0C';\n      case 'KeyM':\n        return '\\x0D';\n      case 'KeyN':\n        return '\\x0E';\n      case 'KeyO':\n        return '\\x0F';\n      case 'KeyP':\n        return '\\x10';\n      case 'KeyQ':\n        return '\\x11';\n      case 'KeyR':\n        return '\\x12';\n      case 'KeyS':\n        return '\\x13';\n      case 'KeyT':\n        return '\\x14';\n      case 'KeyU':\n        return '\\x15';\n      case 'KeyV':\n        return '\\x16';\n      case 'KeyW':\n        return '\\x17';\n      case 'KeyX':\n        return '\\x18';\n      case 'KeyY':\n        return '\\x19';\n      case 'KeyZ':\n        return '\\x1A';\n      case 'BracketLeft':\n        return '\\x1B';\n      case 'Backslash':\n        return '\\x1C';\n      case 'BracketRight':\n        return '\\x1D';\n      case 'Digit6':\n        if (source.shift) {\n          return '\\x1E';\n        }\n        break;\n      case 'Minus':\n        return '\\x1F';\n    }\n    return '';\n  }\n  if (source.alt) {\n    return '';\n  }\n  return;\n};\nfunction getCdpButton(button) {\n  switch (button) {\n    case 0:\n      return 'left';\n    case 1:\n      return 'middle';\n    case 2:\n      return 'right';\n    case 3:\n      return 'back';\n    case 4:\n      return 'forward';\n    default:\n      return 'none';\n  }\n}\nfunction getTilt(action) {\n  // https://w3c.github.io/pointerevents/#converting-between-tiltx-tilty-and-altitudeangle-azimuthangle\n  const altitudeAngle = action.altitudeAngle ?? 0;\n  const azimuthAngle = action.azimuthAngle ?? 0;\n  let tiltXRadians = 0;\n  let tiltYRadians = 0;\n  if (altitudeAngle === 0) {\n    // the pen is in the X-Y plane\n    if (azimuthAngle === 0 || azimuthAngle === 2 * Math.PI) {\n      // pen is on positive X axis\n      tiltXRadians = Math.PI / 2;\n    }\n    if (azimuthAngle === Math.PI / 2) {\n      // pen is on positive Y axis\n      tiltYRadians = Math.PI / 2;\n    }\n    if (azimuthAngle === Math.PI) {\n      // pen is on negative X axis\n      tiltXRadians = -Math.PI / 2;\n    }\n    if (azimuthAngle === 3 * Math.PI / 2) {\n      // pen is on negative Y axis\n      tiltYRadians = -Math.PI / 2;\n    }\n    if (azimuthAngle > 0 && azimuthAngle < Math.PI / 2) {\n      tiltXRadians = Math.PI / 2;\n      tiltYRadians = Math.PI / 2;\n    }\n    if (azimuthAngle > Math.PI / 2 && azimuthAngle < Math.PI) {\n      tiltXRadians = -Math.PI / 2;\n      tiltYRadians = Math.PI / 2;\n    }\n    if (azimuthAngle > Math.PI && azimuthAngle < 3 * Math.PI / 2) {\n      tiltXRadians = -Math.PI / 2;\n      tiltYRadians = -Math.PI / 2;\n    }\n    if (azimuthAngle > 3 * Math.PI / 2 && azimuthAngle < 2 * Math.PI) {\n      tiltXRadians = Math.PI / 2;\n      tiltYRadians = -Math.PI / 2;\n    }\n  }\n  if (altitudeAngle !== 0) {\n    const tanAlt = Math.tan(altitudeAngle);\n    tiltXRadians = Math.atan(Math.cos(azimuthAngle) / tanAlt);\n    tiltYRadians = Math.atan(Math.sin(azimuthAngle) / tanAlt);\n  }\n  const factor = 180 / Math.PI;\n  return {\n    tiltX: Math.round(tiltXRadians * factor),\n    tiltY: Math.round(tiltYRadians * factor)\n  };\n}\nfunction getRadii(width, height) {\n  return {\n    radiusX: width ? width / 2 : 0.5,\n    radiusY: height ? height / 2 : 0.5\n  };\n}","map":{"version":3,"names":["_classPrivateMethodInitSpec","require","default","_classPrivateFieldInitSpec","_defineProperty","_assertClassBrand","_classPrivateFieldGet","_classPrivateFieldSet","protocol_js_1","assert_js_1","InputSource_js_1","keyUtils_js_1","USKeyboardLayout_js_1","CALCULATE_IN_VIEW_CENTER_PT_DECL","i","t","getClientRects","e","Math","max","min","x","width","n","window","innerWidth","h","y","height","m","innerHeight","toString","IS_MAC_DECL","navigator","platform","toLowerCase","includes","getElementCenter","context","element","sandbox","getOrCreateSandbox","undefined","result","callFunction","type","NoSuchElementException","sharedId","assert","value","_tickStart","WeakMap","_tickDuration","_inputState","_context","_isMacOS","_ActionDispatcher_brand","WeakSet","ActionDispatcher","constructor","inputState","isMacOS","dispatchActions","optionsByTick","queue","run","options","dispatchTickActions","performance","now","action","duration","promises","Promise","resolve","setTimeout","option","push","_dispatchAction","call","all","id","source","get","keyState","getGlobalKeyState","_dispatchKeyDownAction","cancelList","_dispatchKeyUpAction","_dispatchPointerDownAction","_dispatchPointerMoveAction","_dispatchPointerUpAction","_dispatchScrollAction","button","pressed","has","add","subtype","pointerType","pressure","twist","tangentialPressure","tiltX","tiltY","getTilt","modifiers","cdpTarget","cdpClient","sendCommand","getCdpButton","buttons","clickCount","setClickCount","PointerSource","ClickContext","force","touchPoints","getRadii","pointerId","delete","getClickCount","startX","startY","offsetX","offsetY","origin","targetX","targetY","_getCoordinateFromOrigin","MoveTargetOutOfBoundsException","last","ratio","round","values","next","size","posX","posY","_source","deltaX","targetDeltaX","deltaY","targetDeltaY","InvalidArgumentException","currentDeltaX","currentDeltaY","length","rawKey","key","getNormalizedKey","repeat","code","getKeyCode","location","getKeyLocation","alt","shift","ctrl","meta","unmodifiedText","getKeyEventUnmodifiedText","text","getKeyEventText","command","windowsVirtualKeyCode","KeyToKeyCode","autoRepeat","isSystemKey","isKeypad","commands","exports","toLocaleUpperCase","altitudeAngle","azimuthAngle","tiltXRadians","tiltYRadians","PI","tanAlt","tan","atan","cos","sin","factor","radiusX","radiusY"],"sources":["../../../../../src/bidiMapper/modules/input/ActionDispatcher.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}