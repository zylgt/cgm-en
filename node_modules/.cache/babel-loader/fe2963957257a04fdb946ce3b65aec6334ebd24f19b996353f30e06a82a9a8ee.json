{"ast":null,"code":"\"use strict\";\n\n/**\n * @license\n * Copyright 2017 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nvar _classPrivateFieldInitSpec = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldInitSpec.js\").default;\nvar _defineProperty = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/defineProperty.js\").default;\nvar _classPrivateFieldGet = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldGet2.js\").default;\nvar _classPrivateFieldSet = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldSet2.js\").default;\nvar _PuppeteerURL;\nrequire(\"core-js/modules/es.array.push.js\");\nrequire(\"core-js/modules/es.array-buffer.detached.js\");\nrequire(\"core-js/modules/es.array-buffer.transfer.js\");\nrequire(\"core-js/modules/es.array-buffer.transfer-to-fixed-length.js\");\nrequire(\"core-js/modules/es.typed-array.to-reversed.js\");\nrequire(\"core-js/modules/es.typed-array.to-sorted.js\");\nrequire(\"core-js/modules/es.typed-array.with.js\");\nrequire(\"core-js/modules/web.dom-exception.stack.js\");\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.filterAsync = exports.fromEmitterEvent = exports.unitToPixels = exports.parsePDFOptions = exports.NETWORK_IDLE_TIME = exports.getSourceUrlComment = exports.SOURCE_URL_REGEX = exports.UTILITY_WORLD_NAME = exports.timeout = exports.validateDialogType = exports.getReadableFromProtocolStream = exports.getReadableAsBuffer = exports.importFSPromises = exports.evaluationString = exports.isDate = exports.isRegExp = exports.isPlainObject = exports.isNumber = exports.isString = exports.getSourcePuppeteerURLIfAvailable = exports.withSourcePuppeteerURLIfNone = exports.PuppeteerURL = exports.DEFAULT_VIEWPORT = exports.debugError = void 0;\nconst rxjs_js_1 = require(\"../../third_party/rxjs/rxjs.js\");\nconst assert_js_1 = require(\"../util/assert.js\");\nconst Debug_js_1 = require(\"./Debug.js\");\nconst Errors_js_1 = require(\"./Errors.js\");\nconst PDFOptions_js_1 = require(\"./PDFOptions.js\");\n/**\n * @internal\n */\nexports.debugError = (0, Debug_js_1.debug)('puppeteer:error');\n/**\n * @internal\n */\nexports.DEFAULT_VIEWPORT = Object.freeze({\n  width: 800,\n  height: 600\n});\n/**\n * @internal\n */\nconst SOURCE_URL = Symbol('Source URL for Puppeteer evaluation scripts');\n/**\n * @internal\n */\nvar _functionName = /*#__PURE__*/new WeakMap();\nvar _siteString = /*#__PURE__*/new WeakMap();\nclass PuppeteerURL {\n  constructor() {\n    _classPrivateFieldInitSpec(this, _functionName, void 0);\n    _classPrivateFieldInitSpec(this, _siteString, void 0);\n  }\n  static fromCallSite(functionName, site) {\n    const url = new PuppeteerURL();\n    _classPrivateFieldSet(_functionName, url, functionName);\n    _classPrivateFieldSet(_siteString, url, site.toString());\n    return url;\n  }\n  get functionName() {\n    return _classPrivateFieldGet(_functionName, this);\n  }\n  get siteString() {\n    return _classPrivateFieldGet(_siteString, this);\n  }\n  toString() {\n    return `pptr:${[_classPrivateFieldGet(_functionName, this), encodeURIComponent(_classPrivateFieldGet(_siteString, this))].join(';')}`;\n  }\n}\n_PuppeteerURL = PuppeteerURL;\n_defineProperty(PuppeteerURL, \"INTERNAL_URL\", 'pptr:internal');\n_defineProperty(PuppeteerURL, \"parse\", url => {\n  url = url.slice('pptr:'.length);\n  const [functionName = '', siteString = ''] = url.split(';');\n  const puppeteerUrl = new _PuppeteerURL();\n  _classPrivateFieldSet(_functionName, puppeteerUrl, functionName);\n  _classPrivateFieldSet(_siteString, puppeteerUrl, decodeURIComponent(siteString));\n  return puppeteerUrl;\n});\n_defineProperty(PuppeteerURL, \"isPuppeteerURL\", url => {\n  return url.startsWith('pptr:');\n});\nexports.PuppeteerURL = PuppeteerURL;\n/**\n * @internal\n */\nconst withSourcePuppeteerURLIfNone = (functionName, object) => {\n  if (Object.prototype.hasOwnProperty.call(object, SOURCE_URL)) {\n    return object;\n  }\n  const original = Error.prepareStackTrace;\n  Error.prepareStackTrace = (_, stack) => {\n    // First element is the function.\n    // Second element is the caller of this function.\n    // Third element is the caller of the caller of this function\n    // which is precisely what we want.\n    return stack[2];\n  };\n  const site = new Error().stack;\n  Error.prepareStackTrace = original;\n  return Object.assign(object, {\n    [SOURCE_URL]: PuppeteerURL.fromCallSite(functionName, site)\n  });\n};\nexports.withSourcePuppeteerURLIfNone = withSourcePuppeteerURLIfNone;\n/**\n * @internal\n */\nconst getSourcePuppeteerURLIfAvailable = object => {\n  if (Object.prototype.hasOwnProperty.call(object, SOURCE_URL)) {\n    return object[SOURCE_URL];\n  }\n  return undefined;\n};\nexports.getSourcePuppeteerURLIfAvailable = getSourcePuppeteerURLIfAvailable;\n/**\n * @internal\n */\nconst isString = obj => {\n  return typeof obj === 'string' || obj instanceof String;\n};\nexports.isString = isString;\n/**\n * @internal\n */\nconst isNumber = obj => {\n  return typeof obj === 'number' || obj instanceof Number;\n};\nexports.isNumber = isNumber;\n/**\n * @internal\n */\nconst isPlainObject = obj => {\n  return typeof obj === 'object' && obj?.constructor === Object;\n};\nexports.isPlainObject = isPlainObject;\n/**\n * @internal\n */\nconst isRegExp = obj => {\n  return typeof obj === 'object' && obj?.constructor === RegExp;\n};\nexports.isRegExp = isRegExp;\n/**\n * @internal\n */\nconst isDate = obj => {\n  return typeof obj === 'object' && obj?.constructor === Date;\n};\nexports.isDate = isDate;\n/**\n * @internal\n */\nfunction evaluationString(fun, ...args) {\n  if ((0, exports.isString)(fun)) {\n    (0, assert_js_1.assert)(args.length === 0, 'Cannot evaluate a string with arguments');\n    return fun;\n  }\n  function serializeArgument(arg) {\n    if (Object.is(arg, undefined)) {\n      return 'undefined';\n    }\n    return JSON.stringify(arg);\n  }\n  return `(${fun})(${args.map(serializeArgument).join(',')})`;\n}\nexports.evaluationString = evaluationString;\n/**\n * @internal\n */\nlet fs = null;\n/**\n * @internal\n */\nasync function importFSPromises() {\n  if (!fs) {\n    try {\n      fs = await Promise.resolve().then(() => __importStar(require('fs/promises')));\n    } catch (error) {\n      if (error instanceof TypeError) {\n        throw new Error('Cannot write to a path outside of a Node-like environment.');\n      }\n      throw error;\n    }\n  }\n  return fs;\n}\nexports.importFSPromises = importFSPromises;\n/**\n * @internal\n */\nasync function getReadableAsBuffer(readable, path) {\n  const buffers = [];\n  const reader = readable.getReader();\n  if (path) {\n    const fs = await importFSPromises();\n    const fileHandle = await fs.open(path, 'w+');\n    try {\n      while (true) {\n        const {\n          done,\n          value\n        } = await reader.read();\n        if (done) {\n          break;\n        }\n        buffers.push(value);\n        await fileHandle.writeFile(value);\n      }\n    } finally {\n      await fileHandle.close();\n    }\n  } else {\n    while (true) {\n      const {\n        done,\n        value\n      } = await reader.read();\n      if (done) {\n        break;\n      }\n      buffers.push(value);\n    }\n  }\n  try {\n    return Buffer.concat(buffers);\n  } catch (error) {\n    (0, exports.debugError)(error);\n    return null;\n  }\n}\nexports.getReadableAsBuffer = getReadableAsBuffer;\n/**\n * @internal\n */\n/**\n * @internal\n */\nasync function getReadableFromProtocolStream(client, handle) {\n  return new ReadableStream({\n    async pull(controller) {\n      function getUnit8Array(data, isBase64) {\n        if (isBase64) {\n          return Uint8Array.from(atob(data), m => {\n            return m.codePointAt(0);\n          });\n        }\n        const encoder = new TextEncoder();\n        return encoder.encode(data);\n      }\n      const {\n        data,\n        base64Encoded,\n        eof\n      } = await client.send('IO.read', {\n        handle\n      });\n      controller.enqueue(getUnit8Array(data, base64Encoded ?? false));\n      if (eof) {\n        await client.send('IO.close', {\n          handle\n        });\n        controller.close();\n      }\n    }\n  });\n}\nexports.getReadableFromProtocolStream = getReadableFromProtocolStream;\n/**\n * @internal\n */\nfunction validateDialogType(type) {\n  let dialogType = null;\n  const validDialogTypes = new Set(['alert', 'confirm', 'prompt', 'beforeunload']);\n  if (validDialogTypes.has(type)) {\n    dialogType = type;\n  }\n  (0, assert_js_1.assert)(dialogType, `Unknown javascript dialog type: ${type}`);\n  return dialogType;\n}\nexports.validateDialogType = validateDialogType;\n/**\n * @internal\n */\nfunction timeout(ms, cause) {\n  return ms === 0 ? rxjs_js_1.NEVER : (0, rxjs_js_1.timer)(ms).pipe((0, rxjs_js_1.map)(() => {\n    throw new Errors_js_1.TimeoutError(`Timed out after waiting ${ms}ms`, {\n      cause\n    });\n  }));\n}\nexports.timeout = timeout;\n/**\n * @internal\n */\nexports.UTILITY_WORLD_NAME = '__puppeteer_utility_world__';\n/**\n * @internal\n */\nexports.SOURCE_URL_REGEX = /^[\\040\\t]*\\/\\/[@#] sourceURL=\\s*(\\S*?)\\s*$/m;\n/**\n * @internal\n */\nfunction getSourceUrlComment(url) {\n  return `//# sourceURL=${url}`;\n}\nexports.getSourceUrlComment = getSourceUrlComment;\n/**\n * @internal\n */\nexports.NETWORK_IDLE_TIME = 500;\n/**\n * @internal\n */\nfunction parsePDFOptions(options = {}, lengthUnit = 'in') {\n  const defaults = {\n    scale: 1,\n    displayHeaderFooter: false,\n    headerTemplate: '',\n    footerTemplate: '',\n    printBackground: false,\n    landscape: false,\n    pageRanges: '',\n    preferCSSPageSize: false,\n    omitBackground: false,\n    outline: false,\n    tagged: true\n  };\n  let width = 8.5;\n  let height = 11;\n  if (options.format) {\n    const format = PDFOptions_js_1.paperFormats[options.format.toLowerCase()];\n    (0, assert_js_1.assert)(format, 'Unknown paper format: ' + options.format);\n    width = format.width;\n    height = format.height;\n  } else {\n    width = convertPrintParameterToInches(options.width, lengthUnit) ?? width;\n    height = convertPrintParameterToInches(options.height, lengthUnit) ?? height;\n  }\n  const margin = {\n    top: convertPrintParameterToInches(options.margin?.top, lengthUnit) || 0,\n    left: convertPrintParameterToInches(options.margin?.left, lengthUnit) || 0,\n    bottom: convertPrintParameterToInches(options.margin?.bottom, lengthUnit) || 0,\n    right: convertPrintParameterToInches(options.margin?.right, lengthUnit) || 0\n  };\n  // Quirk https://bugs.chromium.org/p/chromium/issues/detail?id=840455#c44\n  if (options.outline) {\n    options.tagged = true;\n  }\n  return {\n    ...defaults,\n    ...options,\n    width,\n    height,\n    margin\n  };\n}\nexports.parsePDFOptions = parsePDFOptions;\n/**\n * @internal\n */\nexports.unitToPixels = {\n  px: 1,\n  in: 96,\n  cm: 37.8,\n  mm: 3.78\n};\nfunction convertPrintParameterToInches(parameter, lengthUnit = 'in') {\n  if (typeof parameter === 'undefined') {\n    return undefined;\n  }\n  let pixels;\n  if ((0, exports.isNumber)(parameter)) {\n    // Treat numbers as pixel values to be aligned with phantom's paperSize.\n    pixels = parameter;\n  } else if ((0, exports.isString)(parameter)) {\n    const text = parameter;\n    let unit = text.substring(text.length - 2).toLowerCase();\n    let valueText = '';\n    if (unit in exports.unitToPixels) {\n      valueText = text.substring(0, text.length - 2);\n    } else {\n      // In case of unknown unit try to parse the whole parameter as number of pixels.\n      // This is consistent with phantom's paperSize behavior.\n      unit = 'px';\n      valueText = text;\n    }\n    const value = Number(valueText);\n    (0, assert_js_1.assert)(!isNaN(value), 'Failed to parse parameter value: ' + text);\n    pixels = value * exports.unitToPixels[unit];\n  } else {\n    throw new Error('page.pdf() Cannot handle parameter type: ' + typeof parameter);\n  }\n  return pixels / exports.unitToPixels[lengthUnit];\n}\n/**\n * @internal\n */\nfunction fromEmitterEvent(emitter, eventName) {\n  return new rxjs_js_1.Observable(subscriber => {\n    const listener = event => {\n      subscriber.next(event);\n    };\n    emitter.on(eventName, listener);\n    return () => {\n      emitter.off(eventName, listener);\n    };\n  });\n}\nexports.fromEmitterEvent = fromEmitterEvent;\n/**\n * @internal\n */\nfunction filterAsync(predicate) {\n  return (0, rxjs_js_1.mergeMap)(value => {\n    return (0, rxjs_js_1.from)(Promise.resolve(predicate(value))).pipe((0, rxjs_js_1.filter)(isMatch => {\n      return isMatch;\n    }), (0, rxjs_js_1.map)(() => {\n      return value;\n    }));\n  });\n}\nexports.filterAsync = filterAsync;","map":{"version":3,"names":["_classPrivateFieldInitSpec","require","default","_defineProperty","_classPrivateFieldGet","_classPrivateFieldSet","_PuppeteerURL","rxjs_js_1","assert_js_1","Debug_js_1","Errors_js_1","PDFOptions_js_1","exports","debugError","debug","DEFAULT_VIEWPORT","Object","freeze","width","height","SOURCE_URL","Symbol","_functionName","WeakMap","_siteString","PuppeteerURL","constructor","fromCallSite","functionName","site","url","toString","siteString","encodeURIComponent","join","slice","length","split","puppeteerUrl","decodeURIComponent","startsWith","withSourcePuppeteerURLIfNone","object","prototype","hasOwnProperty","call","original","Error","prepareStackTrace","_","stack","assign","getSourcePuppeteerURLIfAvailable","undefined","isString","obj","String","isNumber","Number","isPlainObject","isRegExp","RegExp","isDate","Date","evaluationString","fun","args","assert","serializeArgument","arg","is","JSON","stringify","map","fs","importFSPromises","Promise","resolve","then","__importStar","error","TypeError","getReadableAsBuffer","readable","path","buffers","reader","getReader","fileHandle","open","done","value","read","push","writeFile","close","Buffer","concat","getReadableFromProtocolStream","client","handle","ReadableStream","pull","controller","getUnit8Array","data","isBase64","Uint8Array","from","atob","m","codePointAt","encoder","TextEncoder","encode","base64Encoded","eof","send","enqueue","validateDialogType","type","dialogType","validDialogTypes","Set","has","timeout","ms","cause","NEVER","timer","pipe","TimeoutError","UTILITY_WORLD_NAME","SOURCE_URL_REGEX","getSourceUrlComment","NETWORK_IDLE_TIME","parsePDFOptions","options","lengthUnit","defaults","scale","displayHeaderFooter","headerTemplate","footerTemplate","printBackground","landscape","pageRanges","preferCSSPageSize","omitBackground","outline","tagged","format","paperFormats","toLowerCase","convertPrintParameterToInches","margin","top","left","bottom","right","unitToPixels","px","in","cm","mm","parameter","pixels","text","unit","substring","valueText","isNaN","fromEmitterEvent","emitter","eventName","Observable","subscriber","listener","event","next","on","off","filterAsync","predicate","mergeMap","filter","isMatch"],"sources":["../../../../src/common/util.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}