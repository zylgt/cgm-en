{"ast":null,"code":"\"use strict\";\n\n/**\n * @license\n * Copyright 2023 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nvar _assertClassBrand = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/assertClassBrand.js\").default;\nrequire(\"core-js/modules/es.regexp.flags.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BidiDeserializer = void 0;\nconst util_js_1 = require(\"../common/util.js\");\n/**\n * @internal\n */\nclass BidiDeserializer {\n  static deserialize(result) {\n    if (!result) {\n      (0, util_js_1.debugError)('Service did not produce a result.');\n      return undefined;\n    }\n    switch (result.type) {\n      case 'array':\n        return result.value?.map(value => {\n          return this.deserialize(value);\n        });\n      case 'set':\n        return result.value?.reduce((acc, value) => {\n          return acc.add(this.deserialize(value));\n        }, new Set());\n      case 'object':\n        return result.value?.reduce((acc, tuple) => {\n          const {\n            key,\n            value\n          } = _assertClassBrand(BidiDeserializer, this, _deserializeTuple).call(this, tuple);\n          acc[key] = value;\n          return acc;\n        }, {});\n      case 'map':\n        return result.value?.reduce((acc, tuple) => {\n          const {\n            key,\n            value\n          } = _assertClassBrand(BidiDeserializer, this, _deserializeTuple).call(this, tuple);\n          return acc.set(key, value);\n        }, new Map());\n      case 'promise':\n        return {};\n      case 'regexp':\n        return new RegExp(result.value.pattern, result.value.flags);\n      case 'date':\n        return new Date(result.value);\n      case 'undefined':\n        return undefined;\n      case 'null':\n        return null;\n      case 'number':\n        return _assertClassBrand(BidiDeserializer, this, _deserializeNumber).call(this, result.value);\n      case 'bigint':\n        return BigInt(result.value);\n      case 'boolean':\n        return Boolean(result.value);\n      case 'string':\n        return result.value;\n    }\n    (0, util_js_1.debugError)(`Deserialization of type ${result.type} not supported.`);\n    return undefined;\n  }\n}\nfunction _deserializeNumber(value) {\n  switch (value) {\n    case '-0':\n      return -0;\n    case 'NaN':\n      return NaN;\n    case 'Infinity':\n      return Infinity;\n    case '-Infinity':\n      return -Infinity;\n    default:\n      return value;\n  }\n}\nfunction _deserializeTuple([serializedKey, serializedValue]) {\n  const key = typeof serializedKey === 'string' ? serializedKey : this.deserialize(serializedKey);\n  const value = this.deserialize(serializedValue);\n  return {\n    key,\n    value\n  };\n}\nexports.BidiDeserializer = BidiDeserializer;","map":{"version":3,"names":["_assertClassBrand","require","default","util_js_1","BidiDeserializer","deserialize","result","debugError","undefined","type","value","map","reduce","acc","add","Set","tuple","key","_deserializeTuple","call","set","Map","RegExp","pattern","flags","Date","_deserializeNumber","BigInt","Boolean","NaN","Infinity","serializedKey","serializedValue","exports"],"sources":["../../../../src/bidi/Deserializer.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}