{"ast":null,"code":"import { configs } from '@/api/api';\nexport default {\n  data() {\n    return {\n      stepList: [],\n      step: 1,\n      config: '',\n      configList: []\n    };\n  },\n  created() {\n    this.getConfig();\n  },\n  methods: {\n    // 获取配置项\n    getConfig() {\n      configs({}).then(response => {\n        if (response.code == 1000) {\n          this.stepList = response.data.length + 1;\n          this.config = response.data;\n          this.configList = response.data[this.step - 1].items;\n          response.data[this.step - 1].items.forEach(element => {\n            element.checked = false;\n          });\n        } else {\n          this.$message({\n            type: 'error',\n            message: response.msg\n          });\n        }\n      }).catch(res => {\n        this.$message({\n          type: 'error',\n          message: res.message\n        });\n      });\n    },\n    // 选择配置项\n    changeConfig(index) {\n      let item = this.configList[index];\n      item.checked = !item.checked;\n      this.$set(this.configList, index, item);\n    },\n    // 下一步\n    nextStep() {\n      config.log(this.step);\n      if (this.step < this.config.length + 1) {\n        this.step += 1;\n      }\n      config.log(this.step);\n      if (this.config.length >= this.step) {\n        this.configList = this.config[this.step].items;\n      }\n    },\n    // 上一步\n    prevStep() {\n      if (this.step >= 1) {\n        this.step -= 1;\n        this.configList = this.config[this.step].items;\n      }\n    }\n  }\n};","map":{"version":3,"names":["configs","data","stepList","step","config","configList","created","getConfig","methods","then","response","code","length","items","forEach","element","checked","$message","type","message","msg","catch","res","changeConfig","index","item","$set","nextStep","log","prevStep"],"sources":["src/views/userInfo/userInfo.vue"],"sourcesContent":["<template>\n    <div class='userinfo' id='userinfo' >\n        <div class='userinfo-title' >\n            <div class='userinfo-label' >\n                <div class='userinf-diver' ></div>\n                <div class='userinfo-text' >个人信息</div>\n            </div>\n            <div class='jump' >跳过</div>\n        </div>\n        <div class='tips' >请填写您的健康信息，将为您制定个性化管理方案！</div>\n        <div class='step-box'>\n            <div :class=\"[step>index?'active':'','step-item']\" v-for='(item,index) in stepList' :key='index' ></div>\n        </div>\n        <div class='config'>\n            <div class='config-title' >{{config[step-1].config_name}}</div>\n            <div class='config-item' v-for='(item,index) in configList' :key='item.item_key'  @click=\"changeConfig(index)\">\n                <div class='config-choose' >\n                    <img src=\"~@/assets/image/radio-check.png\" alt=\"\" class='choose-img'  v-if='item.checked'>\n                    <img src=\"~@/assets/image/no-check.png\" alt=\"\" class='choose-img' v-else >\n                </div>\n                <div class='config-text' >{{item.item_name}}</div>\n            </div>\n            <div class='config-btn' v-if='step>1'>\n                <el-button type=\"info\" round @click=\"prevStep\">上一步</el-button>\n                <el-button type=\"primary\" round @click=\"nextStep\">下一步</el-button>\n            </div>\n             <div class='configs-btn' v-if='step<=1'>\n                <el-button type=\"primary\" round @click=\"nextStep\" >下一步</el-button>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport {configs} from '@/api/api'\nexport default {\n    data(){\n        return{\n            stepList:[],\n            step:1,\n            config:'',\n            configList:[]\n        }\n    },\n    created(){\n        this.getConfig()\n    },\n    methods:{\n        // 获取配置项\n        getConfig(){\n            configs({}).then(response => {\n                    if(response.code == 1000){\n                       this.stepList = response.data.length+1\n                       this.config = response.data\n                       this.configList = response.data[this.step-1].items\n                       response.data[this.step-1].items.forEach(element => {\n                            element.checked = false\n                       });\n                       \n                    }else{\n                        this.$message({\n                            type: 'error',\n                            message: response.msg\n                        });\n                    }\n            }).catch((res) => {\n                    this.$message({\n                        type: 'error',\n                        message: res.message\n                    });\n            })\n        },\n        // 选择配置项\n        changeConfig(index){\n            let item = this.configList[index]\n            item.checked = !item.checked\n            this.$set(this.configList,index,item)\n        },\n        // 下一步\n        nextStep(){\n            config.log(this.step)\n            if(this.step<this.config.length+1){\n                 this.step+=1\n            }\n            config.log(this.step)\n            if(this.config.length>=this.step){\n                this.configList = this.config[this.step].items\n            }\n            \n        },\n        // 上一步\n        prevStep(){\n           \n            if(this.step>=1){\n                this.step-=1\n                this.configList = this.config[this.step].items\n            }\n           \n        }\n    }\n}\n</script>\n<style scoped>\n    .userinfo{\n        width: 400px;\n        margin:0 auto;\n        background: #f7f7f7;\n    }\n    .userinfo-title{\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        margin-bottom:20px;\n    }\n    .userinfo-label{\n        display: flex;\n        align-items: center;\n    }\n    .userinf-diver{\n        width:2px;\n        height:17px;\n        background-color: var(--color-primary);\n    }\n    .userinfo-text{\n        color:#000;\n        font-size:16px;\n        margin-left:6px;\n        font-weight: 440;\n    }\n    .jump{\n        font-size:16px;\n        color: var(--color-blue);\n    }\n    .tips{\n        font-size:14px;\n        color:#666;\n        text-align: center;\n        margin-bottom:10px;\n    }\n    .step-box{\n        width:340px;\n        margin:0 auto;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        margin-bottom:20px;\n    }\n    .step-item{\n        width:60px;\n        height:5px;\n        border-radius:1px;\n        background-color: #f0f0f0;\n        margin:0 1px;\n    }\n    .step-item.active{\n         background-color: var(--color-primary);\n    }\n    .config{\n        width:400px;\n        margin:0 auto;\n    }\n    .config-title{\n        text-align: center;\n        font-size:18px;\n        color:#333;\n        font-weight:400;\n        margin-bottom:20px;\n    }\n    .config-item{\n        width:336px;\n        height:60px;\n        background: #fff;\n        border-radius:10px;\n        display: flex;\n        align-items: center;\n        box-sizing: border-box;\n        padding:0 20px;\n        margin:0 auto;\n        margin-bottom:10px;\n    }\n    .choose-img{\n        display: block;\n        margin-right:10px;\n        width:22px;\n        height:22px;\n    }\n    .config-text{\n        font-size:16px;\n        color:#000;\n        font-weight: 440;\n    }\n    .config-btn{\n         width:336px;\n         margin:0 auto;\n         display: flex;\n         align-items: center;\n         justify-content: space-around;\n         margin-top:30px;\n    }\n    .configs-btn{\n         width:336px;\n         margin:0 auto;\n         display: flex;\n         align-items: center;\n         justify-content: space-around;\n         margin-top:30px;\n    }\n</style>"],"mappings":"AAiCA,SAAAA,OAAA;AACA;EACAC,KAAA;IACA;MACAC,QAAA;MACAC,IAAA;MACAC,MAAA;MACAC,UAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,SAAA;EACA;EACAC,OAAA;IACA;IACAD,UAAA;MACAP,OAAA,KAAAS,IAAA,CAAAC,QAAA;QACA,IAAAA,QAAA,CAAAC,IAAA;UACA,KAAAT,QAAA,GAAAQ,QAAA,CAAAT,IAAA,CAAAW,MAAA;UACA,KAAAR,MAAA,GAAAM,QAAA,CAAAT,IAAA;UACA,KAAAI,UAAA,GAAAK,QAAA,CAAAT,IAAA,MAAAE,IAAA,MAAAU,KAAA;UACAH,QAAA,CAAAT,IAAA,MAAAE,IAAA,MAAAU,KAAA,CAAAC,OAAA,CAAAC,OAAA;YACAA,OAAA,CAAAC,OAAA;UACA;QAEA;UACA,KAAAC,QAAA;YACAC,IAAA;YACAC,OAAA,EAAAT,QAAA,CAAAU;UACA;QACA;MACA,GAAAC,KAAA,CAAAC,GAAA;QACA,KAAAL,QAAA;UACAC,IAAA;UACAC,OAAA,EAAAG,GAAA,CAAAH;QACA;MACA;IACA;IACA;IACAI,aAAAC,KAAA;MACA,IAAAC,IAAA,QAAApB,UAAA,CAAAmB,KAAA;MACAC,IAAA,CAAAT,OAAA,IAAAS,IAAA,CAAAT,OAAA;MACA,KAAAU,IAAA,MAAArB,UAAA,EAAAmB,KAAA,EAAAC,IAAA;IACA;IACA;IACAE,SAAA;MACAvB,MAAA,CAAAwB,GAAA,MAAAzB,IAAA;MACA,SAAAA,IAAA,QAAAC,MAAA,CAAAQ,MAAA;QACA,KAAAT,IAAA;MACA;MACAC,MAAA,CAAAwB,GAAA,MAAAzB,IAAA;MACA,SAAAC,MAAA,CAAAQ,MAAA,SAAAT,IAAA;QACA,KAAAE,UAAA,QAAAD,MAAA,MAAAD,IAAA,EAAAU,KAAA;MACA;IAEA;IACA;IACAgB,SAAA;MAEA,SAAA1B,IAAA;QACA,KAAAA,IAAA;QACA,KAAAE,UAAA,QAAAD,MAAA,MAAAD,IAAA,EAAAU,KAAA;MACA;IAEA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}