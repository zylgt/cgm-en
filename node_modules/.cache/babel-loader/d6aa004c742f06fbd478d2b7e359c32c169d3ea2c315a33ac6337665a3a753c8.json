{"ast":null,"code":"export default {\n  name: 'App',\n  mounted() {\n    // 监听浏览器刷新关闭\n    window.addEventListener('beforeunload', this.handleBeforeUnload);\n  },\n  methods: {\n    handleBeforeUnload(event) {\n      if (this.$store.getters.upStep == 4) {\n        event.preventDefault();\n        event.returnValue = '';\n        this.$confirm('数据正在同步，确认关闭网页？').then(_ => {\n          done();\n        }).catch(_ => {});\n      }\n    }\n  },\n  destroyed() {\n    window.removeEventListener('beforeunload', this.handleBeforeUnload);\n  }\n};","map":{"version":3,"names":["name","mounted","window","addEventListener","handleBeforeUnload","methods","event","$store","getters","upStep","preventDefault","returnValue","$confirm","then","_","done","catch","destroyed","removeEventListener"],"sources":["src/App.vue"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <router-view />\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'App',\n  mounted(){\n    // 监听浏览器刷新关闭\n    window.addEventListener('beforeunload', this.handleBeforeUnload);\n  },\n  methods: {\n    handleBeforeUnload(event){\n      if(this.$store.getters.upStep == 4){\n        event.preventDefault()\n        event.returnValue = ''\n        this.$confirm('数据正在同步，确认关闭网页？')\n          .then(_ => {\n            done();\n          })\n          .catch(_ => {});\n      }\n    }\n  },\n  destroyed(){\n    window.removeEventListener('beforeunload', this.handleBeforeUnload);\n  }\n}\n</script>\n\n<style>\nhtml,body{\n  width:100%;\n  height:100%;\n  padding:0;\n  margin:0;\n}\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  width:100%;\n  height:100%;\n}\n</style>\n"],"mappings":"AAQA;EACAA,IAAA;EACAC,QAAA;IACA;IACAC,MAAA,CAAAC,gBAAA,sBAAAC,kBAAA;EACA;EACAC,OAAA;IACAD,mBAAAE,KAAA;MACA,SAAAC,MAAA,CAAAC,OAAA,CAAAC,MAAA;QACAH,KAAA,CAAAI,cAAA;QACAJ,KAAA,CAAAK,WAAA;QACA,KAAAC,QAAA,mBACAC,IAAA,CAAAC,CAAA;UACAC,IAAA;QACA,GACAC,KAAA,CAAAF,CAAA;MACA;IACA;EACA;EACAG,UAAA;IACAf,MAAA,CAAAgB,mBAAA,sBAAAd,kBAAA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}