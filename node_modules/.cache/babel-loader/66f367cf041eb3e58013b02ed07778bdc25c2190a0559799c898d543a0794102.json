{"ast":null,"code":"\"use strict\";\n\n/**\n * @license\n * Copyright 2017 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nvar _classPrivateMethodInitSpec = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateMethodInitSpec.js\").default;\nvar _assertClassBrand = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/assertClassBrand.js\").default;\nvar _classPrivateFieldInitSpec = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldInitSpec.js\").default;\nvar _classPrivateFieldGet = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldGet2.js\").default;\nvar _classPrivateFieldSet = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldSet2.js\").default;\nrequire(\"core-js/modules/es.array.push.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CSSCoverage = exports.JSCoverage = exports.Coverage = void 0;\nconst EventEmitter_js_1 = require(\"../common/EventEmitter.js\");\nconst util_js_1 = require(\"../common/util.js\");\nconst assert_js_1 = require(\"../util/assert.js\");\nconst disposable_js_1 = require(\"../util/disposable.js\");\n/**\n * The Coverage class provides methods to gather information about parts of\n * JavaScript and CSS that were used by the page.\n *\n * @remarks\n * To output coverage in a form consumable by {@link https://github.com/istanbuljs | Istanbul},\n * see {@link https://github.com/istanbuljs/puppeteer-to-istanbul | puppeteer-to-istanbul}.\n *\n * @example\n * An example of using JavaScript and CSS coverage to get percentage of initially\n * executed code:\n *\n * ```ts\n * // Enable both JavaScript and CSS coverage\n * await Promise.all([\n *   page.coverage.startJSCoverage(),\n *   page.coverage.startCSSCoverage(),\n * ]);\n * // Navigate to page\n * await page.goto('https://example.com');\n * // Disable both JavaScript and CSS coverage\n * const [jsCoverage, cssCoverage] = await Promise.all([\n *   page.coverage.stopJSCoverage(),\n *   page.coverage.stopCSSCoverage(),\n * ]);\n * let totalBytes = 0;\n * let usedBytes = 0;\n * const coverage = [...jsCoverage, ...cssCoverage];\n * for (const entry of coverage) {\n *   totalBytes += entry.text.length;\n *   for (const range of entry.ranges) usedBytes += range.end - range.start - 1;\n * }\n * console.log(`Bytes used: ${(usedBytes / totalBytes) * 100}%`);\n * ```\n *\n * @public\n */\nvar _jsCoverage = /*#__PURE__*/new WeakMap();\nvar _cssCoverage = /*#__PURE__*/new WeakMap();\nclass Coverage {\n  constructor(client) {\n    _classPrivateFieldInitSpec(this, _jsCoverage, void 0);\n    _classPrivateFieldInitSpec(this, _cssCoverage, void 0);\n    _classPrivateFieldSet(_jsCoverage, this, new JSCoverage(client));\n    _classPrivateFieldSet(_cssCoverage, this, new CSSCoverage(client));\n  }\n  /**\n   * @internal\n   */\n  updateClient(client) {\n    _classPrivateFieldGet(_jsCoverage, this).updateClient(client);\n    _classPrivateFieldGet(_cssCoverage, this).updateClient(client);\n  }\n  /**\n   * @param options - Set of configurable options for coverage defaults to\n   * `resetOnNavigation : true, reportAnonymousScripts : false,`\n   * `includeRawScriptCoverage : false, useBlockCoverage : true`\n   * @returns Promise that resolves when coverage is started.\n   *\n   * @remarks\n   * Anonymous scripts are ones that don't have an associated url. These are\n   * scripts that are dynamically created on the page using `eval` or\n   * `new Function`. If `reportAnonymousScripts` is set to `true`, anonymous\n   * scripts URL will start with `debugger://VM` (unless a magic //# sourceURL\n   * comment is present, in which case that will the be URL).\n   */\n  async startJSCoverage(options = {}) {\n    return await _classPrivateFieldGet(_jsCoverage, this).start(options);\n  }\n  /**\n   * Promise that resolves to the array of coverage reports for\n   * all scripts.\n   *\n   * @remarks\n   * JavaScript Coverage doesn't include anonymous scripts by default.\n   * However, scripts with sourceURLs are reported.\n   */\n  async stopJSCoverage() {\n    return await _classPrivateFieldGet(_jsCoverage, this).stop();\n  }\n  /**\n   * @param options - Set of configurable options for coverage, defaults to\n   * `resetOnNavigation : true`\n   * @returns Promise that resolves when coverage is started.\n   */\n  async startCSSCoverage(options = {}) {\n    return await _classPrivateFieldGet(_cssCoverage, this).start(options);\n  }\n  /**\n   * Promise that resolves to the array of coverage reports\n   * for all stylesheets.\n   *\n   * @remarks\n   * CSS Coverage doesn't include dynamically injected style tags\n   * without sourceURLs.\n   */\n  async stopCSSCoverage() {\n    return await _classPrivateFieldGet(_cssCoverage, this).stop();\n  }\n}\nexports.Coverage = Coverage;\n/**\n * @public\n */\nvar _client = /*#__PURE__*/new WeakMap();\nvar _enabled = /*#__PURE__*/new WeakMap();\nvar _scriptURLs = /*#__PURE__*/new WeakMap();\nvar _scriptSources = /*#__PURE__*/new WeakMap();\nvar _subscriptions = /*#__PURE__*/new WeakMap();\nvar _resetOnNavigation = /*#__PURE__*/new WeakMap();\nvar _reportAnonymousScripts = /*#__PURE__*/new WeakMap();\nvar _includeRawScriptCoverage = /*#__PURE__*/new WeakMap();\nvar _JSCoverage_brand = /*#__PURE__*/new WeakSet();\nclass JSCoverage {\n  constructor(client) {\n    _classPrivateMethodInitSpec(this, _JSCoverage_brand);\n    _classPrivateFieldInitSpec(this, _client, void 0);\n    _classPrivateFieldInitSpec(this, _enabled, false);\n    _classPrivateFieldInitSpec(this, _scriptURLs, new Map());\n    _classPrivateFieldInitSpec(this, _scriptSources, new Map());\n    _classPrivateFieldInitSpec(this, _subscriptions, void 0);\n    _classPrivateFieldInitSpec(this, _resetOnNavigation, false);\n    _classPrivateFieldInitSpec(this, _reportAnonymousScripts, false);\n    _classPrivateFieldInitSpec(this, _includeRawScriptCoverage, false);\n    _classPrivateFieldSet(_client, this, client);\n  }\n  /**\n   * @internal\n   */\n  updateClient(client) {\n    _classPrivateFieldSet(_client, this, client);\n  }\n  async start(options = {}) {\n    (0, assert_js_1.assert)(!_classPrivateFieldGet(_enabled, this), 'JSCoverage is already enabled');\n    const {\n      resetOnNavigation = true,\n      reportAnonymousScripts = false,\n      includeRawScriptCoverage = false,\n      useBlockCoverage = true\n    } = options;\n    _classPrivateFieldSet(_resetOnNavigation, this, resetOnNavigation);\n    _classPrivateFieldSet(_reportAnonymousScripts, this, reportAnonymousScripts);\n    _classPrivateFieldSet(_includeRawScriptCoverage, this, includeRawScriptCoverage);\n    _classPrivateFieldSet(_enabled, this, true);\n    _classPrivateFieldGet(_scriptURLs, this).clear();\n    _classPrivateFieldGet(_scriptSources, this).clear();\n    _classPrivateFieldSet(_subscriptions, this, new disposable_js_1.DisposableStack());\n    const clientEmitter = _classPrivateFieldGet(_subscriptions, this).use(new EventEmitter_js_1.EventEmitter(_classPrivateFieldGet(_client, this)));\n    clientEmitter.on('Debugger.scriptParsed', _assertClassBrand(_JSCoverage_brand, this, _onScriptParsed).bind(this));\n    clientEmitter.on('Runtime.executionContextsCleared', _assertClassBrand(_JSCoverage_brand, this, _onExecutionContextsCleared).bind(this));\n    await Promise.all([_classPrivateFieldGet(_client, this).send('Profiler.enable'), _classPrivateFieldGet(_client, this).send('Profiler.startPreciseCoverage', {\n      callCount: _classPrivateFieldGet(_includeRawScriptCoverage, this),\n      detailed: useBlockCoverage\n    }), _classPrivateFieldGet(_client, this).send('Debugger.enable'), _classPrivateFieldGet(_client, this).send('Debugger.setSkipAllPauses', {\n      skip: true\n    })]);\n  }\n  async stop() {\n    (0, assert_js_1.assert)(_classPrivateFieldGet(_enabled, this), 'JSCoverage is not enabled');\n    _classPrivateFieldSet(_enabled, this, false);\n    const result = await Promise.all([_classPrivateFieldGet(_client, this).send('Profiler.takePreciseCoverage'), _classPrivateFieldGet(_client, this).send('Profiler.stopPreciseCoverage'), _classPrivateFieldGet(_client, this).send('Profiler.disable'), _classPrivateFieldGet(_client, this).send('Debugger.disable')]);\n    _classPrivateFieldGet(_subscriptions, this)?.dispose();\n    const coverage = [];\n    const profileResponse = result[0];\n    for (const entry of profileResponse.result) {\n      let url = _classPrivateFieldGet(_scriptURLs, this).get(entry.scriptId);\n      if (!url && _classPrivateFieldGet(_reportAnonymousScripts, this)) {\n        url = 'debugger://VM' + entry.scriptId;\n      }\n      const text = _classPrivateFieldGet(_scriptSources, this).get(entry.scriptId);\n      if (text === undefined || url === undefined) {\n        continue;\n      }\n      const flattenRanges = [];\n      for (const func of entry.functions) {\n        flattenRanges.push(...func.ranges);\n      }\n      const ranges = convertToDisjointRanges(flattenRanges);\n      if (!_classPrivateFieldGet(_includeRawScriptCoverage, this)) {\n        coverage.push({\n          url,\n          ranges,\n          text\n        });\n      } else {\n        coverage.push({\n          url,\n          ranges,\n          text,\n          rawScriptCoverage: entry\n        });\n      }\n    }\n    return coverage;\n  }\n}\nfunction _onExecutionContextsCleared() {\n  if (!_classPrivateFieldGet(_resetOnNavigation, this)) {\n    return;\n  }\n  _classPrivateFieldGet(_scriptURLs, this).clear();\n  _classPrivateFieldGet(_scriptSources, this).clear();\n}\nasync function _onScriptParsed(event) {\n  // Ignore puppeteer-injected scripts\n  if (util_js_1.PuppeteerURL.isPuppeteerURL(event.url)) {\n    return;\n  }\n  // Ignore other anonymous scripts unless the reportAnonymousScripts option is true.\n  if (!event.url && !_classPrivateFieldGet(_reportAnonymousScripts, this)) {\n    return;\n  }\n  try {\n    const response = await _classPrivateFieldGet(_client, this).send('Debugger.getScriptSource', {\n      scriptId: event.scriptId\n    });\n    _classPrivateFieldGet(_scriptURLs, this).set(event.scriptId, event.url);\n    _classPrivateFieldGet(_scriptSources, this).set(event.scriptId, response.scriptSource);\n  } catch (error) {\n    // This might happen if the page has already navigated away.\n    (0, util_js_1.debugError)(error);\n  }\n}\nexports.JSCoverage = JSCoverage;\n/**\n * @public\n */\nvar _client2 = /*#__PURE__*/new WeakMap();\nvar _enabled2 = /*#__PURE__*/new WeakMap();\nvar _stylesheetURLs = /*#__PURE__*/new WeakMap();\nvar _stylesheetSources = /*#__PURE__*/new WeakMap();\nvar _eventListeners = /*#__PURE__*/new WeakMap();\nvar _resetOnNavigation2 = /*#__PURE__*/new WeakMap();\nvar _CSSCoverage_brand = /*#__PURE__*/new WeakSet();\nclass CSSCoverage {\n  constructor(client) {\n    _classPrivateMethodInitSpec(this, _CSSCoverage_brand);\n    _classPrivateFieldInitSpec(this, _client2, void 0);\n    _classPrivateFieldInitSpec(this, _enabled2, false);\n    _classPrivateFieldInitSpec(this, _stylesheetURLs, new Map());\n    _classPrivateFieldInitSpec(this, _stylesheetSources, new Map());\n    _classPrivateFieldInitSpec(this, _eventListeners, void 0);\n    _classPrivateFieldInitSpec(this, _resetOnNavigation2, false);\n    _classPrivateFieldSet(_client2, this, client);\n  }\n  /**\n   * @internal\n   */\n  updateClient(client) {\n    _classPrivateFieldSet(_client2, this, client);\n  }\n  async start(options = {}) {\n    (0, assert_js_1.assert)(!_classPrivateFieldGet(_enabled2, this), 'CSSCoverage is already enabled');\n    const {\n      resetOnNavigation = true\n    } = options;\n    _classPrivateFieldSet(_resetOnNavigation2, this, resetOnNavigation);\n    _classPrivateFieldSet(_enabled2, this, true);\n    _classPrivateFieldGet(_stylesheetURLs, this).clear();\n    _classPrivateFieldGet(_stylesheetSources, this).clear();\n    _classPrivateFieldSet(_eventListeners, this, new disposable_js_1.DisposableStack());\n    const clientEmitter = _classPrivateFieldGet(_eventListeners, this).use(new EventEmitter_js_1.EventEmitter(_classPrivateFieldGet(_client2, this)));\n    clientEmitter.on('CSS.styleSheetAdded', _assertClassBrand(_CSSCoverage_brand, this, _onStyleSheet).bind(this));\n    clientEmitter.on('Runtime.executionContextsCleared', _assertClassBrand(_CSSCoverage_brand, this, _onExecutionContextsCleared2).bind(this));\n    await Promise.all([_classPrivateFieldGet(_client2, this).send('DOM.enable'), _classPrivateFieldGet(_client2, this).send('CSS.enable'), _classPrivateFieldGet(_client2, this).send('CSS.startRuleUsageTracking')]);\n  }\n  async stop() {\n    (0, assert_js_1.assert)(_classPrivateFieldGet(_enabled2, this), 'CSSCoverage is not enabled');\n    _classPrivateFieldSet(_enabled2, this, false);\n    const ruleTrackingResponse = await _classPrivateFieldGet(_client2, this).send('CSS.stopRuleUsageTracking');\n    await Promise.all([_classPrivateFieldGet(_client2, this).send('CSS.disable'), _classPrivateFieldGet(_client2, this).send('DOM.disable')]);\n    _classPrivateFieldGet(_eventListeners, this)?.dispose();\n    // aggregate by styleSheetId\n    const styleSheetIdToCoverage = new Map();\n    for (const entry of ruleTrackingResponse.ruleUsage) {\n      let ranges = styleSheetIdToCoverage.get(entry.styleSheetId);\n      if (!ranges) {\n        ranges = [];\n        styleSheetIdToCoverage.set(entry.styleSheetId, ranges);\n      }\n      ranges.push({\n        startOffset: entry.startOffset,\n        endOffset: entry.endOffset,\n        count: entry.used ? 1 : 0\n      });\n    }\n    const coverage = [];\n    for (const styleSheetId of _classPrivateFieldGet(_stylesheetURLs, this).keys()) {\n      const url = _classPrivateFieldGet(_stylesheetURLs, this).get(styleSheetId);\n      (0, assert_js_1.assert)(typeof url !== 'undefined', `Stylesheet URL is undefined (styleSheetId=${styleSheetId})`);\n      const text = _classPrivateFieldGet(_stylesheetSources, this).get(styleSheetId);\n      (0, assert_js_1.assert)(typeof text !== 'undefined', `Stylesheet text is undefined (styleSheetId=${styleSheetId})`);\n      const ranges = convertToDisjointRanges(styleSheetIdToCoverage.get(styleSheetId) || []);\n      coverage.push({\n        url,\n        ranges,\n        text\n      });\n    }\n    return coverage;\n  }\n}\nfunction _onExecutionContextsCleared2() {\n  if (!_classPrivateFieldGet(_resetOnNavigation2, this)) {\n    return;\n  }\n  _classPrivateFieldGet(_stylesheetURLs, this).clear();\n  _classPrivateFieldGet(_stylesheetSources, this).clear();\n}\nasync function _onStyleSheet(event) {\n  const header = event.header;\n  // Ignore anonymous scripts\n  if (!header.sourceURL) {\n    return;\n  }\n  try {\n    const response = await _classPrivateFieldGet(_client2, this).send('CSS.getStyleSheetText', {\n      styleSheetId: header.styleSheetId\n    });\n    _classPrivateFieldGet(_stylesheetURLs, this).set(header.styleSheetId, header.sourceURL);\n    _classPrivateFieldGet(_stylesheetSources, this).set(header.styleSheetId, response.text);\n  } catch (error) {\n    // This might happen if the page has already navigated away.\n    (0, util_js_1.debugError)(error);\n  }\n}\nexports.CSSCoverage = CSSCoverage;\nfunction convertToDisjointRanges(nestedRanges) {\n  const points = [];\n  for (const range of nestedRanges) {\n    points.push({\n      offset: range.startOffset,\n      type: 0,\n      range\n    });\n    points.push({\n      offset: range.endOffset,\n      type: 1,\n      range\n    });\n  }\n  // Sort points to form a valid parenthesis sequence.\n  points.sort((a, b) => {\n    // Sort with increasing offsets.\n    if (a.offset !== b.offset) {\n      return a.offset - b.offset;\n    }\n    // All \"end\" points should go before \"start\" points.\n    if (a.type !== b.type) {\n      return b.type - a.type;\n    }\n    const aLength = a.range.endOffset - a.range.startOffset;\n    const bLength = b.range.endOffset - b.range.startOffset;\n    // For two \"start\" points, the one with longer range goes first.\n    if (a.type === 0) {\n      return bLength - aLength;\n    }\n    // For two \"end\" points, the one with shorter range goes first.\n    return aLength - bLength;\n  });\n  const hitCountStack = [];\n  const results = [];\n  let lastOffset = 0;\n  // Run scanning line to intersect all ranges.\n  for (const point of points) {\n    if (hitCountStack.length && lastOffset < point.offset && hitCountStack[hitCountStack.length - 1] > 0) {\n      const lastResult = results[results.length - 1];\n      if (lastResult && lastResult.end === lastOffset) {\n        lastResult.end = point.offset;\n      } else {\n        results.push({\n          start: lastOffset,\n          end: point.offset\n        });\n      }\n    }\n    lastOffset = point.offset;\n    if (point.type === 0) {\n      hitCountStack.push(point.range.count);\n    } else {\n      hitCountStack.pop();\n    }\n  }\n  // Filter out empty ranges.\n  return results.filter(range => {\n    return range.end - range.start > 0;\n  });\n}","map":{"version":3,"names":["_classPrivateMethodInitSpec","require","default","_assertClassBrand","_classPrivateFieldInitSpec","_classPrivateFieldGet","_classPrivateFieldSet","EventEmitter_js_1","util_js_1","assert_js_1","disposable_js_1","_jsCoverage","WeakMap","_cssCoverage","Coverage","constructor","client","JSCoverage","CSSCoverage","updateClient","startJSCoverage","options","start","stopJSCoverage","stop","startCSSCoverage","stopCSSCoverage","exports","_client","_enabled","_scriptURLs","_scriptSources","_subscriptions","_resetOnNavigation","_reportAnonymousScripts","_includeRawScriptCoverage","_JSCoverage_brand","WeakSet","Map","assert","resetOnNavigation","reportAnonymousScripts","includeRawScriptCoverage","useBlockCoverage","clear","DisposableStack","clientEmitter","use","EventEmitter","on","_onScriptParsed","bind","_onExecutionContextsCleared","Promise","all","send","callCount","detailed","skip","result","dispose","coverage","profileResponse","entry","url","get","scriptId","text","undefined","flattenRanges","func","functions","push","ranges","convertToDisjointRanges","rawScriptCoverage","event","PuppeteerURL","isPuppeteerURL","response","set","scriptSource","error","debugError","_client2","_enabled2","_stylesheetURLs","_stylesheetSources","_eventListeners","_resetOnNavigation2","_CSSCoverage_brand","_onStyleSheet","_onExecutionContextsCleared2","ruleTrackingResponse","styleSheetIdToCoverage","ruleUsage","styleSheetId","startOffset","endOffset","count","used","keys","header","sourceURL","nestedRanges","points","range","offset","type","sort","a","b","aLength","bLength","hitCountStack","results","lastOffset","point","length","lastResult","end","pop","filter"],"sources":["../../../../src/cdp/Coverage.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}