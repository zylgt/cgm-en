{"ast":null,"code":"\"use strict\";\n\n/**\n * Copyright 2023 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.InputStateManager = void 0;\nconst assert_js_1 = require(\"../../../utils/assert.js\");\nconst InputState_js_1 = require(\"./InputState.js\");\n// We use a weak map here as specified here:\n// https://www.w3.org/TR/webdriver/#dfn-browsing-context-input-state-map\nclass InputStateManager extends WeakMap {\n  get(context) {\n    (0, assert_js_1.assert)(context.isTopLevelContext());\n    if (!this.has(context)) {\n      this.set(context, new InputState_js_1.InputState());\n    }\n    return super.get(context);\n  }\n}\nexports.InputStateManager = InputStateManager;","map":{"version":3,"names":["assert_js_1","require","InputState_js_1","InputStateManager","WeakMap","get","context","assert","isTopLevelContext","has","set","InputState","exports"],"sources":["../../../../../src/bidiMapper/modules/input/InputStateManager.ts"],"sourcesContent":[null],"mappings":";;AAAA;;;;;;;;;;;;;;;;;;;;AAiBA,MAAAA,WAAA,GAAAC,OAAA;AAGA,MAAAC,eAAA,GAAAD,OAAA;AAEA;AACA;AACA,MAAaE,iBAAkB,SAAQC,OAGtC;EACUC,GAAGA,CAACC,OAA4B;IACvC,IAAAN,WAAA,CAAAO,MAAM,EAACD,OAAO,CAACE,iBAAiB,EAAE,CAAC;IAEnC,IAAI,CAAC,IAAI,CAACC,GAAG,CAACH,OAAO,CAAC,EAAE;MACtB,IAAI,CAACI,GAAG,CAACJ,OAAO,EAAE,IAAIJ,eAAA,CAAAS,UAAU,EAAE,CAAC;IACrC;IAEA,OAAO,KAAK,CAACN,GAAG,CAACC,OAAO,CAAE;EAC5B;;AAZFM,OAAA,CAAAT,iBAAA,GAAAA,iBAAA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}