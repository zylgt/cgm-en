{"ast":null,"code":"\"use strict\";\n\n/**\n * @license\n * Copyright 2019 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nvar _classPrivateMethodInitSpec = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateMethodInitSpec.js\").default;\nvar _classPrivateFieldInitSpec = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldInitSpec.js\").default;\nvar _assertClassBrand = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/assertClassBrand.js\").default;\nvar _classPrivateFieldGet = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldGet2.js\").default;\nvar _classPrivateFieldSet = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldSet2.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LifecycleWatcher = void 0;\nconst Frame_js_1 = require(\"../api/Frame.js\");\nconst EventEmitter_js_1 = require(\"../common/EventEmitter.js\");\nconst NetworkManagerEvents_js_1 = require(\"../common/NetworkManagerEvents.js\");\nconst assert_js_1 = require(\"../util/assert.js\");\nconst Deferred_js_1 = require(\"../util/Deferred.js\");\nconst disposable_js_1 = require(\"../util/disposable.js\");\nconst FrameManagerEvents_js_1 = require(\"./FrameManagerEvents.js\");\nconst puppeteerToProtocolLifecycle = new Map([['load', 'load'], ['domcontentloaded', 'DOMContentLoaded'], ['networkidle0', 'networkIdle'], ['networkidle2', 'networkAlmostIdle']]);\n/**\n * @internal\n */\nvar _expectedLifecycle = /*#__PURE__*/new WeakMap();\nvar _frame = /*#__PURE__*/new WeakMap();\nvar _timeout = /*#__PURE__*/new WeakMap();\nvar _navigationRequest = /*#__PURE__*/new WeakMap();\nvar _subscriptions = /*#__PURE__*/new WeakMap();\nvar _initialLoaderId = /*#__PURE__*/new WeakMap();\nvar _terminationDeferred = /*#__PURE__*/new WeakMap();\nvar _sameDocumentNavigationDeferred = /*#__PURE__*/new WeakMap();\nvar _lifecycleDeferred = /*#__PURE__*/new WeakMap();\nvar _newDocumentNavigationDeferred = /*#__PURE__*/new WeakMap();\nvar _hasSameDocumentNavigation = /*#__PURE__*/new WeakMap();\nvar _swapped = /*#__PURE__*/new WeakMap();\nvar _navigationResponseReceived = /*#__PURE__*/new WeakMap();\nvar _LifecycleWatcher_brand = /*#__PURE__*/new WeakSet();\nclass LifecycleWatcher {\n  constructor(networkManager, _frame2, waitUntil, timeout) {\n    _classPrivateMethodInitSpec(this, _LifecycleWatcher_brand);\n    _classPrivateFieldInitSpec(this, _expectedLifecycle, void 0);\n    _classPrivateFieldInitSpec(this, _frame, void 0);\n    _classPrivateFieldInitSpec(this, _timeout, void 0);\n    _classPrivateFieldInitSpec(this, _navigationRequest, null);\n    _classPrivateFieldInitSpec(this, _subscriptions, new disposable_js_1.DisposableStack());\n    _classPrivateFieldInitSpec(this, _initialLoaderId, void 0);\n    _classPrivateFieldInitSpec(this, _terminationDeferred, void 0);\n    _classPrivateFieldInitSpec(this, _sameDocumentNavigationDeferred, Deferred_js_1.Deferred.create());\n    _classPrivateFieldInitSpec(this, _lifecycleDeferred, Deferred_js_1.Deferred.create());\n    _classPrivateFieldInitSpec(this, _newDocumentNavigationDeferred, Deferred_js_1.Deferred.create());\n    _classPrivateFieldInitSpec(this, _hasSameDocumentNavigation, void 0);\n    _classPrivateFieldInitSpec(this, _swapped, void 0);\n    _classPrivateFieldInitSpec(this, _navigationResponseReceived, void 0);\n    if (Array.isArray(waitUntil)) {\n      waitUntil = waitUntil.slice();\n    } else if (typeof waitUntil === 'string') {\n      waitUntil = [waitUntil];\n    }\n    _classPrivateFieldSet(_initialLoaderId, this, _frame2._loaderId);\n    _classPrivateFieldSet(_expectedLifecycle, this, waitUntil.map(value => {\n      const protocolEvent = puppeteerToProtocolLifecycle.get(value);\n      (0, assert_js_1.assert)(protocolEvent, 'Unknown value for options.waitUntil: ' + value);\n      return protocolEvent;\n    }));\n    _classPrivateFieldSet(_frame, this, _frame2);\n    _classPrivateFieldSet(_timeout, this, timeout);\n    const frameManagerEmitter = _classPrivateFieldGet(_subscriptions, this).use(new EventEmitter_js_1.EventEmitter(_frame2._frameManager));\n    frameManagerEmitter.on(FrameManagerEvents_js_1.FrameManagerEvent.LifecycleEvent, _assertClassBrand(_LifecycleWatcher_brand, this, _checkLifecycleComplete).bind(this));\n    const frameEmitter = _classPrivateFieldGet(_subscriptions, this).use(new EventEmitter_js_1.EventEmitter(_frame2));\n    frameEmitter.on(Frame_js_1.FrameEvent.FrameNavigatedWithinDocument, _assertClassBrand(_LifecycleWatcher_brand, this, _navigatedWithinDocument).bind(this));\n    frameEmitter.on(Frame_js_1.FrameEvent.FrameNavigated, _assertClassBrand(_LifecycleWatcher_brand, this, _navigated).bind(this));\n    frameEmitter.on(Frame_js_1.FrameEvent.FrameSwapped, _assertClassBrand(_LifecycleWatcher_brand, this, _frameSwapped).bind(this));\n    frameEmitter.on(Frame_js_1.FrameEvent.FrameSwappedByActivation, _assertClassBrand(_LifecycleWatcher_brand, this, _frameSwapped).bind(this));\n    frameEmitter.on(Frame_js_1.FrameEvent.FrameDetached, _assertClassBrand(_LifecycleWatcher_brand, this, _onFrameDetached).bind(this));\n    const networkManagerEmitter = _classPrivateFieldGet(_subscriptions, this).use(new EventEmitter_js_1.EventEmitter(networkManager));\n    networkManagerEmitter.on(NetworkManagerEvents_js_1.NetworkManagerEvent.Request, _assertClassBrand(_LifecycleWatcher_brand, this, _onRequest).bind(this));\n    networkManagerEmitter.on(NetworkManagerEvents_js_1.NetworkManagerEvent.Response, _assertClassBrand(_LifecycleWatcher_brand, this, _onResponse).bind(this));\n    networkManagerEmitter.on(NetworkManagerEvents_js_1.NetworkManagerEvent.RequestFailed, _assertClassBrand(_LifecycleWatcher_brand, this, _onRequestFailed).bind(this));\n    _classPrivateFieldSet(_terminationDeferred, this, Deferred_js_1.Deferred.create({\n      timeout: _classPrivateFieldGet(_timeout, this),\n      message: `Navigation timeout of ${_classPrivateFieldGet(_timeout, this)} ms exceeded`\n    }));\n    _assertClassBrand(_LifecycleWatcher_brand, this, _checkLifecycleComplete).call(this);\n  }\n  async navigationResponse() {\n    // Continue with a possibly null response.\n    await _classPrivateFieldGet(_navigationResponseReceived, this)?.valueOrThrow();\n    return _classPrivateFieldGet(_navigationRequest, this) ? _classPrivateFieldGet(_navigationRequest, this).response() : null;\n  }\n  sameDocumentNavigationPromise() {\n    return _classPrivateFieldGet(_sameDocumentNavigationDeferred, this).valueOrThrow();\n  }\n  newDocumentNavigationPromise() {\n    return _classPrivateFieldGet(_newDocumentNavigationDeferred, this).valueOrThrow();\n  }\n  lifecyclePromise() {\n    return _classPrivateFieldGet(_lifecycleDeferred, this).valueOrThrow();\n  }\n  terminationPromise() {\n    return _classPrivateFieldGet(_terminationDeferred, this).valueOrThrow();\n  }\n  dispose() {\n    _classPrivateFieldGet(_subscriptions, this).dispose();\n    _classPrivateFieldGet(_terminationDeferred, this).resolve(new Error('LifecycleWatcher disposed'));\n  }\n}\nfunction _onRequest(request) {\n  if (request.frame() !== _classPrivateFieldGet(_frame, this) || !request.isNavigationRequest()) {\n    return;\n  }\n  _classPrivateFieldSet(_navigationRequest, this, request);\n  // Resolve previous navigation response in case there are multiple\n  // navigation requests reported by the backend. This generally should not\n  // happen by it looks like it's possible.\n  _classPrivateFieldGet(_navigationResponseReceived, this)?.resolve();\n  _classPrivateFieldSet(_navigationResponseReceived, this, Deferred_js_1.Deferred.create());\n  if (request.response() !== null) {\n    _classPrivateFieldGet(_navigationResponseReceived, this)?.resolve();\n  }\n}\nfunction _onRequestFailed(request) {\n  if (_classPrivateFieldGet(_navigationRequest, this)?.id !== request.id) {\n    return;\n  }\n  _classPrivateFieldGet(_navigationResponseReceived, this)?.resolve();\n}\nfunction _onResponse(response) {\n  if (_classPrivateFieldGet(_navigationRequest, this)?.id !== response.request().id) {\n    return;\n  }\n  _classPrivateFieldGet(_navigationResponseReceived, this)?.resolve();\n}\nfunction _onFrameDetached(frame) {\n  if (_classPrivateFieldGet(_frame, this) === frame) {\n    _classPrivateFieldGet(_terminationDeferred, this).resolve(new Error('Navigating frame was detached'));\n    return;\n  }\n  _assertClassBrand(_LifecycleWatcher_brand, this, _checkLifecycleComplete).call(this);\n}\nfunction _navigatedWithinDocument() {\n  _classPrivateFieldSet(_hasSameDocumentNavigation, this, true);\n  _assertClassBrand(_LifecycleWatcher_brand, this, _checkLifecycleComplete).call(this);\n}\nfunction _navigated(navigationType) {\n  if (navigationType === 'BackForwardCacheRestore') {\n    return _assertClassBrand(_LifecycleWatcher_brand, this, _frameSwapped).call(this);\n  }\n  _assertClassBrand(_LifecycleWatcher_brand, this, _checkLifecycleComplete).call(this);\n}\nfunction _frameSwapped() {\n  _classPrivateFieldSet(_swapped, this, true);\n  _assertClassBrand(_LifecycleWatcher_brand, this, _checkLifecycleComplete).call(this);\n}\nfunction _checkLifecycleComplete() {\n  // We expect navigation to commit.\n  if (!checkLifecycle(_classPrivateFieldGet(_frame, this), _classPrivateFieldGet(_expectedLifecycle, this))) {\n    return;\n  }\n  _classPrivateFieldGet(_lifecycleDeferred, this).resolve();\n  if (_classPrivateFieldGet(_hasSameDocumentNavigation, this)) {\n    _classPrivateFieldGet(_sameDocumentNavigationDeferred, this).resolve(undefined);\n  }\n  if (_classPrivateFieldGet(_swapped, this) || _classPrivateFieldGet(_frame, this)._loaderId !== _classPrivateFieldGet(_initialLoaderId, this)) {\n    _classPrivateFieldGet(_newDocumentNavigationDeferred, this).resolve(undefined);\n  }\n  function checkLifecycle(frame, expectedLifecycle) {\n    for (const event of expectedLifecycle) {\n      if (!frame._lifecycleEvents.has(event)) {\n        return false;\n      }\n    }\n    // TODO(#1): Its possible we don't need this check\n    // CDP provided the correct order for Loading Events\n    // And NetworkIdle is a global state\n    // Consider removing\n    for (const child of frame.childFrames()) {\n      if (child._hasStartedLoading && !checkLifecycle(child, expectedLifecycle)) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\nexports.LifecycleWatcher = LifecycleWatcher;","map":{"version":3,"names":["_classPrivateMethodInitSpec","require","default","_classPrivateFieldInitSpec","_assertClassBrand","_classPrivateFieldGet","_classPrivateFieldSet","Frame_js_1","EventEmitter_js_1","NetworkManagerEvents_js_1","assert_js_1","Deferred_js_1","disposable_js_1","FrameManagerEvents_js_1","puppeteerToProtocolLifecycle","Map","_expectedLifecycle","WeakMap","_frame","_timeout","_navigationRequest","_subscriptions","_initialLoaderId","_terminationDeferred","_sameDocumentNavigationDeferred","_lifecycleDeferred","_newDocumentNavigationDeferred","_hasSameDocumentNavigation","_swapped","_navigationResponseReceived","_LifecycleWatcher_brand","WeakSet","LifecycleWatcher","constructor","networkManager","frame","waitUntil","timeout","DisposableStack","Deferred","create","Array","isArray","slice","_loaderId","map","value","protocolEvent","get","assert","frameManagerEmitter","use","EventEmitter","_frameManager","on","FrameManagerEvent","LifecycleEvent","_checkLifecycleComplete","bind","frameEmitter","FrameEvent","FrameNavigatedWithinDocument","_navigatedWithinDocument","FrameNavigated","_navigated","FrameSwapped","_frameSwapped","FrameSwappedByActivation","FrameDetached","_onFrameDetached","networkManagerEmitter","NetworkManagerEvent","Request","_onRequest","Response","_onResponse","RequestFailed","_onRequestFailed","message","call","navigationResponse","valueOrThrow","response","sameDocumentNavigationPromise","newDocumentNavigationPromise","lifecyclePromise","terminationPromise","dispose","resolve","Error","request","isNavigationRequest","id","navigationType","checkLifecycle","undefined","expectedLifecycle","event","_lifecycleEvents","has","child","childFrames","_hasStartedLoading","exports"],"sources":["../../../../src/cdp/LifecycleWatcher.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}