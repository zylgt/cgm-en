{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ip = void 0;\nconst os_1 = __importDefault(require(\"os\"));\nexports.ip = {\n  address() {\n    const interfaces = os_1.default.networkInterfaces();\n    // Default to `ipv4`\n    const family = normalizeFamily();\n    const all = Object.values(interfaces).map((addrs = []) => {\n      const addresses = addrs.filter(details => {\n        const detailsFamily = normalizeFamily(details.family);\n        if (detailsFamily !== family || exports.ip.isLoopback(details.address)) {\n          return false;\n        }\n        return true;\n      });\n      return addresses.length ? addresses[0].address : undefined;\n    }).filter(Boolean);\n    return !all.length ? exports.ip.loopback(family) : all[0];\n  },\n  isLoopback(addr) {\n    return /^(::f{4}:)?127\\.([0-9]{1,3})\\.([0-9]{1,3})\\.([0-9]{1,3})/.test(addr) || /^fe80::1$/.test(addr) || /^::1$/.test(addr) || /^::$/.test(addr);\n  },\n  loopback(family) {\n    // Default to `ipv4`\n    family = normalizeFamily(family);\n    if (family !== 'ipv4' && family !== 'ipv6') {\n      throw new Error('family must be ipv4 or ipv6');\n    }\n    return family === 'ipv4' ? '127.0.0.1' : 'fe80::1';\n  }\n};\nfunction normalizeFamily(family) {\n  if (family === 4) {\n    return 'ipv4';\n  }\n  if (family === 6) {\n    return 'ipv6';\n  }\n  return family ? family.toLowerCase() : 'ipv4';\n}","map":{"version":3,"names":["os_1","__importDefault","require","exports","ip","address","interfaces","default","networkInterfaces","family","normalizeFamily","all","Object","values","map","addrs","addresses","filter","details","detailsFamily","isLoopback","length","undefined","Boolean","loopback","addr","test","Error","toLowerCase"],"sources":["../src/ip.ts"],"sourcesContent":[null],"mappings":";;;;;;;;;;;AAAA,MAAAA,IAAA,GAAAC,eAAA,CAAAC,OAAA;AAEaC,OAAA,CAAAC,EAAE,GAAG;EACjBC,OAAOA,CAAA;IACN,MAAMC,UAAU,GAAGN,IAAA,CAAAO,OAAE,CAACC,iBAAiB,EAAE;IAEzC;IACA,MAAMC,MAAM,GAAGC,eAAe,EAAE;IAEhC,MAAMC,GAAG,GAAGC,MAAM,CAACC,MAAM,CAACP,UAAU,CAAC,CAACQ,GAAG,CAAC,CAACC,KAAK,GAAG,EAAE,KAAI;MACxD,MAAMC,SAAS,GAAGD,KAAK,CAACE,MAAM,CAAEC,OAAO,IAAI;QAC1C,MAAMC,aAAa,GAAGT,eAAe,CAACQ,OAAO,CAACT,MAAM,CAAC;QACrD,IAAIU,aAAa,KAAKV,MAAM,IAAIN,OAAA,CAAAC,EAAE,CAACgB,UAAU,CAACF,OAAO,CAACb,OAAO,CAAC,EAAE;UAC/D,OAAO,KAAK;;QAEb,OAAO,IAAI;MAEZ,CAAC,CAAC;MAEF,OAAOW,SAAS,CAACK,MAAM,GAAGL,SAAS,CAAC,CAAC,CAAC,CAACX,OAAO,GAAGiB,SAAS;IAC3D,CAAC,CAAC,CAACL,MAAM,CAACM,OAAO,CAAC;IAElB,OAAO,CAACZ,GAAG,CAACU,MAAM,GAAGlB,OAAA,CAAAC,EAAE,CAACoB,QAAQ,CAACf,MAAM,CAAC,GAAGE,GAAG,CAAC,CAAC,CAAW;EAC5D,CAAC;EAEDS,UAAUA,CAACK,IAAY;IACtB,OAAO,0DAA0D,CAC/DC,IAAI,CAACD,IAAI,CAAC,IACR,WAAW,CAACC,IAAI,CAACD,IAAI,CAAC,IACtB,OAAO,CAACC,IAAI,CAACD,IAAI,CAAC,IAClB,MAAM,CAACC,IAAI,CAACD,IAAI,CAAC;EACtB,CAAC;EAEDD,QAAQA,CAACf,MAAgB;IACxB;IACAA,MAAM,GAAGC,eAAe,CAACD,MAAM,CAAC;IAEhC,IAAIA,MAAM,KAAK,MAAM,IAAIA,MAAM,KAAK,MAAM,EAAE;MAC3C,MAAM,IAAIkB,KAAK,CAAC,6BAA6B,CAAC;;IAG/C,OAAOlB,MAAM,KAAK,MAAM,GAAG,WAAW,GAAG,SAAS;EACnD;CAEA;AAED,SAASC,eAAeA,CAACD,MAAgB;EACxC,IAAIA,MAAM,KAAK,CAAC,EAAE;IACjB,OAAO,MAAM;;EAEd,IAAIA,MAAM,KAAK,CAAC,EAAE;IACjB,OAAO,MAAM;;EAEd,OAAOA,MAAM,GAAIA,MAAiB,CAACmB,WAAW,EAAc,GAAG,MAAM;AACtE","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}