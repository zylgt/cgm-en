{"ast":null,"code":"\"use strict\";\n\n/**\n * @license\n * Copyright 2023 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nvar _classPrivateMethodInitSpec = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateMethodInitSpec.js\").default;\nvar _defineProperty = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/defineProperty.js\").default;\nvar _classPrivateFieldInitSpec = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldInitSpec.js\").default;\nvar _classPrivateGetter = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateGetter.js\").default;\nvar _classPrivateFieldGet = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldGet2.js\").default;\nvar _classPrivateFieldSet = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldSet2.js\").default;\nvar _assertClassBrand = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/assertClassBrand.js\").default;\nrequire(\"core-js/modules/es.array.push.js\");\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __addDisposableResource = this && this.__addDisposableResource || function (env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose;\n    if (async) {\n      if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n      dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n      if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n      dispose = value[Symbol.dispose];\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    env.stack.push({\n      value: value,\n      dispose: dispose,\n      async: async\n    });\n  } else if (async) {\n    env.stack.push({\n      async: true\n    });\n  }\n  return value;\n};\nvar __disposeResources = this && this.__disposeResources || function (SuppressedError) {\n  return function (env) {\n    function fail(e) {\n      env.error = env.hasError ? new SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n      env.hasError = true;\n    }\n    function next() {\n      while (env.stack.length) {\n        var rec = env.stack.pop();\n        try {\n          var result = rec.dispose && rec.dispose.call(rec.value);\n          if (rec.async) return Promise.resolve(result).then(next, function (e) {\n            fail(e);\n            return next();\n          });\n        } catch (e) {\n          fail(e);\n        }\n      }\n      if (env.hasError) throw env.error;\n    }\n    return next();\n  };\n}(typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n});\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ExposeableFunction = void 0;\nconst Bidi = __importStar(require(\"chromium-bidi/lib/cjs/protocol/protocol.js\"));\nconst EventEmitter_js_1 = require(\"../common/EventEmitter.js\");\nconst util_js_1 = require(\"../common/util.js\");\nconst disposable_js_1 = require(\"../util/disposable.js\");\nconst Function_js_1 = require(\"../util/Function.js\");\nconst ElementHandle_js_1 = require(\"./ElementHandle.js\");\nconst JSHandle_js_1 = require(\"./JSHandle.js\");\n/**\n * @internal\n */\nvar _frame = /*#__PURE__*/new WeakMap();\nvar _apply = /*#__PURE__*/new WeakMap();\nvar _isolate = /*#__PURE__*/new WeakMap();\nvar _channel = /*#__PURE__*/new WeakMap();\nvar _scripts = /*#__PURE__*/new WeakMap();\nvar _disposables = /*#__PURE__*/new WeakMap();\nvar _ExposeableFunction_brand = /*#__PURE__*/new WeakSet();\nvar _handleMessage = /*#__PURE__*/new WeakMap();\nclass ExposeableFunction {\n  static async from(frame, name, apply, isolate = false) {\n    const func = new ExposeableFunction(frame, name, apply, isolate);\n    await _assertClassBrand(_ExposeableFunction_brand, func, _initialize).call(func);\n    return func;\n  }\n  constructor(_frame2, _name, apply, isolate = false) {\n    _classPrivateMethodInitSpec(this, _ExposeableFunction_brand);\n    _classPrivateFieldInitSpec(this, _frame, void 0);\n    _defineProperty(this, \"name\", void 0);\n    _classPrivateFieldInitSpec(this, _apply, void 0);\n    _classPrivateFieldInitSpec(this, _isolate, void 0);\n    _classPrivateFieldInitSpec(this, _channel, void 0);\n    _classPrivateFieldInitSpec(this, _scripts, []);\n    _classPrivateFieldInitSpec(this, _disposables, new disposable_js_1.DisposableStack());\n    _classPrivateFieldInitSpec(this, _handleMessage, async params => {\n      const env_1 = {\n        stack: [],\n        error: void 0,\n        hasError: false\n      };\n      try {\n        if (params.channel !== _classPrivateFieldGet(_channel, this)) {\n          return;\n        }\n        const realm = _assertClassBrand(_ExposeableFunction_brand, this, _getRealm).call(this, params.source);\n        if (!realm) {\n          // Unrelated message.\n          return;\n        }\n        const dataHandle = __addDisposableResource(env_1, JSHandle_js_1.BidiJSHandle.from(params.data, realm), false);\n        const argsHandle = __addDisposableResource(env_1, await dataHandle.evaluateHandle(([,, args]) => {\n          return args;\n        }), false);\n        const stack = __addDisposableResource(env_1, new disposable_js_1.DisposableStack(), false);\n        const args = [];\n        for (const [index, handle] of await argsHandle.getProperties()) {\n          stack.use(handle);\n          // Element handles are passed as is.\n          if (handle instanceof ElementHandle_js_1.BidiElementHandle) {\n            args[+index] = handle;\n            stack.use(handle);\n            continue;\n          }\n          // Everything else is passed as the JS value.\n          args[+index] = handle.jsonValue();\n        }\n        let result;\n        try {\n          result = await _classPrivateFieldGet(_apply, this).call(this, ...(await Promise.all(args)));\n        } catch (error) {\n          try {\n            if (error instanceof Error) {\n              await dataHandle.evaluate(([, reject], name, message, stack) => {\n                const error = new Error(message);\n                error.name = name;\n                if (stack) {\n                  error.stack = stack;\n                }\n                reject(error);\n              }, error.name, error.message, error.stack);\n            } else {\n              await dataHandle.evaluate(([, reject], error) => {\n                reject(error);\n              }, error);\n            }\n          } catch (error) {\n            (0, util_js_1.debugError)(error);\n          }\n          return;\n        }\n        try {\n          await dataHandle.evaluate(([resolve], result) => {\n            resolve(result);\n          }, result);\n        } catch (error) {\n          (0, util_js_1.debugError)(error);\n        }\n      } catch (e_1) {\n        env_1.error = e_1;\n        env_1.hasError = true;\n      } finally {\n        __disposeResources(env_1);\n      }\n    });\n    _classPrivateFieldSet(_frame, this, _frame2);\n    this.name = _name;\n    _classPrivateFieldSet(_apply, this, apply);\n    _classPrivateFieldSet(_isolate, this, isolate);\n    _classPrivateFieldSet(_channel, this, `__puppeteer__${_classPrivateFieldGet(_frame, this)._id}_page_exposeFunction_${this.name}`);\n  }\n  [Symbol.dispose]() {\n    void this[Symbol.asyncDispose]().catch(util_js_1.debugError);\n  }\n  async [Symbol.asyncDispose]() {\n    _classPrivateFieldGet(_disposables, this).dispose();\n    await Promise.all(_classPrivateFieldGet(_scripts, this).map(async ([frame, script]) => {\n      const realm = _classPrivateFieldGet(_isolate, this) ? frame.isolatedRealm() : frame.mainRealm();\n      try {\n        await Promise.all([realm.evaluate(name => {\n          delete globalThis[name];\n        }, this.name), frame.browsingContext.removePreloadScript(script)]);\n      } catch (error) {\n        (0, util_js_1.debugError)(error);\n      }\n    }));\n  }\n}\nasync function _initialize() {\n  const connection = _classPrivateGetter(_ExposeableFunction_brand, this, _get_connection);\n  const channel = {\n    type: 'channel',\n    value: {\n      channel: _classPrivateFieldGet(_channel, this),\n      ownership: \"root\" /* Bidi.Script.ResultOwnership.Root */\n    }\n  };\n  const connectionEmitter = _classPrivateFieldGet(_disposables, this).use(new EventEmitter_js_1.EventEmitter(connection));\n  connectionEmitter.on(Bidi.ChromiumBidi.Script.EventNames.Message, _classPrivateFieldGet(_handleMessage, this));\n  const functionDeclaration = (0, Function_js_1.stringifyFunction)((0, Function_js_1.interpolateFunction)(callback => {\n    Object.assign(globalThis, {\n      [PLACEHOLDER('name')]: function (...args) {\n        return new Promise((resolve, reject) => {\n          callback([resolve, reject, args]);\n        });\n      }\n    });\n  }, {\n    name: JSON.stringify(this.name)\n  }));\n  const frames = [_classPrivateFieldGet(_frame, this)];\n  for (const frame of frames) {\n    frames.push(...frame.childFrames());\n  }\n  await Promise.all(frames.map(async frame => {\n    const realm = _classPrivateFieldGet(_isolate, this) ? frame.isolatedRealm() : frame.mainRealm();\n    try {\n      const [script] = await Promise.all([frame.browsingContext.addPreloadScript(functionDeclaration, {\n        arguments: [channel],\n        sandbox: realm.sandbox\n      }), realm.realm.callFunction(functionDeclaration, false, {\n        arguments: [channel]\n      })]);\n      _classPrivateFieldGet(_scripts, this).push([frame, script]);\n    } catch (error) {\n      // If it errors, the frame probably doesn't support call function. We\n      // fail gracefully.\n      (0, util_js_1.debugError)(error);\n    }\n  }));\n}\nfunction _get_connection(_this) {\n  return _classPrivateFieldGet(_frame, _this).page().browser().connection;\n}\nfunction _getRealm(source) {\n  const frame = _assertClassBrand(_ExposeableFunction_brand, this, _findFrame).call(this, source.context);\n  if (!frame) {\n    // Unrelated message.\n    return;\n  }\n  return frame.realm(source.realm);\n}\nfunction _findFrame(id) {\n  const frames = [_classPrivateFieldGet(_frame, this)];\n  for (const frame of frames) {\n    if (frame._id === id) {\n      return frame;\n    }\n    frames.push(...frame.childFrames());\n  }\n  return;\n}\nexports.ExposeableFunction = ExposeableFunction;","map":{"version":3,"names":["_classPrivateMethodInitSpec","require","default","_defineProperty","_classPrivateFieldInitSpec","_classPrivateGetter","_classPrivateFieldGet","_classPrivateFieldSet","_assertClassBrand","Bidi","__importStar","EventEmitter_js_1","util_js_1","disposable_js_1","Function_js_1","ElementHandle_js_1","JSHandle_js_1","_frame","WeakMap","_apply","_isolate","_channel","_scripts","_disposables","_ExposeableFunction_brand","WeakSet","_handleMessage","ExposeableFunction","from","frame","name","apply","isolate","func","_initialize","call","constructor","DisposableStack","params","channel","realm","_getRealm","source","dataHandle","__addDisposableResource","env_1","BidiJSHandle","data","argsHandle","evaluateHandle","args","stack","index","handle","getProperties","use","BidiElementHandle","jsonValue","result","Promise","all","error","Error","evaluate","reject","message","debugError","resolve","_id","Symbol","dispose","asyncDispose","catch","map","script","isolatedRealm","mainRealm","globalThis","browsingContext","removePreloadScript","connection","_get_connection","type","value","ownership","connectionEmitter","EventEmitter","on","ChromiumBidi","Script","EventNames","Message","functionDeclaration","stringifyFunction","interpolateFunction","callback","Object","assign","PLACEHOLDER","JSON","stringify","frames","push","childFrames","addPreloadScript","arguments","sandbox","callFunction","_this","page","browser","_findFrame","context","id","exports"],"sources":["../../../../src/bidi/ExposedFunction.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}