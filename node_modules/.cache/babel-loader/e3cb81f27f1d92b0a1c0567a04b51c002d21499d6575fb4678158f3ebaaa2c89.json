{"ast":null,"code":"\"use strict\";\n\n/**\n * @license\n * Copyright 2019 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nvar _classPrivateFieldInitSpec = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldInitSpec.js\").default;\nvar _classPrivateFieldGet = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldGet2.js\").default;\nvar _classPrivateFieldSet = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldSet2.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.releaseObject = exports.CdpJSHandle = void 0;\nconst JSHandle_js_1 = require(\"../api/JSHandle.js\");\nconst util_js_1 = require(\"../common/util.js\");\nconst utils_js_1 = require(\"./utils.js\");\n/**\n * @internal\n */\nvar _disposed = /*#__PURE__*/new WeakMap();\nvar _remoteObject = /*#__PURE__*/new WeakMap();\nvar _world = /*#__PURE__*/new WeakMap();\nclass CdpJSHandle extends JSHandle_js_1.JSHandle {\n  constructor(world, remoteObject) {\n    super();\n    _classPrivateFieldInitSpec(this, _disposed, false);\n    _classPrivateFieldInitSpec(this, _remoteObject, void 0);\n    _classPrivateFieldInitSpec(this, _world, void 0);\n    _classPrivateFieldSet(_world, this, world);\n    _classPrivateFieldSet(_remoteObject, this, remoteObject);\n  }\n  get disposed() {\n    return _classPrivateFieldGet(_disposed, this);\n  }\n  get realm() {\n    return _classPrivateFieldGet(_world, this);\n  }\n  get client() {\n    return this.realm.environment.client;\n  }\n  async jsonValue() {\n    if (!_classPrivateFieldGet(_remoteObject, this).objectId) {\n      return (0, utils_js_1.valueFromRemoteObject)(_classPrivateFieldGet(_remoteObject, this));\n    }\n    const value = await this.evaluate(object => {\n      return object;\n    });\n    if (value === undefined) {\n      throw new Error('Could not serialize referenced object');\n    }\n    return value;\n  }\n  /**\n   * Either `null` or the handle itself if the handle is an\n   * instance of {@link ElementHandle}.\n   */\n  asElement() {\n    return null;\n  }\n  async dispose() {\n    if (_classPrivateFieldGet(_disposed, this)) {\n      return;\n    }\n    _classPrivateFieldSet(_disposed, this, true);\n    await releaseObject(this.client, _classPrivateFieldGet(_remoteObject, this));\n  }\n  toString() {\n    if (!_classPrivateFieldGet(_remoteObject, this).objectId) {\n      return 'JSHandle:' + (0, utils_js_1.valueFromRemoteObject)(_classPrivateFieldGet(_remoteObject, this));\n    }\n    const type = _classPrivateFieldGet(_remoteObject, this).subtype || _classPrivateFieldGet(_remoteObject, this).type;\n    return 'JSHandle@' + type;\n  }\n  get id() {\n    return _classPrivateFieldGet(_remoteObject, this).objectId;\n  }\n  remoteObject() {\n    return _classPrivateFieldGet(_remoteObject, this);\n  }\n}\nexports.CdpJSHandle = CdpJSHandle;\n/**\n * @internal\n */\nasync function releaseObject(client, remoteObject) {\n  if (!remoteObject.objectId) {\n    return;\n  }\n  await client.send('Runtime.releaseObject', {\n    objectId: remoteObject.objectId\n  }).catch(error => {\n    // Exceptions might happen in case of a page been navigated or closed.\n    // Swallow these since they are harmless and we don't leak anything in this case.\n    (0, util_js_1.debugError)(error);\n  });\n}\nexports.releaseObject = releaseObject;","map":{"version":3,"names":["_classPrivateFieldInitSpec","require","default","_classPrivateFieldGet","_classPrivateFieldSet","JSHandle_js_1","util_js_1","utils_js_1","_disposed","WeakMap","_remoteObject","_world","CdpJSHandle","JSHandle","constructor","world","remoteObject","disposed","realm","client","environment","jsonValue","objectId","valueFromRemoteObject","value","evaluate","object","undefined","Error","asElement","dispose","releaseObject","toString","type","subtype","id","exports","send","catch","error","debugError"],"sources":["../../../../src/cdp/JSHandle.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}