{"ast":null,"code":"import TChart from '@/views/components/TChart';\nimport { mapGetters } from \"vuex\";\nexport default {\n  data() {\n    return {\n      initOptions: {\n        renderer: 'svg'\n      },\n      option: {\n        grid: [{\n          left: 60,\n          right: 30,\n          top: 10,\n          bottom: 50\n        }],\n        xAxis: [{\n          type: 'category',\n          gridIndex: 0,\n          boundaryGap: false,\n          axisTick: false,\n          splitLine: {\n            show: false,\n            lineStyle: {\n              color: 'var(--color-black-60)'\n            },\n            interval: 59\n          },\n          axisLine: {\n            show: true,\n            lineStyle: {\n              color: 'var(--color-black-60)',\n              width: 1\n            }\n          },\n          data: [],\n          axisLabel: {\n            formatter: function (value, index) {\n              if (index % 360 === 0) {\n                let h = Math.floor(value / 60) < 10 ? '0' + Math.floor(value / 60) : Math.floor(value / 60);\n                let m = value % 60 < 10 ? '0' + value % 60 : value % 60;\n                let moment = h + ':' + m;\n                return moment;\n              }\n              if (index + 1 === 24 * 60) {\n                return '00:00';\n              }\n            },\n            interval: 0,\n            color: 'var(--color-black-60)',\n            fontSize: 20,\n            margin: 20\n          }\n        }],\n        yAxis: [{\n          type: 'value',\n          gridIndex: 0,\n          min: 0,\n          max: 15,\n          splitLine: {\n            lineStyle: {\n              color: 'var(--color-black-60)'\n            }\n          },\n          axisLabel: {\n            formatter: '{value}',\n            color: 'var(--color-black-60)',\n            fontSize: 20,\n            margin: 14\n          }\n        }],\n        series: [\n        //中位线\n        {\n          type: 'line',\n          data: [],\n          z: 9,\n          itemStyle: {\n            color: 'var(--color-primary)'\n          },\n          showSymbol: _.compact(this.dataList.value).length > 1 ? false : true,\n          symbolSize: 1,\n          symbol: 'circle',\n          emphasis: {\n            disabled: true\n          },\n          lineStyle: {\n            width: 2\n          },\n          animation: false,\n          markLine: {\n            silent: true,\n            // 不高亮辅助线\n            symbol: 'none',\n            animation: false,\n            data: [{\n              type: 'min',\n              yAxis: 3.9,\n              lineStyle: {\n                color: 'var(--color-error)',\n                width: 2,\n                type: 'solid'\n              },\n              label: {\n                color: 'var(--color-error)',\n                fontSize: 20,\n                distance: 14,\n                position: 'start'\n              }\n            }, {\n              type: 'max',\n              yAxis: 10,\n              lineStyle: {\n                color: 'var(--color-warning)',\n                width: 2,\n                type: 'solid'\n              },\n              label: {\n                color: 'var(--color-warning)',\n                fontSize: 20,\n                distance: 14,\n                position: 'start'\n              }\n            }]\n          },\n          markArea: {\n            data: [[{\n              yAxis: 3.9\n            }, {\n              yAxis: 10\n            }]],\n            itemStyle: {\n              color: 'rgba(72, 160, 220, 0.05)'\n            }\n          }\n        }]\n      },\n      dayInfo: ''\n    };\n  },\n  props: {\n    dataList: {\n      type: Object\n    }\n  },\n  components: {\n    TChart\n  },\n  computed: {\n    ...mapGetters(['unit'])\n  }\n};","map":{"version":3,"names":["TChart","mapGetters","data","initOptions","renderer","option","grid","left","right","top","bottom","xAxis","type","gridIndex","boundaryGap","axisTick","splitLine","show","lineStyle","color","interval","axisLine","width","axisLabel","formatter","value","index","h","Math","floor","m","moment","fontSize","margin","yAxis","min","max","series","z","itemStyle","showSymbol","_","compact","dataList","length","symbolSize","symbol","emphasis","disabled","animation","markLine","silent","label","distance","position","markArea","dayInfo","props","Object","components","computed"],"sources":["src/views/report/components/weekAnalysis.vue"],"sourcesContent":["<template>\n    <div>\n        <div class='chart-box'>\n            <div class='analysis-info' >\n                <div class='analysis-info-item' >\n                    <div class='analysis-info-label' >目标范围内占比</div>\n                    <div :class='[dayInfo.tir<70?\"active\":\"\",\"analysis-info-value\"]' >{{dayInfo.tir}}%</div>\n                </div>\n                <div class='analysis-info-item' >\n                    <div class='analysis-info-label' >平均葡萄糖值</div>\n                    <div  :class='[dayInfo.avg>118.8?\"active\":\"\",\"analysis-info-value\"]' v-if='unit==\"mg/dL\"'>{{dayInfo.avg}} mg/dL </div>\n                    <div  :class='[dayInfo.avg>6.6?\"active\":\"\",\"analysis-info-value\"]' v-else>{{dayInfo.avg}} mmol/L </div>\n                </div>\n                <div class='analysis-info-item' >\n                    <div class='analysis-info-label' >预估HbA1c（GMI）</div>\n                    <div :class='[dayInfo.lowTir>5?\"active\":\"\",\"analysis-info-value\"]' >{{dayInfo.lowTir}}%</div>\n                </div>\n                <div class='analysis-info-item' >\n                    <div class='analysis-info-label' >变异系数（CV）</div>\n                    <div :class='[dayInfo.hightTir>25?\"active\":\"\",\"analysis-info-value\"]' >{{dayInfo.hightTir}}%</div>\n                </div>\n            </div>\n            <t-chart\n                    style=\"flex-grow:1;height:450px;\"\n                    :option=\"option\"\n                    :init-options=\"initOptions\"\n                    theme=\"tduck-echarts-theme\"\n            />\n        </div>\n    </div>\n</template>\n<script>\nimport TChart from '@/views/components/TChart'\nimport {mapGetters} from \"vuex\"\nexport default {\n    data(){\n        return{\n             initOptions: {\n                renderer: 'svg'\n            },\n            option: {\n                grid:[\n                    {\n                        left:60,\n                        right:30,\n                        top:10,\n                        bottom:50\n                    }\n                ],\n                xAxis: [\n                    {\n                        type: 'category',\n                        gridIndex:0,\n                        boundaryGap:false,\n                        axisTick: false,\n                        splitLine:{\n                            show:false,\n                            lineStyle:{\n                                color:'var(--color-black-60)'\n                            },\n                            interval:59\n                        },\n                        axisLine: {\n                            show: true,\n                            lineStyle: {\n                                color: 'var(--color-black-60)',\n                                width:1,\n                            },\n                        },\n                        data:[],\n                        axisLabel: {\n                            formatter: function (value, index) {\n                                if (index  % 360 === 0) {\n                                    let h =  Math.floor(value/60)<10 ? '0'+ Math.floor(value/60) : Math.floor(value/60) \n                                    let m =  value%60 < 10 ? '0' + value%60 : value%60\n                                    let moment = h+':'+m\n                                    return moment;\n                                }\n                                if(index+1===24*60){\n                                    return '00:00'\n                                }\n                            },\n                            interval:0,\n                            color: 'var(--color-black-60)',\n                            fontSize: 20, \n                            margin:20\n                        }\n                    }\n                ],\n                yAxis: [\n                    {\n                        type: 'value',\n                        gridIndex:0,\n                        min: 0,\n                        max: 15,\n                        splitLine:{\n                            lineStyle:{\n                                color:'var(--color-black-60)'\n                            }\n                        },\n                        axisLabel: {\n                            formatter: '{value}',\n                            color: 'var(--color-black-60)',\n                            fontSize: 20,\n                            margin:14\n                        }\n                    }\n                ],\n                series: [\n                    //中位线\n                    {\n                        type: 'line',\n                        data: [],\n                        z:9,\n                        itemStyle: {\n                        color:'var(--color-primary)',\n                        },\n                        showSymbol:_.compact(this.dataList.value).length>1?false:true,\n                        symbolSize:1,\n                        symbol:'circle',\n                        emphasis:{\n                            disabled:true\n                        },\n                        lineStyle: {\n                        width: 2,\n                        },\n                        animation:false,\n                        markLine: {\n                            silent: true, // 不高亮辅助线\n                            symbol: 'none',\n                            animation:false,\n                            data: [\n                                {\n                                type: 'min',\n                                yAxis:3.9,\n                                lineStyle: {\n                                    color: 'var(--color-error)',\n                                    width: 2,\n                                    type:'solid'\n                                },\n                                label: {\n                                    color: 'var(--color-error)',\n                                    fontSize: 20,\n                                    distance: 14,\n                                    position:'start'\n                                },\n                                },\n                                {\n                                type: 'max',\n                                yAxis:10,\n                                lineStyle: {\n                                    color: 'var(--color-warning)',\n                                    width: 2,\n                                    type:'solid'\n                                },\n                                label: {\n                                    color: 'var(--color-warning)',\n                                    fontSize: 20,\n                                    distance:14,\n                                    position:'start'\n                                },\n                                },\n                            ],\n                        },\n                        markArea:{\n                            data:[\n                                [{\n                                    yAxis: 3.9\n                                },\n                                {   \n                                    yAxis: 10\n                                }]\n                            ],\n                            itemStyle:{\n                                color:'rgba(72, 160, 220, 0.05)'\n                            }\n                        },\n                    }\n                ],\n\n                \n            },\n            dayInfo:''\n        }\n    },\n    props:{\n        dataList:{\n            type:Object\n        }\n    },\n    components: {\n        TChart\n    },\n    computed:{\n         ...mapGetters([\n            'unit']),\n    },\n}\n</script>\n<style scoped>\n/* 图表血糖信息 */\n.chart-box{\n    display: flex;\n    height:450px;\n    margin-bottom:20px;\n}\n.analysis-info{\n    width:180px;\n    height:450px;\n    background: #f7f7f7;\n    box-sizing: border-box;\n    padding:10px;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n     font-size:var(--fontSize-max);\n    color: var(--color-black-100);\n}\n.analysis-info-value.active{\n    color:var(--color-error);\n}\n</style>"],"mappings":"AAgCA,OAAAA,MAAA;AACA,SAAAC,UAAA;AACA;EACAC,KAAA;IACA;MACAC,WAAA;QACAC,QAAA;MACA;MACAC,MAAA;QACAC,IAAA,GACA;UACAC,IAAA;UACAC,KAAA;UACAC,GAAA;UACAC,MAAA;QACA,EACA;QACAC,KAAA,GACA;UACAC,IAAA;UACAC,SAAA;UACAC,WAAA;UACAC,QAAA;UACAC,SAAA;YACAC,IAAA;YACAC,SAAA;cACAC,KAAA;YACA;YACAC,QAAA;UACA;UACAC,QAAA;YACAJ,IAAA;YACAC,SAAA;cACAC,KAAA;cACAG,KAAA;YACA;UACA;UACApB,IAAA;UACAqB,SAAA;YACAC,SAAA,WAAAA,CAAAC,KAAA,EAAAC,KAAA;cACA,IAAAA,KAAA;gBACA,IAAAC,CAAA,GAAAC,IAAA,CAAAC,KAAA,CAAAJ,KAAA,oBAAAG,IAAA,CAAAC,KAAA,CAAAJ,KAAA,SAAAG,IAAA,CAAAC,KAAA,CAAAJ,KAAA;gBACA,IAAAK,CAAA,GAAAL,KAAA,mBAAAA,KAAA,QAAAA,KAAA;gBACA,IAAAM,MAAA,GAAAJ,CAAA,SAAAG,CAAA;gBACA,OAAAC,MAAA;cACA;cACA,IAAAL,KAAA;gBACA;cACA;YACA;YACAN,QAAA;YACAD,KAAA;YACAa,QAAA;YACAC,MAAA;UACA;QACA,EACA;QACAC,KAAA,GACA;UACAtB,IAAA;UACAC,SAAA;UACAsB,GAAA;UACAC,GAAA;UACApB,SAAA;YACAE,SAAA;cACAC,KAAA;YACA;UACA;UACAI,SAAA;YACAC,SAAA;YACAL,KAAA;YACAa,QAAA;YACAC,MAAA;UACA;QACA,EACA;QACAI,MAAA;QACA;QACA;UACAzB,IAAA;UACAV,IAAA;UACAoC,CAAA;UACAC,SAAA;YACApB,KAAA;UACA;UACAqB,UAAA,EAAAC,CAAA,CAAAC,OAAA,MAAAC,QAAA,CAAAlB,KAAA,EAAAmB,MAAA;UACAC,UAAA;UACAC,MAAA;UACAC,QAAA;YACAC,QAAA;UACA;UACA9B,SAAA;YACAI,KAAA;UACA;UACA2B,SAAA;UACAC,QAAA;YACAC,MAAA;YAAA;YACAL,MAAA;YACAG,SAAA;YACA/C,IAAA,GACA;cACAU,IAAA;cACAsB,KAAA;cACAhB,SAAA;gBACAC,KAAA;gBACAG,KAAA;gBACAV,IAAA;cACA;cACAwC,KAAA;gBACAjC,KAAA;gBACAa,QAAA;gBACAqB,QAAA;gBACAC,QAAA;cACA;YACA,GACA;cACA1C,IAAA;cACAsB,KAAA;cACAhB,SAAA;gBACAC,KAAA;gBACAG,KAAA;gBACAV,IAAA;cACA;cACAwC,KAAA;gBACAjC,KAAA;gBACAa,QAAA;gBACAqB,QAAA;gBACAC,QAAA;cACA;YACA;UAEA;UACAC,QAAA;YACArD,IAAA,GACA;cACAgC,KAAA;YACA,GACA;cACAA,KAAA;YACA,GACA;YACAK,SAAA;cACApB,KAAA;YACA;UACA;QACA;MAIA;MACAqC,OAAA;IACA;EACA;EACAC,KAAA;IACAd,QAAA;MACA/B,IAAA,EAAA8C;IACA;EACA;EACAC,UAAA;IACA3D;EACA;EACA4D,QAAA;IACA,GAAA3D,UAAA,EACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}