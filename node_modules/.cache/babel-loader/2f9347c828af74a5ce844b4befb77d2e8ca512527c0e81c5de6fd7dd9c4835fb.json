{"ast":null,"code":"import _classPrivateFieldInitSpec from \"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/esm/classPrivateFieldInitSpec.js\";\nimport _classPrivateFieldGet from \"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/esm/classPrivateFieldGet2.js\";\nimport _classPrivateFieldSet from \"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/esm/classPrivateFieldSet2.js\";\n/**\n * @license\n * Copyright 2019 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nimport { JSHandle } from '../api/JSHandle.js';\nimport { debugError } from '../common/util.js';\nimport { valueFromRemoteObject } from './utils.js';\n/**\n * @internal\n */\nvar _disposed = /*#__PURE__*/new WeakMap();\nvar _remoteObject = /*#__PURE__*/new WeakMap();\nvar _world = /*#__PURE__*/new WeakMap();\nexport class CdpJSHandle extends JSHandle {\n  constructor(world, remoteObject) {\n    super();\n    _classPrivateFieldInitSpec(this, _disposed, false);\n    _classPrivateFieldInitSpec(this, _remoteObject, void 0);\n    _classPrivateFieldInitSpec(this, _world, void 0);\n    _classPrivateFieldSet(_world, this, world);\n    _classPrivateFieldSet(_remoteObject, this, remoteObject);\n  }\n  get disposed() {\n    return _classPrivateFieldGet(_disposed, this);\n  }\n  get realm() {\n    return _classPrivateFieldGet(_world, this);\n  }\n  get client() {\n    return this.realm.environment.client;\n  }\n  async jsonValue() {\n    if (!_classPrivateFieldGet(_remoteObject, this).objectId) {\n      return valueFromRemoteObject(_classPrivateFieldGet(_remoteObject, this));\n    }\n    const value = await this.evaluate(object => {\n      return object;\n    });\n    if (value === undefined) {\n      throw new Error('Could not serialize referenced object');\n    }\n    return value;\n  }\n  /**\n   * Either `null` or the handle itself if the handle is an\n   * instance of {@link ElementHandle}.\n   */\n  asElement() {\n    return null;\n  }\n  async dispose() {\n    if (_classPrivateFieldGet(_disposed, this)) {\n      return;\n    }\n    _classPrivateFieldSet(_disposed, this, true);\n    await releaseObject(this.client, _classPrivateFieldGet(_remoteObject, this));\n  }\n  toString() {\n    if (!_classPrivateFieldGet(_remoteObject, this).objectId) {\n      return 'JSHandle:' + valueFromRemoteObject(_classPrivateFieldGet(_remoteObject, this));\n    }\n    const type = _classPrivateFieldGet(_remoteObject, this).subtype || _classPrivateFieldGet(_remoteObject, this).type;\n    return 'JSHandle@' + type;\n  }\n  get id() {\n    return _classPrivateFieldGet(_remoteObject, this).objectId;\n  }\n  remoteObject() {\n    return _classPrivateFieldGet(_remoteObject, this);\n  }\n}\n/**\n * @internal\n */\nexport async function releaseObject(client, remoteObject) {\n  if (!remoteObject.objectId) {\n    return;\n  }\n  await client.send('Runtime.releaseObject', {\n    objectId: remoteObject.objectId\n  }).catch(error => {\n    // Exceptions might happen in case of a page been navigated or closed.\n    // Swallow these since they are harmless and we don't leak anything in this case.\n    debugError(error);\n  });\n}","map":{"version":3,"names":["JSHandle","debugError","valueFromRemoteObject","_disposed","WeakMap","_remoteObject","_world","CdpJSHandle","constructor","world","remoteObject","_classPrivateFieldInitSpec","_classPrivateFieldSet","disposed","_classPrivateFieldGet","realm","client","environment","jsonValue","objectId","value","evaluate","object","undefined","Error","asElement","dispose","releaseObject","toString","type","subtype","id","send","catch","error"],"sources":["../../../../src/cdp/JSHandle.ts"],"sourcesContent":[null],"mappings":";;;AAAA;;;;;AASA,SAAQA,QAAQ,QAAO,oBAAoB;AAC3C,SAAQC,UAAU,QAAO,mBAAmB;AAI5C,SAAQC,qBAAqB,QAAO,YAAY;AAEhD;;;AAAA,IAAAC,SAAA,oBAAAC,OAAA;AAAA,IAAAC,aAAA,oBAAAD,OAAA;AAAA,IAAAE,MAAA,oBAAAF,OAAA;AAGA,OAAM,MAAOG,WAAyB,SAAQP,QAAW;EAKvDQ,YACEC,KAAoB,EACpBC,YAA2C;IAE3C,KAAK,EAAE;IAACC,0BAAA,OAAAR,SAAA,EARE,KAAK;IAAAQ,0BAAA,OAAAN,aAAA;IAAAM,0BAAA,OAAAL,MAAA;IASfM,qBAAA,CAAAN,MAAA,MAAI,EAAUG,KAAK;IACnBG,qBAAA,CAAAP,aAAA,MAAI,EAAiBK,YAAY;EACnC;EAEA,IAAaG,QAAQA,CAAA;IACnB,OAAAC,qBAAA,CAAAX,SAAA,EAAO,IAAI;EACb;EAEA,IAAaY,KAAKA,CAAA;IAChB,OAAAD,qBAAA,CAAAR,MAAA,EAAO,IAAI;EACb;EAEA,IAAIU,MAAMA,CAAA;IACR,OAAO,IAAI,CAACD,KAAK,CAACE,WAAW,CAACD,MAAM;EACtC;EAES,MAAME,SAASA,CAAA;IACtB,IAAI,CAACJ,qBAAA,CAAAT,aAAA,MAAI,EAAec,QAAQ,EAAE;MAChC,OAAOjB,qBAAqB,CAAAY,qBAAA,CAAAT,aAAA,EAAC,IAAI,CAAc,CAAC;IAClD;IACA,MAAMe,KAAK,GAAG,MAAM,IAAI,CAACC,QAAQ,CAACC,MAAM,IAAG;MACzC,OAAOA,MAAM;IACf,CAAC,CAAC;IACF,IAAIF,KAAK,KAAKG,SAAS,EAAE;MACvB,MAAM,IAAIC,KAAK,CAAC,uCAAuC,CAAC;IAC1D;IACA,OAAOJ,KAAK;EACd;EAEA;;;;EAISK,SAASA,CAAA;IAChB,OAAO,IAAI;EACb;EAES,MAAMC,OAAOA,CAAA;IACpB,IAAAZ,qBAAA,CAAAX,SAAA,EAAI,IAAI,GAAY;MAClB;IACF;IACAS,qBAAA,CAAAT,SAAA,MAAI,EAAa,IAAI;IACrB,MAAMwB,aAAa,CAAC,IAAI,CAACX,MAAM,EAAAF,qBAAA,CAAAT,aAAA,EAAE,IAAI,CAAc,CAAC;EACtD;EAESuB,QAAQA,CAAA;IACf,IAAI,CAACd,qBAAA,CAAAT,aAAA,MAAI,EAAec,QAAQ,EAAE;MAChC,OAAO,WAAW,GAAGjB,qBAAqB,CAAAY,qBAAA,CAAAT,aAAA,EAAC,IAAI,CAAc,CAAC;IAChE;IACA,MAAMwB,IAAI,GAAGf,qBAAA,CAAAT,aAAA,MAAI,EAAeyB,OAAO,IAAIhB,qBAAA,CAAAT,aAAA,MAAI,EAAewB,IAAI;IAClE,OAAO,WAAW,GAAGA,IAAI;EAC3B;EAEA,IAAaE,EAAEA,CAAA;IACb,OAAOjB,qBAAA,CAAAT,aAAA,MAAI,EAAec,QAAQ;EACpC;EAEST,YAAYA,CAAA;IACnB,OAAAI,qBAAA,CAAAT,aAAA,EAAO,IAAI;EACb;;AAGF;;;AAGA,OAAO,eAAesB,aAAaA,CACjCX,MAAkB,EAClBN,YAA2C;EAE3C,IAAI,CAACA,YAAY,CAACS,QAAQ,EAAE;IAC1B;EACF;EACA,MAAMH,MAAM,CACTgB,IAAI,CAAC,uBAAuB,EAAE;IAACb,QAAQ,EAAET,YAAY,CAACS;EAAQ,CAAC,CAAC,CAChEc,KAAK,CAACC,KAAK,IAAG;IACb;IACA;IACAjC,UAAU,CAACiC,KAAK,CAAC;EACnB,CAAC,CAAC;AACN","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}