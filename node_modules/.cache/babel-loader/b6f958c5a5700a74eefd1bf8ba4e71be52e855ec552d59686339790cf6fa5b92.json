{"ast":null,"code":"\"use strict\";\n\n/**\n * @license\n * Copyright 2024 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nvar _classPrivateMethodInitSpec = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateMethodInitSpec.js\").default;\nvar _classPrivateFieldInitSpec = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldInitSpec.js\").default;\nvar _defineProperty = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/defineProperty.js\").default;\nvar _classPrivateGetter = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateGetter.js\").default;\nvar _classPrivateFieldGet = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldGet2.js\").default;\nvar _classPrivateFieldSet = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldSet2.js\").default;\nvar _assertClassBrand = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/assertClassBrand.js\").default;\nrequire(\"core-js/modules/es.array.push.js\");\nvar __runInitializers = this && this.__runInitializers || function (thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n    value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\nvar __esDecorate = this && this.__esDecorate || function (ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) {\n    if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\");\n    return f;\n  }\n  var kind = contextIn.kind,\n    key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _,\n    done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n    var context = {};\n    for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n    for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n    context.addInitializer = function (f) {\n      if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\");\n      extraInitializers.push(accept(f || null));\n    };\n    var result = (0, decorators[i])(kind === \"accessor\" ? {\n      get: descriptor.get,\n      set: descriptor.set\n    } : descriptor[key], context);\n    if (kind === \"accessor\") {\n      if (result === void 0) continue;\n      if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n      if (_ = accept(result.get)) descriptor.get = _;\n      if (_ = accept(result.set)) descriptor.set = _;\n      if (_ = accept(result.init)) initializers.unshift(_);\n    } else if (_ = accept(result)) {\n      if (kind === \"field\") initializers.unshift(_);else descriptor[key] = _;\n    }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UserContext = void 0;\nconst EventEmitter_js_1 = require(\"../../common/EventEmitter.js\");\nconst assert_js_1 = require(\"../../util/assert.js\");\nconst decorators_js_1 = require(\"../../util/decorators.js\");\nconst disposable_js_1 = require(\"../../util/disposable.js\");\nconst BrowsingContext_js_1 = require(\"./BrowsingContext.js\");\n/**\n * @internal\n */\nlet UserContext = ((_ref, _UserContext, _reason, _browsingContexts, _disposables, _id, _UserContext_brand) => {\n  let _classSuper = EventEmitter_js_1.EventEmitter;\n  let _instanceExtraInitializers = [];\n  let _dispose_decorators;\n  let _createBrowsingContext_decorators;\n  let _remove_decorators;\n  let _getCookies_decorators;\n  let _setCookie_decorators;\n  let _setPermissions_decorators;\n  return _reason = /*#__PURE__*/new WeakMap(), _browsingContexts = /*#__PURE__*/new WeakMap(), _disposables = /*#__PURE__*/new WeakMap(), _id = /*#__PURE__*/new WeakMap(), _UserContext_brand = /*#__PURE__*/new WeakSet(), _ref = (_dispose_decorators = [decorators_js_1.inertIfDisposed], _createBrowsingContext_decorators = [(0, decorators_js_1.throwIfDisposed)(context => {\n    // SAFETY: Disposal implies this exists.\n    return _classPrivateFieldGet(_reason, context);\n  })], _remove_decorators = [(0, decorators_js_1.throwIfDisposed)(context => {\n    // SAFETY: Disposal implies this exists.\n    return _classPrivateFieldGet(_reason, context);\n  })], _getCookies_decorators = [(0, decorators_js_1.throwIfDisposed)(context => {\n    // SAFETY: Disposal implies this exists.\n    return _classPrivateFieldGet(_reason, context);\n  })], _setCookie_decorators = [(0, decorators_js_1.throwIfDisposed)(context => {\n    // SAFETY: Disposal implies this exists.\n    return _classPrivateFieldGet(_reason, context);\n  })], _setPermissions_decorators = [(0, decorators_js_1.throwIfDisposed)(context => {\n    // SAFETY: Disposal implies this exists.\n    return _classPrivateFieldGet(_reason, context);\n  })], disposable_js_1.disposeSymbol), (_UserContext = class UserContext extends _classSuper {\n    static create(browser, id) {\n      const context = new UserContext(browser, id);\n      _assertClassBrand(_UserContext_brand, context, _initialize).call(context);\n      return context;\n    }\n    constructor(browser, id) {\n      super();\n      _classPrivateMethodInitSpec(this, _UserContext_brand);\n      _classPrivateFieldInitSpec(this, _reason, (__runInitializers(this, _instanceExtraInitializers), void 0));\n      // Note these are only top-level contexts.\n      _classPrivateFieldInitSpec(this, _browsingContexts, new Map());\n      _classPrivateFieldInitSpec(this, _disposables, new disposable_js_1.DisposableStack());\n      _classPrivateFieldInitSpec(this, _id, void 0);\n      _defineProperty(this, \"browser\", void 0);\n      _classPrivateFieldSet(_id, this, id);\n      this.browser = browser;\n    }\n    get browsingContexts() {\n      return _classPrivateFieldGet(_browsingContexts, this).values();\n    }\n    get closed() {\n      return _classPrivateFieldGet(_reason, this) !== undefined;\n    }\n    get disposed() {\n      return this.closed;\n    }\n    get id() {\n      return _classPrivateFieldGet(_id, this);\n    }\n    dispose(reason) {\n      _classPrivateFieldSet(_reason, this, reason);\n      this[disposable_js_1.disposeSymbol]();\n    }\n    async createBrowsingContext(type, options = {}) {\n      const {\n        result: {\n          context: contextId\n        }\n      } = await _classPrivateGetter(_UserContext_brand, this, _get_session).send('browsingContext.create', {\n        type,\n        ...options,\n        referenceContext: options.referenceContext?.id,\n        userContext: _classPrivateFieldGet(_id, this)\n      });\n      const browsingContext = _classPrivateFieldGet(_browsingContexts, this).get(contextId);\n      (0, assert_js_1.assert)(browsingContext, 'The WebDriver BiDi implementation is failing to create a browsing context correctly.');\n      // We use an array to avoid the promise from being awaited.\n      return browsingContext;\n    }\n    async remove() {\n      try {\n        await _classPrivateGetter(_UserContext_brand, this, _get_session).send('browser.removeUserContext', {\n          userContext: _classPrivateFieldGet(_id, this)\n        });\n      } finally {\n        this.dispose('User context already closed.');\n      }\n    }\n    async getCookies(options = {}, sourceOrigin = undefined) {\n      const {\n        result: {\n          cookies\n        }\n      } = await _classPrivateGetter(_UserContext_brand, this, _get_session).send('storage.getCookies', {\n        ...options,\n        partition: {\n          type: 'storageKey',\n          userContext: _classPrivateFieldGet(_id, this),\n          sourceOrigin\n        }\n      });\n      return cookies;\n    }\n    async setCookie(cookie, sourceOrigin) {\n      await _classPrivateGetter(_UserContext_brand, this, _get_session).send('storage.setCookie', {\n        cookie,\n        partition: {\n          type: 'storageKey',\n          sourceOrigin,\n          userContext: this.id\n        }\n      });\n    }\n    async setPermissions(origin, descriptor, state) {\n      await _classPrivateGetter(_UserContext_brand, this, _get_session).send('permissions.setPermission', {\n        origin,\n        descriptor,\n        state,\n        userContext: _classPrivateFieldGet(_id, this)\n      });\n    }\n    [_ref]() {\n      _classPrivateFieldGet(_reason, this) ?? _classPrivateFieldSet(_reason, this, 'User context already closed, probably because the browser disconnected/closed.');\n      this.emit('closed', {\n        reason: _classPrivateFieldGet(_reason, this)\n      });\n      _classPrivateFieldGet(_disposables, this).dispose();\n      super[disposable_js_1.disposeSymbol]();\n    }\n  }, (() => {\n    const _metadata = typeof Symbol === \"function\" && Symbol.metadata ? Object.create(_classSuper[Symbol.metadata] ?? null) : void 0;\n    __esDecorate(_UserContext, null, _dispose_decorators, {\n      kind: \"method\",\n      name: \"dispose\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"dispose\" in obj,\n        get: obj => obj.dispose\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    __esDecorate(_UserContext, null, _createBrowsingContext_decorators, {\n      kind: \"method\",\n      name: \"createBrowsingContext\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"createBrowsingContext\" in obj,\n        get: obj => obj.createBrowsingContext\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    __esDecorate(_UserContext, null, _remove_decorators, {\n      kind: \"method\",\n      name: \"remove\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"remove\" in obj,\n        get: obj => obj.remove\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    __esDecorate(_UserContext, null, _getCookies_decorators, {\n      kind: \"method\",\n      name: \"getCookies\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"getCookies\" in obj,\n        get: obj => obj.getCookies\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    __esDecorate(_UserContext, null, _setCookie_decorators, {\n      kind: \"method\",\n      name: \"setCookie\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"setCookie\" in obj,\n        get: obj => obj.setCookie\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    __esDecorate(_UserContext, null, _setPermissions_decorators, {\n      kind: \"method\",\n      name: \"setPermissions\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"setPermissions\" in obj,\n        get: obj => obj.setPermissions\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    if (_metadata) Object.defineProperty(_UserContext, Symbol.metadata, {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: _metadata\n    });\n  })(), _defineProperty(_UserContext, \"DEFAULT\", 'default'), _UserContext);\n  function _initialize() {\n    const browserEmitter = _classPrivateFieldGet(_disposables, this).use(new EventEmitter_js_1.EventEmitter(this.browser));\n    browserEmitter.once('closed', ({\n      reason\n    }) => {\n      this.dispose(`User context already closed: ${reason}`);\n    });\n    const sessionEmitter = _classPrivateFieldGet(_disposables, this).use(new EventEmitter_js_1.EventEmitter(_classPrivateGetter(_UserContext_brand, this, _get_session)));\n    sessionEmitter.on('browsingContext.contextCreated', info => {\n      if (info.parent) {\n        return;\n      }\n      if (info.userContext !== _classPrivateFieldGet(_id, this)) {\n        return;\n      }\n      const browsingContext = BrowsingContext_js_1.BrowsingContext.from(this, undefined, info.context, info.url);\n      _classPrivateFieldGet(_browsingContexts, this).set(browsingContext.id, browsingContext);\n      const browsingContextEmitter = _classPrivateFieldGet(_disposables, this).use(new EventEmitter_js_1.EventEmitter(browsingContext));\n      browsingContextEmitter.on('closed', () => {\n        browsingContextEmitter.removeAllListeners();\n        _classPrivateFieldGet(_browsingContexts, this).delete(browsingContext.id);\n      });\n      this.emit('browsingcontext', {\n        browsingContext\n      });\n    });\n  }\n  function _get_session(_this) {\n    return _this.browser.session;\n  }\n})();\nexports.UserContext = UserContext;","map":{"version":3,"names":["_classPrivateMethodInitSpec","require","default","_classPrivateFieldInitSpec","_defineProperty","_classPrivateGetter","_classPrivateFieldGet","_classPrivateFieldSet","_assertClassBrand","EventEmitter_js_1","assert_js_1","decorators_js_1","disposable_js_1","BrowsingContext_js_1","UserContext","_ref","_UserContext","_reason","_browsingContexts","_disposables","_id","_UserContext_brand","EventEmitter","_dispose_decorators","inertIfDisposed","_createBrowsingContext_decorators","throwIfDisposed","context","_remove_decorators","_getCookies_decorators","_setCookie_decorators","_setPermissions_decorators","disposeSymbol","_classSuper","create","browser","id","_initialize","call","constructor","__runInitializers","_instanceExtraInitializers","Map","DisposableStack","browsingContexts","values","closed","undefined","disposed","dispose","reason","createBrowsingContext","type","options","result","contextId","_get_session","send","referenceContext","userContext","browsingContext","get","assert","remove","getCookies","sourceOrigin","cookies","partition","setCookie","cookie","setPermissions","origin","descriptor","state","emit","__esDecorate","kind","name","static","private","access","has","obj","metadata","_metadata","browserEmitter","use","once","sessionEmitter","on","info","parent","BrowsingContext","from","url","set","browsingContextEmitter","removeAllListeners","delete","_this","session","exports"],"sources":["../../../../../src/bidi/core/UserContext.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}