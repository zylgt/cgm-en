{"ast":null,"code":"import _classPrivateMethodInitSpec from \"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/esm/classPrivateMethodInitSpec.js\";\nimport _defineProperty from \"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _classPrivateFieldInitSpec from \"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/esm/classPrivateFieldInitSpec.js\";\nimport _classPrivateFieldGet from \"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/esm/classPrivateFieldGet2.js\";\nimport _assertClassBrand from \"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/esm/assertClassBrand.js\";\nimport _classPrivateFieldSet from \"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/esm/classPrivateFieldSet2.js\";\nimport \"core-js/modules/es.array.push.js\";\n/**\n * @license\n * Copyright 2017 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nvar __runInitializers = this && this.__runInitializers || function (thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n    value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\nvar __esDecorate = this && this.__esDecorate || function (ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) {\n    if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\");\n    return f;\n  }\n  var kind = contextIn.kind,\n    key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _,\n    done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n    var context = {};\n    for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n    for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n    context.addInitializer = function (f) {\n      if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\");\n      extraInitializers.push(accept(f || null));\n    };\n    var result = (0, decorators[i])(kind === \"accessor\" ? {\n      get: descriptor.get,\n      set: descriptor.set\n    } : descriptor[key], context);\n    if (kind === \"accessor\") {\n      if (result === void 0) continue;\n      if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n      if (_ = accept(result.get)) descriptor.get = _;\n      if (_ = accept(result.set)) descriptor.set = _;\n      if (_ = accept(result.init)) initializers.unshift(_);\n    } else if (_ = accept(result)) {\n      if (kind === \"field\") initializers.unshift(_);else descriptor[key] = _;\n    }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\nimport { Frame, FrameEvent, throwIfDetached } from '../api/Frame.js';\nimport { UnsupportedOperation } from '../common/Errors.js';\nimport { Deferred } from '../util/Deferred.js';\nimport { disposeSymbol } from '../util/disposable.js';\nimport { isErrorLike } from '../util/ErrorLike.js';\nimport { FrameManagerEvent } from './FrameManagerEvents.js';\nimport { IsolatedWorld } from './IsolatedWorld.js';\nimport { MAIN_WORLD, PUPPETEER_WORLD } from './IsolatedWorlds.js';\nimport { LifecycleWatcher } from './LifecycleWatcher.js';\n/**\n * @internal\n */\nlet CdpFrame = ((_ref, _CdpFrame, _url, _detached, _client, _CdpFrame_brand) => {\n  let _classSuper = Frame;\n  let _instanceExtraInitializers = [];\n  let _goto_decorators;\n  let _waitForNavigation_decorators;\n  let _setContent_decorators;\n  let _waitForDevicePrompt_decorators;\n  return _url = /*#__PURE__*/new WeakMap(), _detached = /*#__PURE__*/new WeakMap(), _client = /*#__PURE__*/new WeakMap(), _CdpFrame_brand = /*#__PURE__*/new WeakSet(), _ref = (_goto_decorators = [throwIfDetached], _waitForNavigation_decorators = [throwIfDetached], _setContent_decorators = [throwIfDetached], _waitForDevicePrompt_decorators = [throwIfDetached], disposeSymbol), (_CdpFrame = class CdpFrame extends _classSuper {\n    constructor(frameManager, frameId, parentFrameId, client) {\n      super();\n      _classPrivateMethodInitSpec(this, _CdpFrame_brand);\n      _classPrivateFieldInitSpec(this, _url, (__runInitializers(this, _instanceExtraInitializers), ''));\n      _classPrivateFieldInitSpec(this, _detached, false);\n      _classPrivateFieldInitSpec(this, _client, void 0);\n      _defineProperty(this, \"_frameManager\", void 0);\n      _defineProperty(this, \"_loaderId\", '');\n      _defineProperty(this, \"_lifecycleEvents\", new Set());\n      _defineProperty(this, \"_id\", void 0);\n      _defineProperty(this, \"_parentId\", void 0);\n      _defineProperty(this, \"worlds\", void 0);\n      this._frameManager = frameManager;\n      _classPrivateFieldSet(_url, this, '');\n      this._id = frameId;\n      this._parentId = parentFrameId;\n      _classPrivateFieldSet(_detached, this, false);\n      _classPrivateFieldSet(_client, this, client);\n      this._loaderId = '';\n      this.worlds = {\n        [MAIN_WORLD]: new IsolatedWorld(this, this._frameManager.timeoutSettings),\n        [PUPPETEER_WORLD]: new IsolatedWorld(this, this._frameManager.timeoutSettings)\n      };\n      this.on(FrameEvent.FrameSwappedByActivation, () => {\n        // Emulate loading process for swapped frames.\n        this._onLoadingStarted();\n        this._onLoadingStopped();\n      });\n      this.worlds[MAIN_WORLD].emitter.on('consoleapicalled', _assertClassBrand(_CdpFrame_brand, this, _onMainWorldConsoleApiCalled).bind(this));\n      this.worlds[MAIN_WORLD].emitter.on('bindingcalled', _assertClassBrand(_CdpFrame_brand, this, _onMainWorldBindingCalled).bind(this));\n    }\n    /**\n     * This is used internally in DevTools.\n     *\n     * @internal\n     */\n    _client() {\n      return _classPrivateFieldGet(_client, this);\n    }\n    /**\n     * Updates the frame ID with the new ID. This happens when the main frame is\n     * replaced by a different frame.\n     */\n    updateId(id) {\n      this._id = id;\n    }\n    updateClient(client) {\n      _classPrivateFieldSet(_client, this, client);\n    }\n    page() {\n      return this._frameManager.page();\n    }\n    isOOPFrame() {\n      return _classPrivateFieldGet(_client, this) !== this._frameManager.client;\n    }\n    async goto(url, options = {}) {\n      const {\n        referer = this._frameManager.networkManager.extraHTTPHeaders()['referer'],\n        referrerPolicy = this._frameManager.networkManager.extraHTTPHeaders()['referer-policy'],\n        waitUntil = ['load'],\n        timeout = this._frameManager.timeoutSettings.navigationTimeout()\n      } = options;\n      let ensureNewDocumentNavigation = false;\n      const watcher = new LifecycleWatcher(this._frameManager.networkManager, this, waitUntil, timeout);\n      let error = await Deferred.race([navigate(_classPrivateFieldGet(_client, this), url, referer, referrerPolicy, this._id), watcher.terminationPromise()]);\n      if (!error) {\n        error = await Deferred.race([watcher.terminationPromise(), ensureNewDocumentNavigation ? watcher.newDocumentNavigationPromise() : watcher.sameDocumentNavigationPromise()]);\n      }\n      try {\n        if (error) {\n          throw error;\n        }\n        return await watcher.navigationResponse();\n      } finally {\n        watcher.dispose();\n      }\n      async function navigate(client, url, referrer, referrerPolicy, frameId) {\n        try {\n          const response = await client.send('Page.navigate', {\n            url,\n            referrer,\n            frameId,\n            referrerPolicy\n          });\n          ensureNewDocumentNavigation = !!response.loaderId;\n          if (response.errorText === 'net::ERR_HTTP_RESPONSE_CODE_FAILURE') {\n            return null;\n          }\n          return response.errorText ? new Error(`${response.errorText} at ${url}`) : null;\n        } catch (error) {\n          if (isErrorLike(error)) {\n            return error;\n          }\n          throw error;\n        }\n      }\n    }\n    async waitForNavigation(options = {}) {\n      const {\n        waitUntil = ['load'],\n        timeout = this._frameManager.timeoutSettings.navigationTimeout()\n      } = options;\n      const watcher = new LifecycleWatcher(this._frameManager.networkManager, this, waitUntil, timeout);\n      const error = await Deferred.race([watcher.terminationPromise(), ...(options.ignoreSameDocumentNavigation ? [] : [watcher.sameDocumentNavigationPromise()]), watcher.newDocumentNavigationPromise()]);\n      try {\n        if (error) {\n          throw error;\n        }\n        const result = await Deferred.race([watcher.terminationPromise(), watcher.navigationResponse()]);\n        if (result instanceof Error) {\n          throw error;\n        }\n        return result || null;\n      } finally {\n        watcher.dispose();\n      }\n    }\n    get client() {\n      return _classPrivateFieldGet(_client, this);\n    }\n    mainRealm() {\n      return this.worlds[MAIN_WORLD];\n    }\n    isolatedRealm() {\n      return this.worlds[PUPPETEER_WORLD];\n    }\n    async setContent(html, options = {}) {\n      const {\n        waitUntil = ['load'],\n        timeout = this._frameManager.timeoutSettings.navigationTimeout()\n      } = options;\n      // We rely upon the fact that document.open() will reset frame lifecycle with \"init\"\n      // lifecycle event. @see https://crrev.com/608658\n      await this.setFrameContent(html);\n      const watcher = new LifecycleWatcher(this._frameManager.networkManager, this, waitUntil, timeout);\n      const error = await Deferred.race([watcher.terminationPromise(), watcher.lifecyclePromise()]);\n      watcher.dispose();\n      if (error) {\n        throw error;\n      }\n    }\n    url() {\n      return _classPrivateFieldGet(_url, this);\n    }\n    parentFrame() {\n      return this._frameManager._frameTree.parentFrame(this._id) || null;\n    }\n    childFrames() {\n      return this._frameManager._frameTree.childFrames(this._id);\n    }\n    async waitForDevicePrompt(options = {}) {\n      return await _assertClassBrand(_CdpFrame_brand, this, _deviceRequestPromptManager).call(this).waitForDevicePrompt(options);\n    }\n    _navigated(framePayload) {\n      this._name = framePayload.name;\n      _classPrivateFieldSet(_url, this, `${framePayload.url}${framePayload.urlFragment || ''}`);\n    }\n    _navigatedWithinDocument(url) {\n      _classPrivateFieldSet(_url, this, url);\n    }\n    _onLifecycleEvent(loaderId, name) {\n      if (name === 'init') {\n        this._loaderId = loaderId;\n        this._lifecycleEvents.clear();\n      }\n      this._lifecycleEvents.add(name);\n    }\n    _onLoadingStopped() {\n      this._lifecycleEvents.add('DOMContentLoaded');\n      this._lifecycleEvents.add('load');\n    }\n    _onLoadingStarted() {\n      this._hasStartedLoading = true;\n    }\n    get detached() {\n      return _classPrivateFieldGet(_detached, this);\n    }\n    [_ref]() {\n      if (_classPrivateFieldGet(_detached, this)) {\n        return;\n      }\n      _classPrivateFieldSet(_detached, this, true);\n      this.worlds[MAIN_WORLD][disposeSymbol]();\n      this.worlds[PUPPETEER_WORLD][disposeSymbol]();\n    }\n    exposeFunction() {\n      throw new UnsupportedOperation();\n    }\n  }, (() => {\n    const _metadata = typeof Symbol === \"function\" && Symbol.metadata ? Object.create(_classSuper[Symbol.metadata] ?? null) : void 0;\n    __esDecorate(_CdpFrame, null, _goto_decorators, {\n      kind: \"method\",\n      name: \"goto\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"goto\" in obj,\n        get: obj => obj.goto\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    __esDecorate(_CdpFrame, null, _waitForNavigation_decorators, {\n      kind: \"method\",\n      name: \"waitForNavigation\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"waitForNavigation\" in obj,\n        get: obj => obj.waitForNavigation\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    __esDecorate(_CdpFrame, null, _setContent_decorators, {\n      kind: \"method\",\n      name: \"setContent\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"setContent\" in obj,\n        get: obj => obj.setContent\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    __esDecorate(_CdpFrame, null, _waitForDevicePrompt_decorators, {\n      kind: \"method\",\n      name: \"waitForDevicePrompt\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"waitForDevicePrompt\" in obj,\n        get: obj => obj.waitForDevicePrompt\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    if (_metadata) Object.defineProperty(_CdpFrame, Symbol.metadata, {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: _metadata\n    });\n  })(), _CdpFrame);\n  function _onMainWorldConsoleApiCalled(event) {\n    this._frameManager.emit(FrameManagerEvent.ConsoleApiCalled, [this.worlds[MAIN_WORLD], event]);\n  }\n  function _onMainWorldBindingCalled(event) {\n    this._frameManager.emit(FrameManagerEvent.BindingCalled, [this.worlds[MAIN_WORLD], event]);\n  }\n  function _deviceRequestPromptManager() {\n    const rootFrame = this.page().mainFrame();\n    if (this.isOOPFrame() || rootFrame === null) {\n      return this._frameManager._deviceRequestPromptManager(_classPrivateFieldGet(_client, this));\n    } else {\n      return rootFrame._frameManager._deviceRequestPromptManager(_classPrivateFieldGet(_client, this));\n    }\n  }\n})();\nexport { CdpFrame };","map":{"version":3,"names":["Frame","FrameEvent","throwIfDetached","UnsupportedOperation","Deferred","disposeSymbol","isErrorLike","FrameManagerEvent","IsolatedWorld","MAIN_WORLD","PUPPETEER_WORLD","LifecycleWatcher","CdpFrame","_ref","_CdpFrame","_url","_detached","_client","_CdpFrame_brand","_goto_decorators","_waitForNavigation_decorators","_setContent_decorators","_waitForDevicePrompt_decorators","_classSuper","constructor","frameManager","frameId","parentFrameId","client","_classPrivateMethodInitSpec","_classPrivateFieldInitSpec","__runInitializers","_instanceExtraInitializers","_defineProperty","Set","_frameManager","_classPrivateFieldSet","_id","_parentId","_loaderId","worlds","timeoutSettings","on","FrameSwappedByActivation","_onLoadingStarted","_onLoadingStopped","emitter","_assertClassBrand","_onMainWorldConsoleApiCalled","bind","_onMainWorldBindingCalled","_classPrivateFieldGet","updateId","id","updateClient","page","isOOPFrame","goto","url","options","referer","networkManager","extraHTTPHeaders","referrerPolicy","waitUntil","timeout","navigationTimeout","ensureNewDocumentNavigation","watcher","error","race","navigate","terminationPromise","newDocumentNavigationPromise","sameDocumentNavigationPromise","navigationResponse","dispose","referrer","response","send","loaderId","errorText","Error","waitForNavigation","ignoreSameDocumentNavigation","result","mainRealm","isolatedRealm","setContent","html","setFrameContent","lifecyclePromise","parentFrame","_frameTree","childFrames","waitForDevicePrompt","_deviceRequestPromptManager","call","_navigated","framePayload","_name","name","urlFragment","_navigatedWithinDocument","_onLifecycleEvent","_lifecycleEvents","clear","add","_hasStartedLoading","detached","exposeFunction","__esDecorate","kind","static","private","access","has","obj","get","metadata","_metadata","event","emit","ConsoleApiCalled","BindingCalled","rootFrame","mainFrame"],"sources":["../../../../src/cdp/Frame.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}