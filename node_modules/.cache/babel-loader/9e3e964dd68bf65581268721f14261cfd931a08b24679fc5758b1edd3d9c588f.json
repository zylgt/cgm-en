{"ast":null,"code":"\"use strict\";\n\n/**\n * @license\n * Copyright 2017 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nvar _classPrivateMethodInitSpec = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateMethodInitSpec.js\").default;\nvar _defineProperty = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/defineProperty.js\").default;\nvar _classPrivateFieldInitSpec = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldInitSpec.js\").default;\nvar _classPrivateFieldGet = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldGet2.js\").default;\nvar _assertClassBrand = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/assertClassBrand.js\").default;\nvar _classPrivateFieldSet = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldSet2.js\").default;\nrequire(\"core-js/modules/es.array.push.js\");\nvar __runInitializers = this && this.__runInitializers || function (thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n    value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\nvar __esDecorate = this && this.__esDecorate || function (ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) {\n    if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\");\n    return f;\n  }\n  var kind = contextIn.kind,\n    key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _,\n    done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n    var context = {};\n    for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n    for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n    context.addInitializer = function (f) {\n      if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\");\n      extraInitializers.push(accept(f || null));\n    };\n    var result = (0, decorators[i])(kind === \"accessor\" ? {\n      get: descriptor.get,\n      set: descriptor.set\n    } : descriptor[key], context);\n    if (kind === \"accessor\") {\n      if (result === void 0) continue;\n      if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n      if (_ = accept(result.get)) descriptor.get = _;\n      if (_ = accept(result.set)) descriptor.set = _;\n      if (_ = accept(result.init)) initializers.unshift(_);\n    } else if (_ = accept(result)) {\n      if (kind === \"field\") initializers.unshift(_);else descriptor[key] = _;\n    }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CdpFrame = void 0;\nconst Frame_js_1 = require(\"../api/Frame.js\");\nconst Errors_js_1 = require(\"../common/Errors.js\");\nconst Deferred_js_1 = require(\"../util/Deferred.js\");\nconst disposable_js_1 = require(\"../util/disposable.js\");\nconst ErrorLike_js_1 = require(\"../util/ErrorLike.js\");\nconst FrameManagerEvents_js_1 = require(\"./FrameManagerEvents.js\");\nconst IsolatedWorld_js_1 = require(\"./IsolatedWorld.js\");\nconst IsolatedWorlds_js_1 = require(\"./IsolatedWorlds.js\");\nconst LifecycleWatcher_js_1 = require(\"./LifecycleWatcher.js\");\n/**\n * @internal\n */\nlet CdpFrame = ((_ref, _CdpFrame, _url, _detached, _client, _CdpFrame_brand) => {\n  let _classSuper = Frame_js_1.Frame;\n  let _instanceExtraInitializers = [];\n  let _goto_decorators;\n  let _waitForNavigation_decorators;\n  let _setContent_decorators;\n  let _waitForDevicePrompt_decorators;\n  return _url = /*#__PURE__*/new WeakMap(), _detached = /*#__PURE__*/new WeakMap(), _client = /*#__PURE__*/new WeakMap(), _CdpFrame_brand = /*#__PURE__*/new WeakSet(), _ref = (_goto_decorators = [Frame_js_1.throwIfDetached], _waitForNavigation_decorators = [Frame_js_1.throwIfDetached], _setContent_decorators = [Frame_js_1.throwIfDetached], _waitForDevicePrompt_decorators = [Frame_js_1.throwIfDetached], disposable_js_1.disposeSymbol), (_CdpFrame = class CdpFrame extends _classSuper {\n    constructor(frameManager, frameId, parentFrameId, client) {\n      super();\n      _classPrivateMethodInitSpec(this, _CdpFrame_brand);\n      _classPrivateFieldInitSpec(this, _url, (__runInitializers(this, _instanceExtraInitializers), ''));\n      _classPrivateFieldInitSpec(this, _detached, false);\n      _classPrivateFieldInitSpec(this, _client, void 0);\n      _defineProperty(this, \"_frameManager\", void 0);\n      _defineProperty(this, \"_loaderId\", '');\n      _defineProperty(this, \"_lifecycleEvents\", new Set());\n      _defineProperty(this, \"_id\", void 0);\n      _defineProperty(this, \"_parentId\", void 0);\n      _defineProperty(this, \"worlds\", void 0);\n      this._frameManager = frameManager;\n      _classPrivateFieldSet(_url, this, '');\n      this._id = frameId;\n      this._parentId = parentFrameId;\n      _classPrivateFieldSet(_detached, this, false);\n      _classPrivateFieldSet(_client, this, client);\n      this._loaderId = '';\n      this.worlds = {\n        [IsolatedWorlds_js_1.MAIN_WORLD]: new IsolatedWorld_js_1.IsolatedWorld(this, this._frameManager.timeoutSettings),\n        [IsolatedWorlds_js_1.PUPPETEER_WORLD]: new IsolatedWorld_js_1.IsolatedWorld(this, this._frameManager.timeoutSettings)\n      };\n      this.on(Frame_js_1.FrameEvent.FrameSwappedByActivation, () => {\n        // Emulate loading process for swapped frames.\n        this._onLoadingStarted();\n        this._onLoadingStopped();\n      });\n      this.worlds[IsolatedWorlds_js_1.MAIN_WORLD].emitter.on('consoleapicalled', _assertClassBrand(_CdpFrame_brand, this, _onMainWorldConsoleApiCalled).bind(this));\n      this.worlds[IsolatedWorlds_js_1.MAIN_WORLD].emitter.on('bindingcalled', _assertClassBrand(_CdpFrame_brand, this, _onMainWorldBindingCalled).bind(this));\n    }\n    /**\n     * This is used internally in DevTools.\n     *\n     * @internal\n     */\n    _client() {\n      return _classPrivateFieldGet(_client, this);\n    }\n    /**\n     * Updates the frame ID with the new ID. This happens when the main frame is\n     * replaced by a different frame.\n     */\n    updateId(id) {\n      this._id = id;\n    }\n    updateClient(client) {\n      _classPrivateFieldSet(_client, this, client);\n    }\n    page() {\n      return this._frameManager.page();\n    }\n    isOOPFrame() {\n      return _classPrivateFieldGet(_client, this) !== this._frameManager.client;\n    }\n    async goto(url, options = {}) {\n      const {\n        referer = this._frameManager.networkManager.extraHTTPHeaders()['referer'],\n        referrerPolicy = this._frameManager.networkManager.extraHTTPHeaders()['referer-policy'],\n        waitUntil = ['load'],\n        timeout = this._frameManager.timeoutSettings.navigationTimeout()\n      } = options;\n      let ensureNewDocumentNavigation = false;\n      const watcher = new LifecycleWatcher_js_1.LifecycleWatcher(this._frameManager.networkManager, this, waitUntil, timeout);\n      let error = await Deferred_js_1.Deferred.race([navigate(_classPrivateFieldGet(_client, this), url, referer, referrerPolicy, this._id), watcher.terminationPromise()]);\n      if (!error) {\n        error = await Deferred_js_1.Deferred.race([watcher.terminationPromise(), ensureNewDocumentNavigation ? watcher.newDocumentNavigationPromise() : watcher.sameDocumentNavigationPromise()]);\n      }\n      try {\n        if (error) {\n          throw error;\n        }\n        return await watcher.navigationResponse();\n      } finally {\n        watcher.dispose();\n      }\n      async function navigate(client, url, referrer, referrerPolicy, frameId) {\n        try {\n          const response = await client.send('Page.navigate', {\n            url,\n            referrer,\n            frameId,\n            referrerPolicy\n          });\n          ensureNewDocumentNavigation = !!response.loaderId;\n          if (response.errorText === 'net::ERR_HTTP_RESPONSE_CODE_FAILURE') {\n            return null;\n          }\n          return response.errorText ? new Error(`${response.errorText} at ${url}`) : null;\n        } catch (error) {\n          if ((0, ErrorLike_js_1.isErrorLike)(error)) {\n            return error;\n          }\n          throw error;\n        }\n      }\n    }\n    async waitForNavigation(options = {}) {\n      const {\n        waitUntil = ['load'],\n        timeout = this._frameManager.timeoutSettings.navigationTimeout()\n      } = options;\n      const watcher = new LifecycleWatcher_js_1.LifecycleWatcher(this._frameManager.networkManager, this, waitUntil, timeout);\n      const error = await Deferred_js_1.Deferred.race([watcher.terminationPromise(), ...(options.ignoreSameDocumentNavigation ? [] : [watcher.sameDocumentNavigationPromise()]), watcher.newDocumentNavigationPromise()]);\n      try {\n        if (error) {\n          throw error;\n        }\n        const result = await Deferred_js_1.Deferred.race([watcher.terminationPromise(), watcher.navigationResponse()]);\n        if (result instanceof Error) {\n          throw error;\n        }\n        return result || null;\n      } finally {\n        watcher.dispose();\n      }\n    }\n    get client() {\n      return _classPrivateFieldGet(_client, this);\n    }\n    mainRealm() {\n      return this.worlds[IsolatedWorlds_js_1.MAIN_WORLD];\n    }\n    isolatedRealm() {\n      return this.worlds[IsolatedWorlds_js_1.PUPPETEER_WORLD];\n    }\n    async setContent(html, options = {}) {\n      const {\n        waitUntil = ['load'],\n        timeout = this._frameManager.timeoutSettings.navigationTimeout()\n      } = options;\n      // We rely upon the fact that document.open() will reset frame lifecycle with \"init\"\n      // lifecycle event. @see https://crrev.com/608658\n      await this.setFrameContent(html);\n      const watcher = new LifecycleWatcher_js_1.LifecycleWatcher(this._frameManager.networkManager, this, waitUntil, timeout);\n      const error = await Deferred_js_1.Deferred.race([watcher.terminationPromise(), watcher.lifecyclePromise()]);\n      watcher.dispose();\n      if (error) {\n        throw error;\n      }\n    }\n    url() {\n      return _classPrivateFieldGet(_url, this);\n    }\n    parentFrame() {\n      return this._frameManager._frameTree.parentFrame(this._id) || null;\n    }\n    childFrames() {\n      return this._frameManager._frameTree.childFrames(this._id);\n    }\n    async waitForDevicePrompt(options = {}) {\n      return await _assertClassBrand(_CdpFrame_brand, this, _deviceRequestPromptManager).call(this).waitForDevicePrompt(options);\n    }\n    _navigated(framePayload) {\n      this._name = framePayload.name;\n      _classPrivateFieldSet(_url, this, `${framePayload.url}${framePayload.urlFragment || ''}`);\n    }\n    _navigatedWithinDocument(url) {\n      _classPrivateFieldSet(_url, this, url);\n    }\n    _onLifecycleEvent(loaderId, name) {\n      if (name === 'init') {\n        this._loaderId = loaderId;\n        this._lifecycleEvents.clear();\n      }\n      this._lifecycleEvents.add(name);\n    }\n    _onLoadingStopped() {\n      this._lifecycleEvents.add('DOMContentLoaded');\n      this._lifecycleEvents.add('load');\n    }\n    _onLoadingStarted() {\n      this._hasStartedLoading = true;\n    }\n    get detached() {\n      return _classPrivateFieldGet(_detached, this);\n    }\n    [_ref]() {\n      if (_classPrivateFieldGet(_detached, this)) {\n        return;\n      }\n      _classPrivateFieldSet(_detached, this, true);\n      this.worlds[IsolatedWorlds_js_1.MAIN_WORLD][disposable_js_1.disposeSymbol]();\n      this.worlds[IsolatedWorlds_js_1.PUPPETEER_WORLD][disposable_js_1.disposeSymbol]();\n    }\n    exposeFunction() {\n      throw new Errors_js_1.UnsupportedOperation();\n    }\n  }, (() => {\n    const _metadata = typeof Symbol === \"function\" && Symbol.metadata ? Object.create(_classSuper[Symbol.metadata] ?? null) : void 0;\n    __esDecorate(_CdpFrame, null, _goto_decorators, {\n      kind: \"method\",\n      name: \"goto\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"goto\" in obj,\n        get: obj => obj.goto\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    __esDecorate(_CdpFrame, null, _waitForNavigation_decorators, {\n      kind: \"method\",\n      name: \"waitForNavigation\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"waitForNavigation\" in obj,\n        get: obj => obj.waitForNavigation\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    __esDecorate(_CdpFrame, null, _setContent_decorators, {\n      kind: \"method\",\n      name: \"setContent\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"setContent\" in obj,\n        get: obj => obj.setContent\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    __esDecorate(_CdpFrame, null, _waitForDevicePrompt_decorators, {\n      kind: \"method\",\n      name: \"waitForDevicePrompt\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"waitForDevicePrompt\" in obj,\n        get: obj => obj.waitForDevicePrompt\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    if (_metadata) Object.defineProperty(_CdpFrame, Symbol.metadata, {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: _metadata\n    });\n  })(), _CdpFrame);\n  function _onMainWorldConsoleApiCalled(event) {\n    this._frameManager.emit(FrameManagerEvents_js_1.FrameManagerEvent.ConsoleApiCalled, [this.worlds[IsolatedWorlds_js_1.MAIN_WORLD], event]);\n  }\n  function _onMainWorldBindingCalled(event) {\n    this._frameManager.emit(FrameManagerEvents_js_1.FrameManagerEvent.BindingCalled, [this.worlds[IsolatedWorlds_js_1.MAIN_WORLD], event]);\n  }\n  function _deviceRequestPromptManager() {\n    const rootFrame = this.page().mainFrame();\n    if (this.isOOPFrame() || rootFrame === null) {\n      return this._frameManager._deviceRequestPromptManager(_classPrivateFieldGet(_client, this));\n    } else {\n      return rootFrame._frameManager._deviceRequestPromptManager(_classPrivateFieldGet(_client, this));\n    }\n  }\n})();\nexports.CdpFrame = CdpFrame;","map":{"version":3,"names":["_classPrivateMethodInitSpec","require","default","_defineProperty","_classPrivateFieldInitSpec","_classPrivateFieldGet","_assertClassBrand","_classPrivateFieldSet","Frame_js_1","Errors_js_1","Deferred_js_1","disposable_js_1","ErrorLike_js_1","FrameManagerEvents_js_1","IsolatedWorld_js_1","IsolatedWorlds_js_1","LifecycleWatcher_js_1","CdpFrame","_ref","_CdpFrame","_url","_detached","_client","_CdpFrame_brand","Frame","_goto_decorators","throwIfDetached","_waitForNavigation_decorators","_setContent_decorators","_waitForDevicePrompt_decorators","disposeSymbol","_classSuper","constructor","frameManager","frameId","parentFrameId","client","__runInitializers","_instanceExtraInitializers","Set","_frameManager","_id","_parentId","_loaderId","worlds","MAIN_WORLD","IsolatedWorld","timeoutSettings","PUPPETEER_WORLD","on","FrameEvent","FrameSwappedByActivation","_onLoadingStarted","_onLoadingStopped","emitter","_onMainWorldConsoleApiCalled","bind","_onMainWorldBindingCalled","updateId","id","updateClient","page","isOOPFrame","goto","url","options","referer","networkManager","extraHTTPHeaders","referrerPolicy","waitUntil","timeout","navigationTimeout","ensureNewDocumentNavigation","watcher","LifecycleWatcher","error","Deferred","race","navigate","terminationPromise","newDocumentNavigationPromise","sameDocumentNavigationPromise","navigationResponse","dispose","referrer","response","send","loaderId","errorText","Error","isErrorLike","waitForNavigation","ignoreSameDocumentNavigation","result","mainRealm","isolatedRealm","setContent","html","setFrameContent","lifecyclePromise","parentFrame","_frameTree","childFrames","waitForDevicePrompt","_deviceRequestPromptManager","call","_navigated","framePayload","_name","name","urlFragment","_navigatedWithinDocument","_onLifecycleEvent","_lifecycleEvents","clear","add","_hasStartedLoading","detached","exposeFunction","UnsupportedOperation","__esDecorate","kind","static","private","access","has","obj","get","metadata","_metadata","event","emit","FrameManagerEvent","ConsoleApiCalled","BindingCalled","rootFrame","mainFrame","exports"],"sources":["../../../../src/cdp/Frame.ts"],"sourcesContent":[null],"mappings":";;AAAA;;;;;AAAA,IAAAA,2BAAA,GAAAC,OAAA,+GAAAC,OAAA;AAAA,IAAAC,eAAA,GAAAF,OAAA,mGAAAC,OAAA;AAAA,IAAAE,0BAAA,GAAAH,OAAA,8GAAAC,OAAA;AAAA,IAAAG,qBAAA,GAAAJ,OAAA,0GAAAC,OAAA;AAAA,IAAAI,iBAAA,GAAAL,OAAA,qGAAAC,OAAA;AAAA,IAAAK,qBAAA,GAAAN,OAAA,0GAAAC,OAAA;AAAAD,OAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASA,MAAAO,UAAA,GAAAP,OAAA;AAGA,MAAAQ,WAAA,GAAAR,OAAA;AACA,MAAAS,aAAA,GAAAT,OAAA;AACA,MAAAU,eAAA,GAAAV,OAAA;AACA,MAAAW,cAAA,GAAAX,OAAA;AAOA,MAAAY,uBAAA,GAAAZ,OAAA;AAEA,MAAAa,kBAAA,GAAAb,OAAA;AACA,MAAAc,mBAAA,GAAAd,OAAA;AACA,MAAAe,qBAAA,GAAAf,OAAA;AAMA;;;IAGagB,QAAQ,KAAAC,IAAA,EAAAC,SAAA,EAAAC,IAAA,EAAAC,SAAA,EAAAC,OAAA,EAAAC,eAAA;oBAASf,UAAA,CAAAgB,KAAK;;;;;;gLAwUjCC,gBAAA,IAtOCjB,UAAA,CAAAkB,eAAe,GAAAC,6BAAA,IAoFfnB,UAAA,CAAAkB,eAAe,GAAAE,sBAAA,IAqDfpB,UAAA,CAAAkB,eAAe,GAAAG,+BAAA,IAsDfrB,UAAA,CAAAkB,eAAe,GAuCff,eAAA,CAAAmB,aAAa,IAAAX,SAAA,G,MAxUHF,QAAS,SAAQc,WAAK;IAcjCC,YACEC,YAA0B,EAC1BC,OAAe,EACfC,aAAiC,EACjCC,MAAkB;MAElB,KAAK,EAAE;MAACpC,2BAAA,OAAAuB,eAAA;MAAAnB,0BAAA,OAAAgB,IAAA,GAnBNiB,iBAAA,OAAAC,0BAAA,GAAG,EAAE;MAAAlC,0BAAA,OAAAiB,SAAA,EACG,KAAK;MAAAjB,0BAAA,OAAAkB,OAAA;MAAAnB,eAAA;MAAAA,eAAA,oBAIL,EAAE;MAAAA,eAAA,2BACK,IAAIoC,GAAG,EAAU;MAAApC,eAAA;MAAAA,eAAA;MAAAA,eAAA;MAclC,IAAI,CAACqC,aAAa,GAAGP,YAAY;MACjC1B,qBAAA,CAAAa,IAAA,MAAI,EAAQ,EAAE;MACd,IAAI,CAACqB,GAAG,GAAGP,OAAO;MAClB,IAAI,CAACQ,SAAS,GAAGP,aAAa;MAC9B5B,qBAAA,CAAAc,SAAA,MAAI,EAAa,KAAK;MACtBd,qBAAA,CAAAe,OAAA,MAAI,EAAWc,MAAM;MAErB,IAAI,CAACO,SAAS,GAAG,EAAE;MACnB,IAAI,CAACC,MAAM,GAAG;QACZ,CAAC7B,mBAAA,CAAA8B,UAAU,GAAG,IAAI/B,kBAAA,CAAAgC,aAAa,CAAC,IAAI,EAAE,IAAI,CAACN,aAAa,CAACO,eAAe,CAAC;QACzE,CAAChC,mBAAA,CAAAiC,eAAe,GAAG,IAAIlC,kBAAA,CAAAgC,aAAa,CAClC,IAAI,EACJ,IAAI,CAACN,aAAa,CAACO,eAAe;OAErC;MAED,IAAI,CAACE,EAAE,CAACzC,UAAA,CAAA0C,UAAU,CAACC,wBAAwB,EAAE,MAAK;QAChD;QACA,IAAI,CAACC,iBAAiB,EAAE;QACxB,IAAI,CAACC,iBAAiB,EAAE;MAC1B,CAAC,CAAC;MAEF,IAAI,CAACT,MAAM,CAAC7B,mBAAA,CAAA8B,UAAU,CAAC,CAACS,OAAO,CAACL,EAAE,CAChC,kBAAkB,EAClB3C,iBAAA,CAAAiB,eAAA,MAAI,EAAAgC,4BAAA,EAA8BC,IAAI,CAAC,IAAI,CAAC,CAC7C;MACD,IAAI,CAACZ,MAAM,CAAC7B,mBAAA,CAAA8B,UAAU,CAAC,CAACS,OAAO,CAACL,EAAE,CAChC,eAAe,EACf3C,iBAAA,CAAAiB,eAAA,MAAI,EAAAkC,yBAAA,EAA2BD,IAAI,CAAC,IAAI,CAAC,CAC1C;IACH;IAkBA;;;;;IAKAlC,OAAOA,CAAA;MACL,OAAAjB,qBAAA,CAAAiB,OAAA,EAAO,IAAI;IACb;IAEA;;;;IAIAoC,QAAQA,CAACC,EAAU;MACjB,IAAI,CAAClB,GAAG,GAAGkB,EAAE;IACf;IAEAC,YAAYA,CAACxB,MAAkB;MAC7B7B,qBAAA,CAAAe,OAAA,MAAI,EAAWc,MAAM;IACvB;IAESyB,IAAIA,CAAA;MACX,OAAO,IAAI,CAACrB,aAAa,CAACqB,IAAI,EAAE;IAClC;IAESC,UAAUA,CAAA;MACjB,OAAOzD,qBAAA,CAAAiB,OAAA,MAAI,MAAa,IAAI,CAACkB,aAAa,CAACJ,MAAM;IACnD;IAGS,MAAM2B,IAAIA,CACjBC,GAAW,EACXC,OAAA,GAKI,EAAE;MAEN,MAAM;QACJC,OAAO,GAAG,IAAI,CAAC1B,aAAa,CAAC2B,cAAc,CAACC,gBAAgB,EAAE,CAAC,SAAS,CAAC;QACzEC,cAAc,GAAG,IAAI,CAAC7B,aAAa,CAAC2B,cAAc,CAACC,gBAAgB,EAAE,CACnE,gBAAgB,CACjB;QACDE,SAAS,GAAG,CAAC,MAAM,CAAC;QACpBC,OAAO,GAAG,IAAI,CAAC/B,aAAa,CAACO,eAAe,CAACyB,iBAAiB;MAAE,CACjE,GAAGP,OAAO;MAEX,IAAIQ,2BAA2B,GAAG,KAAK;MACvC,MAAMC,OAAO,GAAG,IAAI1D,qBAAA,CAAA2D,gBAAgB,CAClC,IAAI,CAACnC,aAAa,CAAC2B,cAAc,EACjC,IAAI,EACJG,SAAS,EACTC,OAAO,CACR;MACD,IAAIK,KAAK,GAAG,MAAMlE,aAAA,CAAAmE,QAAQ,CAACC,IAAI,CAAC,CAC9BC,QAAQ,CAAA1E,qBAAA,CAAAiB,OAAA,EACN,IAAI,GACJ0C,GAAG,EACHE,OAAO,EACPG,cAA8C,EAC9C,IAAI,CAAC5B,GAAG,CACT,EACDiC,OAAO,CAACM,kBAAkB,EAAE,CAC7B,CAAC;MACF,IAAI,CAACJ,KAAK,EAAE;QACVA,KAAK,GAAG,MAAMlE,aAAA,CAAAmE,QAAQ,CAACC,IAAI,CAAC,CAC1BJ,OAAO,CAACM,kBAAkB,EAAE,EAC5BP,2BAA2B,GACvBC,OAAO,CAACO,4BAA4B,EAAE,GACtCP,OAAO,CAACQ,6BAA6B,EAAE,CAC5C,CAAC;MACJ;MAEA,IAAI;QACF,IAAIN,KAAK,EAAE;UACT,MAAMA,KAAK;QACb;QACA,OAAO,MAAMF,OAAO,CAACS,kBAAkB,EAAE;MAC3C,CAAC,SAAS;QACRT,OAAO,CAACU,OAAO,EAAE;MACnB;MAEA,eAAeL,QAAQA,CACrB3C,MAAkB,EAClB4B,GAAW,EACXqB,QAA4B,EAC5BhB,cAAwD,EACxDnC,OAAe;QAEf,IAAI;UACF,MAAMoD,QAAQ,GAAG,MAAMlD,MAAM,CAACmD,IAAI,CAAC,eAAe,EAAE;YAClDvB,GAAG;YACHqB,QAAQ;YACRnD,OAAO;YACPmC;WACD,CAAC;UACFI,2BAA2B,GAAG,CAAC,CAACa,QAAQ,CAACE,QAAQ;UACjD,IAAIF,QAAQ,CAACG,SAAS,KAAK,qCAAqC,EAAE;YAChE,OAAO,IAAI;UACb;UACA,OAAOH,QAAQ,CAACG,SAAS,GACrB,IAAIC,KAAK,CAAC,GAAGJ,QAAQ,CAACG,SAAS,OAAOzB,GAAG,EAAE,CAAC,GAC5C,IAAI;QACV,CAAC,CAAC,OAAOY,KAAK,EAAE;UACd,IAAI,IAAAhE,cAAA,CAAA+E,WAAW,EAACf,KAAK,CAAC,EAAE;YACtB,OAAOA,KAAK;UACd;UACA,MAAMA,KAAK;QACb;MACF;IACF;IAGS,MAAMgB,iBAAiBA,CAC9B3B,OAAA,GAII,EAAE;MAEN,MAAM;QACJK,SAAS,GAAG,CAAC,MAAM,CAAC;QACpBC,OAAO,GAAG,IAAI,CAAC/B,aAAa,CAACO,eAAe,CAACyB,iBAAiB;MAAE,CACjE,GAAGP,OAAO;MACX,MAAMS,OAAO,GAAG,IAAI1D,qBAAA,CAAA2D,gBAAgB,CAClC,IAAI,CAACnC,aAAa,CAAC2B,cAAc,EACjC,IAAI,EACJG,SAAS,EACTC,OAAO,CACR;MACD,MAAMK,KAAK,GAAG,MAAMlE,aAAA,CAAAmE,QAAQ,CAACC,IAAI,CAAC,CAChCJ,OAAO,CAACM,kBAAkB,EAAE,EAC5B,IAAIf,OAAO,CAAC4B,4BAA4B,GACpC,EAAE,GACF,CAACnB,OAAO,CAACQ,6BAA6B,EAAE,CAAC,CAAC,EAC9CR,OAAO,CAACO,4BAA4B,EAAE,CACvC,CAAC;MACF,IAAI;QACF,IAAIL,KAAK,EAAE;UACT,MAAMA,KAAK;QACb;QACA,MAAMkB,MAAM,GAAG,MAAMpF,aAAA,CAAAmE,QAAQ,CAACC,IAAI,CAEhC,CAACJ,OAAO,CAACM,kBAAkB,EAAE,EAAEN,OAAO,CAACS,kBAAkB,EAAE,CAAC,CAAC;QAC/D,IAAIW,MAAM,YAAYJ,KAAK,EAAE;UAC3B,MAAMd,KAAK;QACb;QACA,OAAOkB,MAAM,IAAI,IAAI;MACvB,CAAC,SAAS;QACRpB,OAAO,CAACU,OAAO,EAAE;MACnB;IACF;IAEA,IAAahD,MAAMA,CAAA;MACjB,OAAA/B,qBAAA,CAAAiB,OAAA,EAAO,IAAI;IACb;IAESyE,SAASA,CAAA;MAChB,OAAO,IAAI,CAACnD,MAAM,CAAC7B,mBAAA,CAAA8B,UAAU,CAAC;IAChC;IAESmD,aAAaA,CAAA;MACpB,OAAO,IAAI,CAACpD,MAAM,CAAC7B,mBAAA,CAAAiC,eAAe,CAAC;IACrC;IAGS,MAAMiD,UAAUA,CACvBC,IAAY,EACZjC,OAAA,GAGI,EAAE;MAEN,MAAM;QACJK,SAAS,GAAG,CAAC,MAAM,CAAC;QACpBC,OAAO,GAAG,IAAI,CAAC/B,aAAa,CAACO,eAAe,CAACyB,iBAAiB;MAAE,CACjE,GAAGP,OAAO;MAEX;MACA;MACA,MAAM,IAAI,CAACkC,eAAe,CAACD,IAAI,CAAC;MAEhC,MAAMxB,OAAO,GAAG,IAAI1D,qBAAA,CAAA2D,gBAAgB,CAClC,IAAI,CAACnC,aAAa,CAAC2B,cAAc,EACjC,IAAI,EACJG,SAAS,EACTC,OAAO,CACR;MACD,MAAMK,KAAK,GAAG,MAAMlE,aAAA,CAAAmE,QAAQ,CAACC,IAAI,CAA2B,CAC1DJ,OAAO,CAACM,kBAAkB,EAAE,EAC5BN,OAAO,CAAC0B,gBAAgB,EAAE,CAC3B,CAAC;MACF1B,OAAO,CAACU,OAAO,EAAE;MACjB,IAAIR,KAAK,EAAE;QACT,MAAMA,KAAK;MACb;IACF;IAESZ,GAAGA,CAAA;MACV,OAAA3D,qBAAA,CAAAe,IAAA,EAAO,IAAI;IACb;IAESiF,WAAWA,CAAA;MAClB,OAAO,IAAI,CAAC7D,aAAa,CAAC8D,UAAU,CAACD,WAAW,CAAC,IAAI,CAAC5D,GAAG,CAAC,IAAI,IAAI;IACpE;IAES8D,WAAWA,CAAA;MAClB,OAAO,IAAI,CAAC/D,aAAa,CAAC8D,UAAU,CAACC,WAAW,CAAC,IAAI,CAAC9D,GAAG,CAAC;IAC5D;IAYS,MAAM+D,mBAAmBA,CAChCvC,OAAA,GAA8B,EAAE;MAEhC,OAAO,MAAM3D,iBAAA,CAAAiB,eAAA,MAAI,EAAAkF,2BAAA,EAAAC,IAAA,CAAJ,IAAI,EAA+BF,mBAAmB,CACjEvC,OAAO,CACR;IACH;IAEA0C,UAAUA,CAACC,YAAiC;MAC1C,IAAI,CAACC,KAAK,GAAGD,YAAY,CAACE,IAAI;MAC9BvG,qBAAA,CAAAa,IAAA,MAAI,EAAQ,GAAGwF,YAAY,CAAC5C,GAAG,GAAG4C,YAAY,CAACG,WAAW,IAAI,EAAE,EAAE;IACpE;IAEAC,wBAAwBA,CAAChD,GAAW;MAClCzD,qBAAA,CAAAa,IAAA,MAAI,EAAQ4C,GAAG;IACjB;IAEAiD,iBAAiBA,CAACzB,QAAgB,EAAEsB,IAAY;MAC9C,IAAIA,IAAI,KAAK,MAAM,EAAE;QACnB,IAAI,CAACnE,SAAS,GAAG6C,QAAQ;QACzB,IAAI,CAAC0B,gBAAgB,CAACC,KAAK,EAAE;MAC/B;MACA,IAAI,CAACD,gBAAgB,CAACE,GAAG,CAACN,IAAI,CAAC;IACjC;IAEAzD,iBAAiBA,CAAA;MACf,IAAI,CAAC6D,gBAAgB,CAACE,GAAG,CAAC,kBAAkB,CAAC;MAC7C,IAAI,CAACF,gBAAgB,CAACE,GAAG,CAAC,MAAM,CAAC;IACnC;IAEAhE,iBAAiBA,CAAA;MACf,IAAI,CAACiE,kBAAkB,GAAG,IAAI;IAChC;IAEA,IAAaC,QAAQA,CAAA;MACnB,OAAAjH,qBAAA,CAAAgB,SAAA,EAAO,IAAI;IACb;IAEA,CAAAH,IAAA,IAAe;MACb,IAAAb,qBAAA,CAAAgB,SAAA,EAAI,IAAI,GAAY;QAClB;MACF;MACAd,qBAAA,CAAAc,SAAA,MAAI,EAAa,IAAI;MACrB,IAAI,CAACuB,MAAM,CAAC7B,mBAAA,CAAA8B,UAAU,CAAC,CAAClC,eAAA,CAAAmB,aAAa,CAAC,EAAE;MACxC,IAAI,CAACc,MAAM,CAAC7B,mBAAA,CAAAiC,eAAe,CAAC,CAACrC,eAAA,CAAAmB,aAAa,CAAC,EAAE;IAC/C;IAEAyF,cAAcA,CAAA;MACZ,MAAM,IAAI9G,WAAA,CAAA+G,oBAAoB,EAAE;IAClC;;;IAhPAC,YAAA,CAAAtG,SAAA,QAAAM,gBAAA;MAAAiG,IAAA;MAAAZ,IAAA;MAAAa,MAAA;MAAAC,OAAA;MAAAC,MAAA;QAAAC,GAAA,EAAAC,GAAA,cAAAA,GAAA;QAAAC,GAAA,EAAAD,GAAA,IAAAA,GAAA,CAAehE;MAAI;MAAAkE,QAAA,EAAAC;IAAA,SAAA5F,0BAAA;IAoFnBmF,YAAA,CAAAtG,SAAA,QAAAQ,6BAAA;MAAA+F,IAAA;MAAAZ,IAAA;MAAAa,MAAA;MAAAC,OAAA;MAAAC,MAAA;QAAAC,GAAA,EAAAC,GAAA,2BAAAA,GAAA;QAAAC,GAAA,EAAAD,GAAA,IAAAA,GAAA,CAAenC;MAAiB;MAAAqC,QAAA,EAAAC;IAAA,SAAA5F,0BAAA;IAqDhCmF,YAAA,CAAAtG,SAAA,QAAAS,sBAAA;MAAA8F,IAAA;MAAAZ,IAAA;MAAAa,MAAA;MAAAC,OAAA;MAAAC,MAAA;QAAAC,GAAA,EAAAC,GAAA,oBAAAA,GAAA;QAAAC,GAAA,EAAAD,GAAA,IAAAA,GAAA,CAAe9B;MAAU;MAAAgC,QAAA,EAAAC;IAAA,SAAA5F,0BAAA;IAsDzBmF,YAAA,CAAAtG,SAAA,QAAAU,+BAAA;MAAA6F,IAAA;MAAAZ,IAAA;MAAAa,MAAA;MAAAC,OAAA;MAAAC,MAAA;QAAAC,GAAA,EAAAC,GAAA,6BAAAA,GAAA;QAAAC,GAAA,EAAAD,GAAA,IAAAA,GAAA,CAAevB;MAAmB;MAAAyB,QAAA,EAAAC;IAAA,SAAA5F,0BAAA;;;;;;;;wCA5OhC6F,KAA6C;IAE7C,IAAI,CAAC3F,aAAa,CAAC4F,IAAI,CAACvH,uBAAA,CAAAwH,iBAAiB,CAACC,gBAAgB,EAAE,CAC1D,IAAI,CAAC1F,MAAM,CAAC7B,mBAAA,CAAA8B,UAAU,CAAC,EACvBsF,KAAK,CACN,CAAC;EACJ;EAAC,SAAA1E,0BAEyB0E,KAA0C;IAClE,IAAI,CAAC3F,aAAa,CAAC4F,IAAI,CAACvH,uBAAA,CAAAwH,iBAAiB,CAACE,aAAa,EAAE,CACvD,IAAI,CAAC3F,MAAM,CAAC7B,mBAAA,CAAA8B,UAAU,CAAC,EACvBsF,KAAK,CACN,CAAC;EACJ;EAAC,SAAA1B,4BAAA,EAqN0B;IACzB,MAAM+B,SAAS,GAAG,IAAI,CAAC3E,IAAI,EAAE,CAAC4E,SAAS,EAAE;IACzC,IAAI,IAAI,CAAC3E,UAAU,EAAE,IAAI0E,SAAS,KAAK,IAAI,EAAE;MAC3C,OAAO,IAAI,CAAChG,aAAa,CAACiE,2BAA2B,CAAApG,qBAAA,CAAAiB,OAAA,EAAC,IAAI,CAAQ,CAAC;IACrE,CAAC,MAAM;MACL,OAAOkH,SAAS,CAAChG,aAAa,CAACiE,2BAA2B,CAAApG,qBAAA,CAAAiB,OAAA,EAAC,IAAI,CAAQ,CAAC;IAC1E;EACF;;AA/RWoH,OAAA,CAAAzH,QAAA,GAAAA,QAAA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}