{"ast":null,"code":"\"use strict\";\n\n/**\n * Copyright 2022 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar _classPrivateFieldInitSpec = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldInitSpec.js\").default;\nvar _classPrivateFieldGet = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldGet2.js\").default;\nvar _classPrivateFieldSet = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldSet2.js\").default;\nrequire(\"core-js/modules/es.array.push.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Buffer = void 0;\n/** Implements a FIFO buffer with a fixed size. */\nvar _capacity = /*#__PURE__*/new WeakMap();\nvar _entries = /*#__PURE__*/new WeakMap();\nvar _onItemRemoved = /*#__PURE__*/new WeakMap();\nclass Buffer {\n  /**\n   * @param capacity The buffer capacity.\n   * @param onItemRemoved Delegate called for each removed element.\n   */\n  constructor(capacity, onItemRemoved) {\n    _classPrivateFieldInitSpec(this, _capacity, void 0);\n    _classPrivateFieldInitSpec(this, _entries, []);\n    _classPrivateFieldInitSpec(this, _onItemRemoved, void 0);\n    _classPrivateFieldSet(_capacity, this, capacity);\n    _classPrivateFieldSet(_onItemRemoved, this, onItemRemoved);\n  }\n  get() {\n    return _classPrivateFieldGet(_entries, this);\n  }\n  add(value) {\n    _classPrivateFieldGet(_entries, this).push(value);\n    while (_classPrivateFieldGet(_entries, this).length > _classPrivateFieldGet(_capacity, this)) {\n      const item = _classPrivateFieldGet(_entries, this).shift();\n      if (item !== undefined) {\n        _classPrivateFieldGet(_onItemRemoved, this)?.call(this, item);\n      }\n    }\n  }\n}\nexports.Buffer = Buffer;","map":{"version":3,"names":["_classPrivateFieldInitSpec","require","default","_classPrivateFieldGet","_classPrivateFieldSet","_capacity","WeakMap","_entries","_onItemRemoved","Buffer","constructor","capacity","onItemRemoved","get","add","value","push","length","item","shift","undefined","call","exports"],"sources":["../../../src/utils/Buffer.ts"],"sourcesContent":[null],"mappings":";;AAAA;;;;;;;;;;;;;;;;AAAA,IAAAA,0BAAA,GAAAC,OAAA,8GAAAC,OAAA;AAAA,IAAAC,qBAAA,GAAAF,OAAA,0GAAAC,OAAA;AAAA,IAAAE,qBAAA,GAAAH,OAAA,0GAAAC,OAAA;AAAAD,OAAA;;;;;AAiBA;AAAA,IAAAI,SAAA,oBAAAC,OAAA;AAAA,IAAAC,QAAA,oBAAAD,OAAA;AAAA,IAAAE,cAAA,oBAAAF,OAAA;AACA,MAAaG,MAAM;EAKjB;;;;EAIAC,YAAYC,QAAgB,EAAEC,aAAkC;IAAAZ,0BAAA,OAAAK,SAAA;IAAAL,0BAAA,OAAAO,QAAA,EAPvC,EAAE;IAAAP,0BAAA,OAAAQ,cAAA;IAQzBJ,qBAAA,CAAAC,SAAA,MAAI,EAAaM,QAAQ;IACzBP,qBAAA,CAAAI,cAAA,MAAI,EAAkBI,aAAa;EACrC;EAEAC,GAAGA,CAAA;IACD,OAAAV,qBAAA,CAAAI,QAAA,EAAO,IAAI;EACb;EAEAO,GAAGA,CAACC,KAAQ;IACVZ,qBAAA,CAAAI,QAAA,MAAI,EAAUS,IAAI,CAACD,KAAK,CAAC;IACzB,OAAOZ,qBAAA,CAAAI,QAAA,MAAI,EAAUU,MAAM,GAAAd,qBAAA,CAAAE,SAAA,EAAG,IAAI,CAAU,EAAE;MAC5C,MAAMa,IAAI,GAAGf,qBAAA,CAAAI,QAAA,MAAI,EAAUY,KAAK,EAAE;MAClC,IAAID,IAAI,KAAKE,SAAS,EAAE;QACtBjB,qBAAA,CAAAK,cAAA,MAAI,GAAAa,IAAA,CAAJ,IAAI,EAAkBH,IAAI;MAC5B;IACF;EACF;;AA1BFI,OAAA,CAAAb,MAAA,GAAAA,MAAA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}