{"ast":null,"code":"\"use strict\";\n\n/**\n * @license\n * Copyright 2018 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nvar _classPrivateFieldInitSpec = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldInitSpec.js\").default;\nvar _defineProperty = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/defineProperty.js\").default;\nvar _classPrivateFieldGet = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldGet2.js\").default;\nvar _classPrivateFieldSet = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldSet2.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.WebWorker = void 0;\nconst Errors_js_1 = require(\"../common/Errors.js\");\nconst EventEmitter_js_1 = require(\"../common/EventEmitter.js\");\nconst TimeoutSettings_js_1 = require(\"../common/TimeoutSettings.js\");\nconst util_js_1 = require(\"../common/util.js\");\n/**\n * This class represents a\n * {@link https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API | WebWorker}.\n *\n * @remarks\n * The events `workercreated` and `workerdestroyed` are emitted on the page\n * object to signal the worker lifecycle.\n *\n * @example\n *\n * ```ts\n * page.on('workercreated', worker =>\n *   console.log('Worker created: ' + worker.url())\n * );\n * page.on('workerdestroyed', worker =>\n *   console.log('Worker destroyed: ' + worker.url())\n * );\n *\n * console.log('Current workers:');\n * for (const worker of page.workers()) {\n *   console.log('  ' + worker.url());\n * }\n * ```\n *\n * @public\n */\nvar _url = /*#__PURE__*/new WeakMap();\nclass WebWorker extends EventEmitter_js_1.EventEmitter {\n  /**\n   * @internal\n   */\n  constructor(url) {\n    super();\n    /**\n     * @internal\n     */\n    _defineProperty(this, \"timeoutSettings\", new TimeoutSettings_js_1.TimeoutSettings());\n    _classPrivateFieldInitSpec(this, _url, void 0);\n    _classPrivateFieldSet(_url, this, url);\n  }\n  /**\n   * The URL of this web worker.\n   */\n  url() {\n    return _classPrivateFieldGet(_url, this);\n  }\n  /**\n   * Evaluates a given function in the {@link WebWorker | worker}.\n   *\n   * @remarks If the given function returns a promise,\n   * {@link WebWorker.evaluate | evaluate} will wait for the promise to resolve.\n   *\n   * As a rule of thumb, if the return value of the given function is more\n   * complicated than a JSON object (e.g. most classes), then\n   * {@link WebWorker.evaluate | evaluate} will _likely_ return some truncated\n   * value (or `{}`). This is because we are not returning the actual return\n   * value, but a deserialized version as a result of transferring the return\n   * value through a protocol to Puppeteer.\n   *\n   * In general, you should use\n   * {@link WebWorker.evaluateHandle | evaluateHandle} if\n   * {@link WebWorker.evaluate | evaluate} cannot serialize the return value\n   * properly or you need a mutable {@link JSHandle | handle} to the return\n   * object.\n   *\n   * @param func - Function to be evaluated.\n   * @param args - Arguments to pass into `func`.\n   * @returns The result of `func`.\n   */\n  async evaluate(func, ...args) {\n    func = (0, util_js_1.withSourcePuppeteerURLIfNone)(this.evaluate.name, func);\n    return await this.mainRealm().evaluate(func, ...args);\n  }\n  /**\n   * Evaluates a given function in the {@link WebWorker | worker}.\n   *\n   * @remarks If the given function returns a promise,\n   * {@link WebWorker.evaluate | evaluate} will wait for the promise to resolve.\n   *\n   * In general, you should use\n   * {@link WebWorker.evaluateHandle | evaluateHandle} if\n   * {@link WebWorker.evaluate | evaluate} cannot serialize the return value\n   * properly or you need a mutable {@link JSHandle | handle} to the return\n   * object.\n   *\n   * @param func - Function to be evaluated.\n   * @param args - Arguments to pass into `func`.\n   * @returns A {@link JSHandle | handle} to the return value of `func`.\n   */\n  async evaluateHandle(func, ...args) {\n    func = (0, util_js_1.withSourcePuppeteerURLIfNone)(this.evaluateHandle.name, func);\n    return await this.mainRealm().evaluateHandle(func, ...args);\n  }\n  async close() {\n    throw new Errors_js_1.UnsupportedOperation('WebWorker.close() is not supported');\n  }\n}\nexports.WebWorker = WebWorker;","map":{"version":3,"names":["_classPrivateFieldInitSpec","require","default","_defineProperty","_classPrivateFieldGet","_classPrivateFieldSet","Errors_js_1","EventEmitter_js_1","TimeoutSettings_js_1","util_js_1","_url","WeakMap","WebWorker","EventEmitter","constructor","url","TimeoutSettings","evaluate","func","args","withSourcePuppeteerURLIfNone","name","mainRealm","evaluateHandle","close","UnsupportedOperation","exports"],"sources":["../../../../src/api/WebWorker.ts"],"sourcesContent":[null],"mappings":";;AAAA;;;;;AAAA,IAAAA,0BAAA,GAAAC,OAAA,8GAAAC,OAAA;AAAA,IAAAC,eAAA,GAAAF,OAAA,mGAAAC,OAAA;AAAA,IAAAE,qBAAA,GAAAH,OAAA,0GAAAC,OAAA;AAAA,IAAAG,qBAAA,GAAAJ,OAAA,0GAAAC,OAAA;;;;;AAMA,MAAAI,WAAA,GAAAL,OAAA;AACA,MAAAM,iBAAA,GAAAN,OAAA;AACA,MAAAO,oBAAA,GAAAP,OAAA;AAEA,MAAAQ,SAAA,GAAAR,OAAA;AAKA;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAAS,IAAA,oBAAAC,OAAA;AA0BA,MAAsBC,SAAU,SAAQL,iBAAA,CAAAM,YAEvC;EAQC;;;EAGAC,YAAYC,GAAW;IACrB,KAAK,EAAE;IAXT;;;IAAAZ,eAAA,0BAG2B,IAAIK,oBAAA,CAAAQ,eAAe,EAAE;IAAAhB,0BAAA,OAAAU,IAAA;IAU9CL,qBAAA,CAAAK,IAAA,MAAI,EAAQK,GAAG;EACjB;EAOA;;;EAGAA,GAAGA,CAAA;IACD,OAAAX,qBAAA,CAAAM,IAAA,EAAO,IAAI;EACb;EAOA;;;;;;;;;;;;;;;;;;;;;;;EAuBA,MAAMO,QAAQA,CAGZC,IAAmB,EAAE,GAAGC,IAAY;IACpCD,IAAI,GAAG,IAAAT,SAAA,CAAAW,4BAA4B,EAAC,IAAI,CAACH,QAAQ,CAACI,IAAI,EAAEH,IAAI,CAAC;IAC7D,OAAO,MAAM,IAAI,CAACI,SAAS,EAAE,CAACL,QAAQ,CAACC,IAAI,EAAE,GAAGC,IAAI,CAAC;EACvD;EAEA;;;;;;;;;;;;;;;;EAgBA,MAAMI,cAAcA,CAIlBL,IAAmB,EACnB,GAAGC,IAAY;IAEfD,IAAI,GAAG,IAAAT,SAAA,CAAAW,4BAA4B,EAAC,IAAI,CAACG,cAAc,CAACF,IAAI,EAAEH,IAAI,CAAC;IACnE,OAAO,MAAM,IAAI,CAACI,SAAS,EAAE,CAACC,cAAc,CAACL,IAAI,EAAE,GAAGC,IAAI,CAAC;EAC7D;EAEA,MAAMK,KAAKA,CAAA;IACT,MAAM,IAAIlB,WAAA,CAAAmB,oBAAoB,CAAC,oCAAoC,CAAC;EACtE;;AAhGFC,OAAA,CAAAd,SAAA,GAAAA,SAAA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}