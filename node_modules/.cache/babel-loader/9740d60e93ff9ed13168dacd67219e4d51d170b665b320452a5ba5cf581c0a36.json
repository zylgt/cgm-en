{"ast":null,"code":"\"use strict\";\n\nvar _classPrivateMethodInitSpec = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateMethodInitSpec.js\").default;\nvar _classPrivateFieldInitSpec = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldInitSpec.js\").default;\nvar _assertClassBrand = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/assertClassBrand.js\").default;\nvar _classPrivateFieldGet = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldGet2.js\").default;\nvar _classPrivateFieldSet = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldSet2.js\").default;\nrequire(\"core-js/modules/es.array.push.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.InputProcessor = void 0;\n/*\n * Copyright 2023 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst protocol_js_1 = require(\"../../../protocol/protocol.js\");\nconst assert_js_1 = require(\"../../../utils/assert.js\");\nconst ActionDispatcher_js_1 = require(\"../input/ActionDispatcher.js\");\nconst InputStateManager_js_1 = require(\"../input/InputStateManager.js\");\nvar _browsingContextStorage = /*#__PURE__*/new WeakMap();\nvar _realmStorage = /*#__PURE__*/new WeakMap();\nvar _inputStateManager = /*#__PURE__*/new WeakMap();\nvar _InputProcessor_brand = /*#__PURE__*/new WeakSet();\nclass InputProcessor {\n  constructor(browsingContextStorage, realmStorage) {\n    _classPrivateMethodInitSpec(this, _InputProcessor_brand);\n    _classPrivateFieldInitSpec(this, _browsingContextStorage, void 0);\n    _classPrivateFieldInitSpec(this, _realmStorage, void 0);\n    _classPrivateFieldInitSpec(this, _inputStateManager, new InputStateManager_js_1.InputStateManager());\n    _classPrivateFieldSet(_browsingContextStorage, this, browsingContextStorage);\n    _classPrivateFieldSet(_realmStorage, this, realmStorage);\n  }\n  async performActions(params) {\n    const context = _classPrivateFieldGet(_browsingContextStorage, this).getContext(params.context);\n    const inputState = _classPrivateFieldGet(_inputStateManager, this).get(context.top);\n    const actionsByTick = _assertClassBrand(_InputProcessor_brand, this, _getActionsByTick).call(this, params, inputState);\n    const dispatcher = new ActionDispatcher_js_1.ActionDispatcher(inputState, context, await ActionDispatcher_js_1.ActionDispatcher.isMacOS(context).catch(() => false));\n    await dispatcher.dispatchActions(actionsByTick);\n    return {};\n  }\n  async releaseActions(params) {\n    const context = _classPrivateFieldGet(_browsingContextStorage, this).getContext(params.context);\n    const topContext = context.top;\n    const inputState = _classPrivateFieldGet(_inputStateManager, this).get(topContext);\n    const dispatcher = new ActionDispatcher_js_1.ActionDispatcher(inputState, context, await ActionDispatcher_js_1.ActionDispatcher.isMacOS(context).catch(() => false));\n    await dispatcher.dispatchTickActions(inputState.cancelList.reverse());\n    _classPrivateFieldGet(_inputStateManager, this).delete(topContext);\n    return {};\n  }\n  async setFiles(params) {\n    const context = _classPrivateFieldGet(_browsingContextStorage, this).getContext(params.context);\n    const realm = await context.getOrCreateSandbox(undefined);\n    let result;\n    try {\n      result = await realm.callFunction(String(function getFiles(fileListLength) {\n        if (!(this instanceof HTMLInputElement)) {\n          return 0 /* ErrorCode.Object */;\n        }\n        if (this.type !== 'file') {\n          return 1 /* ErrorCode.Type */;\n        }\n        if (this.disabled) {\n          return 2 /* ErrorCode.Disabled */;\n        }\n        if (fileListLength > 1 && !this.multiple) {\n          return 3 /* ErrorCode.Multiple */;\n        }\n        return;\n      }), false, params.element, [{\n        type: 'number',\n        value: params.files.length\n      }]);\n    } catch {\n      throw new protocol_js_1.NoSuchElementException(`Could not find element ${params.element.sharedId}`);\n    }\n    (0, assert_js_1.assert)(result.type === 'success');\n    if (result.result.type === 'number') {\n      switch (result.result.value) {\n        case 0 /* ErrorCode.Object */:\n          {\n            throw new protocol_js_1.NoSuchElementException(`Could not find element ${params.element.sharedId}`);\n          }\n        case 1 /* ErrorCode.Type */:\n          {\n            throw new protocol_js_1.UnableToSetFileInputException(`Element ${params.element.sharedId} is not a file input`);\n          }\n        case 2 /* ErrorCode.Disabled */:\n          {\n            throw new protocol_js_1.UnableToSetFileInputException(`Input element ${params.element.sharedId} is disabled`);\n          }\n        case 3 /* ErrorCode.Multiple */:\n          {\n            throw new protocol_js_1.UnableToSetFileInputException(`Cannot set multiple files on a non-multiple input element`);\n          }\n      }\n    }\n    /**\n     * The zero-length array is a special case, it seems that\n     * DOM.setFileInputFiles does not actually update the files in that case, so\n     * the solution is to eval the element value to a new FileList directly.\n     */\n    if (params.files.length === 0) {\n      // XXX: These events should converted to trusted events. Perhaps do this\n      // in `DOM.setFileInputFiles`?\n      await realm.callFunction(String(function dispatchEvent() {\n        if (this.files?.length === 0) {\n          this.dispatchEvent(new Event('cancel', {\n            bubbles: true\n          }));\n          return;\n        }\n        this.files = new DataTransfer().files;\n        // Dispatch events for this case because it should behave akin to a user action.\n        this.dispatchEvent(new Event('input', {\n          bubbles: true,\n          composed: true\n        }));\n        this.dispatchEvent(new Event('change', {\n          bubbles: true\n        }));\n      }), false, params.element);\n      return {};\n    }\n    // Our goal here is to iterate over the input element files and get their\n    // file paths.\n    const paths = [];\n    for (let i = 0; i < params.files.length; ++i) {\n      const result = await realm.callFunction(String(function getFiles(index) {\n        return this.files?.item(index);\n      }), false, params.element, [{\n        type: 'number',\n        value: 0\n      }], \"root\" /* Script.ResultOwnership.Root */);\n      (0, assert_js_1.assert)(result.type === 'success');\n      if (result.result.type !== 'object') {\n        break;\n      }\n      const {\n        handle\n      } = result.result;\n      (0, assert_js_1.assert)(handle !== undefined);\n      const {\n        path\n      } = await realm.cdpClient.sendCommand('DOM.getFileInfo', {\n        objectId: handle\n      });\n      paths.push(path);\n      // Cleanup the handle.\n      void realm.disown(handle).catch(undefined);\n    }\n    paths.sort();\n    // We create a new array so we preserve the order of the original files.\n    const sortedFiles = [...params.files].sort();\n    if (paths.length !== params.files.length || sortedFiles.some((path, index) => {\n      return paths[index] !== path;\n    })) {\n      const {\n        objectId\n      } = await realm.deserializeForCdp(params.element);\n      // This cannot throw since this was just used in `callFunction` above.\n      (0, assert_js_1.assert)(objectId !== undefined);\n      await realm.cdpClient.sendCommand('DOM.setFileInputFiles', {\n        files: params.files,\n        objectId\n      });\n    } else {\n      // XXX: We should dispatch a trusted event.\n      await realm.callFunction(String(function dispatchEvent() {\n        this.dispatchEvent(new Event('cancel', {\n          bubbles: true\n        }));\n      }), false, params.element);\n    }\n    return {};\n  }\n}\nfunction _getActionsByTick(params, inputState) {\n  const actionsByTick = [];\n  for (const action of params.actions) {\n    switch (action.type) {\n      case \"pointer\" /* SourceType.Pointer */:\n        {\n          action.parameters ??= {\n            pointerType: \"mouse\" /* Input.PointerType.Mouse */\n          };\n          action.parameters.pointerType ??= \"mouse\" /* Input.PointerType.Mouse */;\n          const source = inputState.getOrCreate(action.id, \"pointer\" /* SourceType.Pointer */, action.parameters.pointerType);\n          if (source.subtype !== action.parameters.pointerType) {\n            throw new protocol_js_1.InvalidArgumentException(`Expected input source ${action.id} to be ${source.subtype}; got ${action.parameters.pointerType}.`);\n          }\n          break;\n        }\n      default:\n        inputState.getOrCreate(action.id, action.type);\n    }\n    const actions = action.actions.map(item => ({\n      id: action.id,\n      action: item\n    }));\n    for (let i = 0; i < actions.length; i++) {\n      if (actionsByTick.length === i) {\n        actionsByTick.push([]);\n      }\n      actionsByTick[i].push(actions[i]);\n    }\n  }\n  return actionsByTick;\n}\nexports.InputProcessor = InputProcessor;","map":{"version":3,"names":["protocol_js_1","require","assert_js_1","ActionDispatcher_js_1","InputStateManager_js_1","_browsingContextStorage","WeakMap","_realmStorage","_inputStateManager","_InputProcessor_brand","WeakSet","InputProcessor","constructor","browsingContextStorage","realmStorage","_classPrivateMethodInitSpec","_classPrivateFieldInitSpec","InputStateManager","_classPrivateFieldSet","performActions","params","context","_classPrivateFieldGet","getContext","inputState","get","top","actionsByTick","_assertClassBrand","_getActionsByTick","call","dispatcher","ActionDispatcher","isMacOS","catch","dispatchActions","releaseActions","topContext","dispatchTickActions","cancelList","reverse","delete","setFiles","realm","getOrCreateSandbox","undefined","result","callFunction","String","getFiles","fileListLength","HTMLInputElement","type","disabled","multiple","element","value","files","length","NoSuchElementException","sharedId","assert","UnableToSetFileInputException","dispatchEvent","Event","bubbles","DataTransfer","composed","paths","i","index","item","handle","path","cdpClient","sendCommand","objectId","push","disown","sort","sortedFiles","some","deserializeForCdp","action","actions","parameters","pointerType","source","getOrCreate","id","subtype","InvalidArgumentException","map","exports"],"sources":["../../../../../src/bidiMapper/modules/input/InputProcessor.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}