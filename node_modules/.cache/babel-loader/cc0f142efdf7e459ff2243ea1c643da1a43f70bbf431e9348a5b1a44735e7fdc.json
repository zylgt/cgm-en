{"ast":null,"code":"import _classPrivateMethodInitSpec from \"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/esm/classPrivateMethodInitSpec.js\";\nimport _classPrivateFieldInitSpec from \"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/esm/classPrivateFieldInitSpec.js\";\nimport _assertClassBrand from \"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/esm/assertClassBrand.js\";\nimport _classPrivateFieldGet from \"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/esm/classPrivateFieldGet2.js\";\nimport _classPrivateFieldSet from \"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/esm/classPrivateFieldSet2.js\";\n/**\n * @license\n * Copyright 2019 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nimport { FrameEvent } from '../api/Frame.js';\nimport { EventEmitter } from '../common/EventEmitter.js';\nimport { NetworkManagerEvent } from '../common/NetworkManagerEvents.js';\nimport { assert } from '../util/assert.js';\nimport { Deferred } from '../util/Deferred.js';\nimport { DisposableStack } from '../util/disposable.js';\nimport { FrameManagerEvent } from './FrameManagerEvents.js';\nconst puppeteerToProtocolLifecycle = new Map([['load', 'load'], ['domcontentloaded', 'DOMContentLoaded'], ['networkidle0', 'networkIdle'], ['networkidle2', 'networkAlmostIdle']]);\n/**\n * @internal\n */\nvar _expectedLifecycle = /*#__PURE__*/new WeakMap();\nvar _frame = /*#__PURE__*/new WeakMap();\nvar _timeout = /*#__PURE__*/new WeakMap();\nvar _navigationRequest = /*#__PURE__*/new WeakMap();\nvar _subscriptions = /*#__PURE__*/new WeakMap();\nvar _initialLoaderId = /*#__PURE__*/new WeakMap();\nvar _terminationDeferred = /*#__PURE__*/new WeakMap();\nvar _sameDocumentNavigationDeferred = /*#__PURE__*/new WeakMap();\nvar _lifecycleDeferred = /*#__PURE__*/new WeakMap();\nvar _newDocumentNavigationDeferred = /*#__PURE__*/new WeakMap();\nvar _hasSameDocumentNavigation = /*#__PURE__*/new WeakMap();\nvar _swapped = /*#__PURE__*/new WeakMap();\nvar _navigationResponseReceived = /*#__PURE__*/new WeakMap();\nvar _LifecycleWatcher_brand = /*#__PURE__*/new WeakSet();\nexport class LifecycleWatcher {\n  constructor(networkManager, _frame2, waitUntil, timeout) {\n    _classPrivateMethodInitSpec(this, _LifecycleWatcher_brand);\n    _classPrivateFieldInitSpec(this, _expectedLifecycle, void 0);\n    _classPrivateFieldInitSpec(this, _frame, void 0);\n    _classPrivateFieldInitSpec(this, _timeout, void 0);\n    _classPrivateFieldInitSpec(this, _navigationRequest, null);\n    _classPrivateFieldInitSpec(this, _subscriptions, new DisposableStack());\n    _classPrivateFieldInitSpec(this, _initialLoaderId, void 0);\n    _classPrivateFieldInitSpec(this, _terminationDeferred, void 0);\n    _classPrivateFieldInitSpec(this, _sameDocumentNavigationDeferred, Deferred.create());\n    _classPrivateFieldInitSpec(this, _lifecycleDeferred, Deferred.create());\n    _classPrivateFieldInitSpec(this, _newDocumentNavigationDeferred, Deferred.create());\n    _classPrivateFieldInitSpec(this, _hasSameDocumentNavigation, void 0);\n    _classPrivateFieldInitSpec(this, _swapped, void 0);\n    _classPrivateFieldInitSpec(this, _navigationResponseReceived, void 0);\n    if (Array.isArray(waitUntil)) {\n      waitUntil = waitUntil.slice();\n    } else if (typeof waitUntil === 'string') {\n      waitUntil = [waitUntil];\n    }\n    _classPrivateFieldSet(_initialLoaderId, this, _frame2._loaderId);\n    _classPrivateFieldSet(_expectedLifecycle, this, waitUntil.map(value => {\n      const protocolEvent = puppeteerToProtocolLifecycle.get(value);\n      assert(protocolEvent, 'Unknown value for options.waitUntil: ' + value);\n      return protocolEvent;\n    }));\n    _classPrivateFieldSet(_frame, this, _frame2);\n    _classPrivateFieldSet(_timeout, this, timeout);\n    const frameManagerEmitter = _classPrivateFieldGet(_subscriptions, this).use(new EventEmitter(_frame2._frameManager));\n    frameManagerEmitter.on(FrameManagerEvent.LifecycleEvent, _assertClassBrand(_LifecycleWatcher_brand, this, _checkLifecycleComplete).bind(this));\n    const frameEmitter = _classPrivateFieldGet(_subscriptions, this).use(new EventEmitter(_frame2));\n    frameEmitter.on(FrameEvent.FrameNavigatedWithinDocument, _assertClassBrand(_LifecycleWatcher_brand, this, _navigatedWithinDocument).bind(this));\n    frameEmitter.on(FrameEvent.FrameNavigated, _assertClassBrand(_LifecycleWatcher_brand, this, _navigated).bind(this));\n    frameEmitter.on(FrameEvent.FrameSwapped, _assertClassBrand(_LifecycleWatcher_brand, this, _frameSwapped).bind(this));\n    frameEmitter.on(FrameEvent.FrameSwappedByActivation, _assertClassBrand(_LifecycleWatcher_brand, this, _frameSwapped).bind(this));\n    frameEmitter.on(FrameEvent.FrameDetached, _assertClassBrand(_LifecycleWatcher_brand, this, _onFrameDetached).bind(this));\n    const networkManagerEmitter = _classPrivateFieldGet(_subscriptions, this).use(new EventEmitter(networkManager));\n    networkManagerEmitter.on(NetworkManagerEvent.Request, _assertClassBrand(_LifecycleWatcher_brand, this, _onRequest).bind(this));\n    networkManagerEmitter.on(NetworkManagerEvent.Response, _assertClassBrand(_LifecycleWatcher_brand, this, _onResponse).bind(this));\n    networkManagerEmitter.on(NetworkManagerEvent.RequestFailed, _assertClassBrand(_LifecycleWatcher_brand, this, _onRequestFailed).bind(this));\n    _classPrivateFieldSet(_terminationDeferred, this, Deferred.create({\n      timeout: _classPrivateFieldGet(_timeout, this),\n      message: `Navigation timeout of ${_classPrivateFieldGet(_timeout, this)} ms exceeded`\n    }));\n    _assertClassBrand(_LifecycleWatcher_brand, this, _checkLifecycleComplete).call(this);\n  }\n  async navigationResponse() {\n    // Continue with a possibly null response.\n    await _classPrivateFieldGet(_navigationResponseReceived, this)?.valueOrThrow();\n    return _classPrivateFieldGet(_navigationRequest, this) ? _classPrivateFieldGet(_navigationRequest, this).response() : null;\n  }\n  sameDocumentNavigationPromise() {\n    return _classPrivateFieldGet(_sameDocumentNavigationDeferred, this).valueOrThrow();\n  }\n  newDocumentNavigationPromise() {\n    return _classPrivateFieldGet(_newDocumentNavigationDeferred, this).valueOrThrow();\n  }\n  lifecyclePromise() {\n    return _classPrivateFieldGet(_lifecycleDeferred, this).valueOrThrow();\n  }\n  terminationPromise() {\n    return _classPrivateFieldGet(_terminationDeferred, this).valueOrThrow();\n  }\n  dispose() {\n    _classPrivateFieldGet(_subscriptions, this).dispose();\n    _classPrivateFieldGet(_terminationDeferred, this).resolve(new Error('LifecycleWatcher disposed'));\n  }\n}\nfunction _onRequest(request) {\n  if (request.frame() !== _classPrivateFieldGet(_frame, this) || !request.isNavigationRequest()) {\n    return;\n  }\n  _classPrivateFieldSet(_navigationRequest, this, request);\n  // Resolve previous navigation response in case there are multiple\n  // navigation requests reported by the backend. This generally should not\n  // happen by it looks like it's possible.\n  _classPrivateFieldGet(_navigationResponseReceived, this)?.resolve();\n  _classPrivateFieldSet(_navigationResponseReceived, this, Deferred.create());\n  if (request.response() !== null) {\n    _classPrivateFieldGet(_navigationResponseReceived, this)?.resolve();\n  }\n}\nfunction _onRequestFailed(request) {\n  if (_classPrivateFieldGet(_navigationRequest, this)?.id !== request.id) {\n    return;\n  }\n  _classPrivateFieldGet(_navigationResponseReceived, this)?.resolve();\n}\nfunction _onResponse(response) {\n  if (_classPrivateFieldGet(_navigationRequest, this)?.id !== response.request().id) {\n    return;\n  }\n  _classPrivateFieldGet(_navigationResponseReceived, this)?.resolve();\n}\nfunction _onFrameDetached(frame) {\n  if (_classPrivateFieldGet(_frame, this) === frame) {\n    _classPrivateFieldGet(_terminationDeferred, this).resolve(new Error('Navigating frame was detached'));\n    return;\n  }\n  _assertClassBrand(_LifecycleWatcher_brand, this, _checkLifecycleComplete).call(this);\n}\nfunction _navigatedWithinDocument() {\n  _classPrivateFieldSet(_hasSameDocumentNavigation, this, true);\n  _assertClassBrand(_LifecycleWatcher_brand, this, _checkLifecycleComplete).call(this);\n}\nfunction _navigated(navigationType) {\n  if (navigationType === 'BackForwardCacheRestore') {\n    return _assertClassBrand(_LifecycleWatcher_brand, this, _frameSwapped).call(this);\n  }\n  _assertClassBrand(_LifecycleWatcher_brand, this, _checkLifecycleComplete).call(this);\n}\nfunction _frameSwapped() {\n  _classPrivateFieldSet(_swapped, this, true);\n  _assertClassBrand(_LifecycleWatcher_brand, this, _checkLifecycleComplete).call(this);\n}\nfunction _checkLifecycleComplete() {\n  // We expect navigation to commit.\n  if (!checkLifecycle(_classPrivateFieldGet(_frame, this), _classPrivateFieldGet(_expectedLifecycle, this))) {\n    return;\n  }\n  _classPrivateFieldGet(_lifecycleDeferred, this).resolve();\n  if (_classPrivateFieldGet(_hasSameDocumentNavigation, this)) {\n    _classPrivateFieldGet(_sameDocumentNavigationDeferred, this).resolve(undefined);\n  }\n  if (_classPrivateFieldGet(_swapped, this) || _classPrivateFieldGet(_frame, this)._loaderId !== _classPrivateFieldGet(_initialLoaderId, this)) {\n    _classPrivateFieldGet(_newDocumentNavigationDeferred, this).resolve(undefined);\n  }\n  function checkLifecycle(frame, expectedLifecycle) {\n    for (const event of expectedLifecycle) {\n      if (!frame._lifecycleEvents.has(event)) {\n        return false;\n      }\n    }\n    // TODO(#1): Its possible we don't need this check\n    // CDP provided the correct order for Loading Events\n    // And NetworkIdle is a global state\n    // Consider removing\n    for (const child of frame.childFrames()) {\n      if (child._hasStartedLoading && !checkLifecycle(child, expectedLifecycle)) {\n        return false;\n      }\n    }\n    return true;\n  }\n}","map":{"version":3,"names":["FrameEvent","EventEmitter","NetworkManagerEvent","assert","Deferred","DisposableStack","FrameManagerEvent","puppeteerToProtocolLifecycle","Map","_expectedLifecycle","WeakMap","_frame","_timeout","_navigationRequest","_subscriptions","_initialLoaderId","_terminationDeferred","_sameDocumentNavigationDeferred","_lifecycleDeferred","_newDocumentNavigationDeferred","_hasSameDocumentNavigation","_swapped","_navigationResponseReceived","_LifecycleWatcher_brand","WeakSet","LifecycleWatcher","constructor","networkManager","frame","waitUntil","timeout","_classPrivateMethodInitSpec","_classPrivateFieldInitSpec","create","Array","isArray","slice","_classPrivateFieldSet","_loaderId","map","value","protocolEvent","get","frameManagerEmitter","_classPrivateFieldGet","use","_frameManager","on","LifecycleEvent","_assertClassBrand","_checkLifecycleComplete","bind","frameEmitter","FrameNavigatedWithinDocument","_navigatedWithinDocument","FrameNavigated","_navigated","FrameSwapped","_frameSwapped","FrameSwappedByActivation","FrameDetached","_onFrameDetached","networkManagerEmitter","Request","_onRequest","Response","_onResponse","RequestFailed","_onRequestFailed","message","call","navigationResponse","valueOrThrow","response","sameDocumentNavigationPromise","newDocumentNavigationPromise","lifecyclePromise","terminationPromise","dispose","resolve","Error","request","isNavigationRequest","id","navigationType","checkLifecycle","undefined","expectedLifecycle","event","_lifecycleEvents","has","child","childFrames","_hasStartedLoading"],"sources":["../../../../src/cdp/LifecycleWatcher.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}