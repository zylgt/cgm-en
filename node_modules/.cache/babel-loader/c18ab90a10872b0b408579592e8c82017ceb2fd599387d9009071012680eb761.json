{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Cookies from 'js-cookie';\nimport { removeToken } from '@/utils/auth';\nimport maskPhoneNumber from '@/utils/phone';\nimport Horizontal from \"./horizontal\";\nexport default {\n  data() {\n    return {\n      language: Cookies.get('language') ? Cookies.get('language') : navigator.language,\n      menu: '',\n      name: Cookies.get(\"username\") ? Cookies.get(\"username\").charAt(0) : '游',\n      username: Cookies.get(\"username\") ? maskPhoneNumber(Cookies.get(\"username\")) : '游'\n    };\n  },\n  components: {\n    Horizontal\n  },\n  computed: {\n    defaultActive() {\n      let index = this.$route.path.lastIndexOf('/');\n      return index == 0 ? this.$route.path : this.$route.path.substring(0, index);\n    }\n  },\n  created() {\n    this.menu = this.$router.options.routes[1].childrenthis;\n    this.setSendChildren();\n  },\n  methods: {\n    userCommand(command) {\n      if (command == 'signout') {\n        this.$message({\n          type: 'success',\n          message: '退出成功'\n        });\n        this.$router.push('/login');\n        removeToken();\n      } else {\n        this.changeDialog = true;\n      }\n    },\n    languageCommand(commoand) {\n      this.language = commoand;\n      if (commoand == 'en') {\n        this.$i18n.locale = 'en';\n        Cookies.set('language', 'en');\n      } else {\n        this.$i18n.locale = 'zh-cn';\n        Cookies.set('language', 'zh-cn');\n      }\n    },\n    // 传送当前子级数据到菜单中\n    setSendChildren() {\n      let path = this.$route.path;\n      const currentPathSplit = path.split(\"/\");\n      let currentData = {};\n      this.menu.map((v, k) => {\n        if (v.path === `/${currentPathSplit[1]}`) {\n          v[\"k\"] = k;\n          currentData[\"item\"] = [{\n            ...v\n          }];\n          currentData[\"children\"] = [{\n            ...v\n          }];\n          if (v.children) currentData[\"children\"] = v.children;\n        }\n      });\n      console.log(currentData);\n      return currentData;\n    }\n  }\n};","map":{"version":3,"names":["Cookies","removeToken","maskPhoneNumber","Horizontal","data","language","get","navigator","menu","name","charAt","username","components","computed","defaultActive","index","$route","path","lastIndexOf","substring","created","$router","options","routes","childrenthis","setSendChildren","methods","userCommand","command","$message","type","message","push","changeDialog","languageCommand","commoand","$i18n","locale","set","currentPathSplit","split","currentData","map","v","k","children","console","log"],"sources":["src/views/layout/layout.vue"],"sourcesContent":["<template>\n    <el-container class='layout'>\n        <el-header class='header' height='84px' >\n            <div class='header-title' >\n                <img src=\"~@/assets/image/logo.png\" alt=\"\" class='logo' >\n                iHealth CGM\n            </div>\n            <Horizontal/>\n            <div class='header-other '>\n                <div class='header-user' >\n                    <el-avatar size='medium'>{{name}} </el-avatar>\n                    <div class='username' >{{username}}</div>\n                    <el-dropdown  @command=\"userCommand\" >\n                        <div class='user-info' >\n                            <i class=\"el-icon-more user-more\"></i>\n                        </div>\n                        <el-dropdown-menu slot=\"dropdown\">\n                            <el-dropdown-item command=\"change\">{{$t(\"message.changePassword\")}}</el-dropdown-item>\n                            <el-dropdown-item command=\"signout\">{{$t(\"message.logout\")}}</el-dropdown-item>\n                        </el-dropdown-menu>\n                    </el-dropdown>\n                </div>\n            </div>\n        </el-header>\n        <el-container >\n            <el-aside class='menu vertical' width='300px;' >\n                <el-menu style=\"min-height: 100%;\" theme=\"dark\" router :default-active=\"defaultActive\">\n                        <el-menu-item v-for=\"item in menu\" :key='item.name'  :index='item.path'  >\n                            <img :src=\"item.meta.icons\" alt=\"\" v-if='item.path==defaultActiveh' >\n                            <img :src=\"item.meta.icon\" alt=\"\" v-else>\n                            {{$t('message.route.'+item.meta.title)}}\n                        </el-menu-item>\n                </el-menu>\n            </el-aside>\n            <el-main class='main' >\n                 <router-view></router-view>\n            </el-main>\n        </el-container>\n      \n    </el-container>\n</template>\n<script>\nimport Cookies from 'js-cookie'\nimport {removeToken} from '@/utils/auth'\nimport maskPhoneNumber from '@/utils/phone'\nimport Horizontal from \"./horizontal\"\nexport default {\n    data(){\n        return{\n            language: Cookies.get('language')?Cookies.get('language'):navigator.language,\n            menu:'',\n            name: Cookies.get(\"username\")?Cookies.get(\"username\").charAt(0):'游',\n            username:Cookies.get(\"username\")? maskPhoneNumber(Cookies.get(\"username\")) :'游'\n        }\n    },\n    components:{\n        Horizontal\n    },\n    computed:{\n        defaultActive(){\n            let index = this.$route.path.lastIndexOf('/')\n            return index==0?this.$route.path:this.$route.path.substring(0,index)\n        }\n    },\n    created(){\n        this.menu = this.$router.options.routes[1].childrenthis\n        this.setSendChildren()\n\n    },\n    methods:{\n        userCommand(command){\n            if(command=='signout'){\n                this.$message({\n                    type: 'success',\n                    message: '退出成功'\n                });\n                this.$router.push('/login');\n                removeToken()\n            }else{\n                this.changeDialog = true\n            }\n            \n        },\n        languageCommand(commoand){\n             this.language=commoand\n            if(commoand=='en'){\n                this.$i18n.locale='en'\n                Cookies.set('language','en')\n            }else{\n                this.$i18n.locale='zh-cn'\n                Cookies.set('language','zh-cn')\n            }\n        },\n        // 传送当前子级数据到菜单中\n        setSendChildren() {\n            let path = this.$route.path\n            const currentPathSplit = path.split(\"/\")\n            let currentData = {}\n            this.menu.map((v, k) => {\n                if (v.path === `/${currentPathSplit[1]}`) {\n                v[\"k\"] = k\n                currentData[\"item\"] = [{ ...v }]\n                currentData[\"children\"] = [{ ...v }]\n                if (v.children) currentData[\"children\"] = v.children\n                }\n            })\n            console.log(currentData)\n            return currentData\n        },\n    },\n\n    \n}\n</script>\n<style  scoped>\n    .layout{\n        height:100%;\n    }\n    .header{\n        height:84px;\n        display: flex;\n        align-items: center;\n        background: #fff;\n        justify-content: space-between;\n    }\n    .header-title{\n        font-size:24px;\n        color:var(--color-primary);\n        width:230px;\n        font-weight: 440;\n        display: flex;\n        align-items: center;\n    }\n    .logo{\n        margin:0 14px;\n    }\n    .header-other{\n        display: flex;\n        align-items: center;\n        justify-content: flex-end;\n        height:100%;\n    }\n    .language{\n        width:140px;\n        position: relative;\n    }\n    .el-dropdown-link{\n        font-size:16px;\n    }\n    .header-user{\n        height: 30px;\n        position: relative;\n        display: flex;\n        align-items: center;\n    }\n    .username{\n        font-size:15px;\n        color:#666;\n        font-weight: 700;\n        margin:0 10px;\n    }\n    .user-info{\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    }\n    .user-more{\n        transform: rotate(90deg);\n        font-size:16px;\n    }\n    .avatars{\n        width:30px;\n        height:30px;\n        border-radius:50%;\n        display: block;\n    }\n    .el-avatar{\n        font-size: 24px;\n    }\n    .contain{\n        width:100%;\n        display: flex;\n        flex-grow: 1;\n    }\n    .menu{\n        width:300px;\n        border-right:1px solid #f2f2f2;\n        border-top:1px solid #b3b3b3;\n    }\n    .main{\n        background:#f7f7f7;\n    }\n    .record-btn{\n        display: flex;\n        justify-content: flex-end;\n    }\n    .box-card{\n        padding:30px 60px;\n    }\n    .el-container{\n        overflow-y: auto;\n    }\n</style>"],"mappings":";AA0CA,OAAAA,OAAA;AACA,SAAAC,WAAA;AACA,OAAAC,eAAA;AACA,OAAAC,UAAA;AACA;EACAC,KAAA;IACA;MACAC,QAAA,EAAAL,OAAA,CAAAM,GAAA,eAAAN,OAAA,CAAAM,GAAA,eAAAC,SAAA,CAAAF,QAAA;MACAG,IAAA;MACAC,IAAA,EAAAT,OAAA,CAAAM,GAAA,eAAAN,OAAA,CAAAM,GAAA,aAAAI,MAAA;MACAC,QAAA,EAAAX,OAAA,CAAAM,GAAA,eAAAJ,eAAA,CAAAF,OAAA,CAAAM,GAAA;IACA;EACA;EACAM,UAAA;IACAT;EACA;EACAU,QAAA;IACAC,cAAA;MACA,IAAAC,KAAA,QAAAC,MAAA,CAAAC,IAAA,CAAAC,WAAA;MACA,OAAAH,KAAA,aAAAC,MAAA,CAAAC,IAAA,QAAAD,MAAA,CAAAC,IAAA,CAAAE,SAAA,IAAAJ,KAAA;IACA;EACA;EACAK,QAAA;IACA,KAAAZ,IAAA,QAAAa,OAAA,CAAAC,OAAA,CAAAC,MAAA,IAAAC,YAAA;IACA,KAAAC,eAAA;EAEA;EACAC,OAAA;IACAC,YAAAC,OAAA;MACA,IAAAA,OAAA;QACA,KAAAC,QAAA;UACAC,IAAA;UACAC,OAAA;QACA;QACA,KAAAV,OAAA,CAAAW,IAAA;QACA/B,WAAA;MACA;QACA,KAAAgC,YAAA;MACA;IAEA;IACAC,gBAAAC,QAAA;MACA,KAAA9B,QAAA,GAAA8B,QAAA;MACA,IAAAA,QAAA;QACA,KAAAC,KAAA,CAAAC,MAAA;QACArC,OAAA,CAAAsC,GAAA;MACA;QACA,KAAAF,KAAA,CAAAC,MAAA;QACArC,OAAA,CAAAsC,GAAA;MACA;IACA;IACA;IACAb,gBAAA;MACA,IAAAR,IAAA,QAAAD,MAAA,CAAAC,IAAA;MACA,MAAAsB,gBAAA,GAAAtB,IAAA,CAAAuB,KAAA;MACA,IAAAC,WAAA;MACA,KAAAjC,IAAA,CAAAkC,GAAA,EAAAC,CAAA,EAAAC,CAAA;QACA,IAAAD,CAAA,CAAA1B,IAAA,SAAAsB,gBAAA;UACAI,CAAA,QAAAC,CAAA;UACAH,WAAA;YAAA,GAAAE;UAAA;UACAF,WAAA;YAAA,GAAAE;UAAA;UACA,IAAAA,CAAA,CAAAE,QAAA,EAAAJ,WAAA,eAAAE,CAAA,CAAAE,QAAA;QACA;MACA;MACAC,OAAA,CAAAC,GAAA,CAAAN,WAAA;MACA,OAAAA,WAAA;IACA;EACA;AAGA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}