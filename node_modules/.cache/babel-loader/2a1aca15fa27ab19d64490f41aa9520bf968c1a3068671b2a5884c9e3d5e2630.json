{"ast":null,"code":"import PdfLoader from \"@/utils/export/html2pdf\";\nexport default {\n  data() {\n    return {};\n  },\n  mounted() {\n    console.log(this.$refs.test.offsetTop);\n  },\n  methods: {\n    // 打印\n    print() {\n      let printMe = document.querySelector(\"#report\");\n      let printWindow = window.open('', '_blank');\n      printWindow.document.write(printMe.innerHTML);\n      printWindow.document.close();\n      printWindow.focus();\n      printWindow.print();\n      printWindow.close();\n    },\n    // 导出pdf\n    handleExport() {\n      // console.log(formatTime(new Date()),'开始下载')   \n      let pdf = new PdfLoader(document.querySelector(\"#overviewpage\"), \"pdf\"\n      // \"noSplitBox\"\n      );\n      pdf.outPutPdfFn().then(response => {\n        //  console.log(formatTime(new Date()),'下载完成')   \n        console.log(response);\n      });\n    }\n  }\n};","map":{"version":3,"names":["PdfLoader","data","mounted","console","log","$refs","test","offsetTop","methods","print","printMe","document","querySelector","printWindow","window","open","write","innerHTML","close","focus","handleExport","pdf","outPutPdfFn","then","response"],"sources":["src/views/pdfReport/report.vue"],"sourcesContent":["<template>\n    <div id='report' >\n            <div class='report-main-title-info' >\n                <img src=\"~@/assets/image/report-logo.png\" alt=\"\" class='report-logo' >\n                <div class='report-main-title' >动态葡萄糖监测报告</div>\n                <div class='report-main-date' >\n                    2024年3月1日<div class='repart-main-dirver-box'><span class='repart-main-dirver' ></span></div>2024年3月14日</div>\n            </div>\n            <!-- 基本信息 -->\n            <div class='report-main-base-info report-main' ref='test'>\n                <div class='report-module-title'  @click=\"handleExport\">\n                    <div class='report-module-title-border' ></div>\n                    <div class='report-module-title-text' >基本信息</div>\n                </div>\n                <div class='report-base-user' >\n                    <div class='report-base-user-item' >\n                        <div class='report-base-user-label'>姓名：</div>\n                        <div class='report-base-user-value'>卡布达</div>\n                    </div>  \n                    <div class='report-base-user-item' >\n                        <div class='report-base-user-label'>年龄：</div>\n                        <div class='report-base-user-value'>65</div>\n                    </div>  \n                    <div class='report-base-user-item' >\n                        <div class='report-base-user-label'>糖尿病类型：</div>\n                        <div class='report-base-user-value'>一型糖尿病</div>\n                    </div>  \n                    <div class='report-base-user-item' >\n                        <div class='report-base-user-label'>病程：</div>\n                        <div class='report-base-user-value'>5年</div>\n                    </div>  \n                    <div class='report-base-user-item' >\n                        <div class='report-base-user-label'>葡萄糖目标范围：</div>\n                        <div class='report-base-user-value'>3.9-10.0mmol/L</div>\n                    </div>  \n                </div>\n                <div class='report-data-source'>\n                    <div class='report-base-user-item' >\n                        <div class='report-base-user-label'>传感器序列号：</div>\n                        <div class='report-base-user-value'>CGM1234567</div>\n                    </div>  \n                    <div class='report-base-user-item' >\n                        <div class='report-base-user-label'>数据来源：</div>\n                        <div class='report-base-user-value'>iPhone XS Max</div>\n                    </div>  \n                    <div class='report-base-user-item' >\n                        <div class='report-base-user-label'>生成时间：</div>\n                        <div class='report-base-user-value'>2024年3月14日</div>\n                    </div>  \n                </div>\n            </div>\n            <!-- 血糖数据、TIR -->\n            <div class='report-main-data-tir-box' >\n                <div class='report-main-data-tir report-main' >\n                    <div class='report-module-title' >\n                        <div class='report-module-title-border' ></div>\n                        <div class='report-module-title-text' >血糖数据</div>\n                    </div>\n                    <div class='report-main-data-list'>\n                        <div class='report-main-data-label'>\n                            <div class='report-main-data-label-text' >CGM佩戴天数：</div>\n                        </div>\n                        <div class='report-main-data-val'>14天</div>\n                    </div>\n                    <div class='report-main-data-list'>\n                        <div class='report-main-data-label'>\n                            <div class='report-main-data-label-text' >CGM有效记录的时间占比：</div>\n                            <div class='report-main-data-label-tip' >目标值>70%才可得到有效数据分析</div>\n                        </div>\n                        <div class='report-main-data-val'>90%</div>\n                    </div>\n                    <div class='report-main-data-list'>\n                        <div class='report-main-data-label'>\n                            <div class='report-main-data-label-text' >MG 平均葡萄糖值：</div>\n                            <div class='report-main-data-label-tip' >目标值＜6.6mmol/L</div>\n                        </div>\n                        <div class='report-main-data-val'>6.5mmol/L</div>\n                    </div>\n                    <div class='report-main-data-list'>\n                        <div class='report-main-data-label'>\n                            <div class='report-main-data-label-text' >GMI 葡萄糖管理指标:</div>\n                            <div class='report-main-data-label-tip' >目标值＜7%</div>\n                        </div>\n                        <div class='report-main-data-val'>90%</div>\n                    </div>\n                    <div class='report-main-data-list'>\n                        <div class='report-main-data-label'>\n                            <div class='report-main-data-label-text' >CV 变异系数：</div>\n                            <div class='report-main-data-label-tip' >目标值＜33%</div>\n                        </div>\n                        <div class='report-main-data-val'>90%</div>\n                    </div>\n                </div>\n                <div class='report-main-data-tir report-main' >\n                    <div class='report-module-title' >\n                        <div class='report-module-title-border' ></div>\n                        <div class='report-module-title-text' >葡萄糖目标范围内时间</div>\n                    </div>\n                    <div class='report-module-tips' >\n                        葡萄糖目标范围内占比越高，代表血糖控制的越好。\n                    </div>\n                </div>\n            </div>\n            <!-- AGP图谱 -->\n            <div class='report-main-agp report-main' >\n                <div class='report-module-title' >\n                    <div class='report-module-title-border' ></div>\n                    <div class='report-module-title-text' >AGP图谱</div>\n                </div>\n                <div class='report-module-tips' >\n                     <div class='report-module-tips' >\n                       中位数葡萄糖曲位于目标范围内，且越平坦，表示血糖稳定性越好。25%-75%区间（图中深蓝色区域）与5%-95%区间（图中浅蓝色区域）均显示日间血糖波动情况，区间越宽提示相应时间段血糖波动越大。其中影响 25%-75%区间的因素主要是是生理状态(如胰岛素抵抗等)和药物治疗等。影响5%-95%区间的因素主要是饮食，运动等。\n                    </div>\n                </div>\n            </div>\n            <!-- 每日血糖 -->\n            <div class='report-main-day report-main' >\n                <div class='report-module-title' >\n                    <div class='report-module-title-border' ></div>\n                    <div class='report-module-title-text' >每日血糖简图</div>\n                </div>\n                <div class='report-module-tips' >\n                     <div class='report-module-tips' >\n                       每日血糖展示了14天中每天的血糖变化情况。\n                    </div>\n                </div>\n            </div>\n            <!-- <img src=\"~@/assets/image/test.jpg\" alt=\"\" class='test' > -->\n    </div>\n</template>\n<script>\nimport PdfLoader from \"@/utils/export/html2pdf\";\nexport default {\n    data(){\n        return{\n\n        }\n    },\n    mounted(){\n        console.log(this.$refs.test.offsetTop)\n    },\n    methods:{\n        // 打印\n        print(){\n            let printMe = document.querySelector(\"#report\");\n            let printWindow = window.open('', '_blank');\n            printWindow.document.write(printMe.innerHTML);\n            printWindow.document.close();\n            printWindow.focus();\n            printWindow.print();\n            printWindow.close();\n        },\n        // 导出pdf\n        handleExport() {\n            // console.log(formatTime(new Date()),'开始下载')   \n            let pdf = new PdfLoader(\n               document.querySelector(\"#overviewpage\"),\n              \"pdf\"\n              // \"noSplitBox\"\n            );\n            pdf.outPutPdfFn().then(response=>{\n                //  console.log(formatTime(new Date()),'下载完成')   \n                console.log(response)\n            });\n        },\n    }\n}\n</script>\n<style scoped>\n.test{\n    margin:0 auto;\n    display: block;\n    position: absolute;\n    opacity: 0.3;\n    left:0;\n    top:0;\n}\n/* 内容框设置 */\n    #report{\n        width:1680px;\n        height:2377px;\n        background:#fff;\n        margin:0 auto;\n        overflow: hidden;\n        box-sizing: border-box;\n        padding:75px 80px 0 80px;\n        position: relative;\n        transform: scale(0.35);\n        transform-origin: top center;\n    }\n    .report-main{\n        box-sizing: border-box;\n        padding:20px 20px 0 20px;\n    }\n/* 头部信息 */\n    .report-main-title-info{\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        margin-bottom:20px;\n    }\n    .report-logo{\n        width:60px;\n        height:60px;\n        display: block;\n    }\n    .report-main-title{\n        font-size:50px;\n        color:var(--color-primary);\n        /* font-family:MiLan-Medium; */\n        font-weight: 440;\n    }\n    .report-main-date{\n        font-size:20px;\n        color:var(--color-black-100);\n        display: flex;\n        align-items: center;\n    }\n    .repart-main-dirver-box{\n        width:20px;\n        height:20px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        margin:0 2px;\n    }\n    .repart-main-dirver{\n        width:16px;\n        height:1px;\n        background:var(--color-black-100);\n    }\n/* 模块标题 */\n    .report-module-title{\n        width:100%;\n        height:50px;\n        border-radius:4px;\n        background:rgba(50,186,192,0.1);\n        display: flex;\n        align-items: center;\n        box-shadow: 0px 2px 20px 0px rgba(0, 0, 0, 0.05);\n    }\n    .report-module-title-border{\n        width:3px;\n        height:24px;\n        background:var(--color-primary);\n        margin-left:10px;\n    }\n    .report-module-title-text{\n        font-size:20px;\n        color:var(--color-black-100);\n        /* font-family:MiLan-Medium; */\n        margin-left:4px;\n        font-weight: 700;\n    }\n    .report-module-tips{\n        font-size:16px;\n        color:var(--color-black-60);\n        padding:10px 0 0 10px;\n    }\n/* 基本信息 */\n    .report-main-base-info{\n        width:100%;\n        height:209px;\n    }\n    .report-base-user{\n        width:100%;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        margin:20px 0;\n        height:27px;\n        box-sizing: border-box;\n        padding:0px 20px 0px 10px;\n    }\n    .report-base-user-item{\n        display: flex;\n        align-items: center;\n        font-size:20px;\n    }\n    .report-base-user-label{\n        color:var(--color-black-60);\n    }\n    .report-base-user-value{\n        color:var(--color-black-100);\n    }\n    .report-data-source{\n        width:100%;\n        height:52px;\n        padding-left:40px;\n        padding-right:60px;\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        background:#f7f7f7;\n    }\n/* 血糖数据、TIR */\n    .report-main-data-tir-box{\n        width: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n    }\n    .report-main-data-tir{\n        width:750px;\n        height:446px;\n    }\n    .report-main-data-list{\n        width:100%;\n        height:75px;\n        box-sizing: border-box;\n        border-bottom:1px solid rgba(0, 0, 0, 0.3);\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n    }\n    .report-main-data-label-text{\n        font-size:20px;\n        color:var(--color-black-100);\n        height:27px;\n        line-height: 27px;\n    }\n    .report-main-data-label-tip{\n        font-size:16px;\n        color:var(--color-black-60);\n        height:18px;\n        line-height: 18px;\n    }\n    .report-main-data-val{\n        font-size:24px;\n        color:var(--color-black-100);\n        font-weight: 440;\n    }\n/* agp图谱 */\n    .report-main-agp{\n        width:100%;\n        height:567px;\n    }\n/* 每日血糖曲线 */\n    .report-main-day{\n        width:100%;\n        height:691px;\n    }\n</style>"],"mappings":"AAmIA,OAAAA,SAAA;AACA;EACAC,KAAA;IACA,QAEA;EACA;EACAC,QAAA;IACAC,OAAA,CAAAC,GAAA,MAAAC,KAAA,CAAAC,IAAA,CAAAC,SAAA;EACA;EACAC,OAAA;IACA;IACAC,MAAA;MACA,IAAAC,OAAA,GAAAC,QAAA,CAAAC,aAAA;MACA,IAAAC,WAAA,GAAAC,MAAA,CAAAC,IAAA;MACAF,WAAA,CAAAF,QAAA,CAAAK,KAAA,CAAAN,OAAA,CAAAO,SAAA;MACAJ,WAAA,CAAAF,QAAA,CAAAO,KAAA;MACAL,WAAA,CAAAM,KAAA;MACAN,WAAA,CAAAJ,KAAA;MACAI,WAAA,CAAAK,KAAA;IACA;IACA;IACAE,aAAA;MACA;MACA,IAAAC,GAAA,OAAArB,SAAA,CACAW,QAAA,CAAAC,aAAA,mBACA;MACA;MACA;MACAS,GAAA,CAAAC,WAAA,GAAAC,IAAA,CAAAC,QAAA;QACA;QACArB,OAAA,CAAAC,GAAA,CAAAoB,QAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}