{"ast":null,"code":"\"use strict\";\n\n/**\n * @license\n * Copyright 2024 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nvar _classPrivateMethodInitSpec = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateMethodInitSpec.js\").default;\nvar _defineProperty = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/defineProperty.js\").default;\nvar _classPrivateFieldInitSpec = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldInitSpec.js\").default;\nvar _classPrivateGetter = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateGetter.js\").default;\nvar _classPrivateFieldSet = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldSet2.js\").default;\nvar _assertClassBrand = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/assertClassBrand.js\").default;\nvar _classPrivateFieldGet = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldGet2.js\").default;\nrequire(\"core-js/modules/es.array.push.js\");\nvar __runInitializers = this && this.__runInitializers || function (thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n    value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\nvar __esDecorate = this && this.__esDecorate || function (ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) {\n    if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\");\n    return f;\n  }\n  var kind = contextIn.kind,\n    key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _,\n    done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n    var context = {};\n    for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n    for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n    context.addInitializer = function (f) {\n      if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\");\n      extraInitializers.push(accept(f || null));\n    };\n    var result = (0, decorators[i])(kind === \"accessor\" ? {\n      get: descriptor.get,\n      set: descriptor.set\n    } : descriptor[key], context);\n    if (kind === \"accessor\") {\n      if (result === void 0) continue;\n      if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n      if (_ = accept(result.get)) descriptor.get = _;\n      if (_ = accept(result.set)) descriptor.set = _;\n      if (_ = accept(result.init)) initializers.unshift(_);\n    } else if (_ = accept(result)) {\n      if (kind === \"field\") initializers.unshift(_);else descriptor[key] = _;\n    }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BrowsingContext = void 0;\nconst EventEmitter_js_1 = require(\"../../common/EventEmitter.js\");\nconst decorators_js_1 = require(\"../../util/decorators.js\");\nconst disposable_js_1 = require(\"../../util/disposable.js\");\nconst Navigation_js_1 = require(\"./Navigation.js\");\nconst Realm_js_1 = require(\"./Realm.js\");\nconst Request_js_1 = require(\"./Request.js\");\nconst UserPrompt_js_1 = require(\"./UserPrompt.js\");\n/**\n * @internal\n */\nlet BrowsingContext = ((_ref, _BrowsingContext, _navigation, _reason, _url, _children, _disposables, _realms, _requests, _BrowsingContext_brand) => {\n  var _a;\n  let _classSuper = EventEmitter_js_1.EventEmitter;\n  let _instanceExtraInitializers = [];\n  let _dispose_decorators;\n  let _activate_decorators;\n  let _captureScreenshot_decorators;\n  let _close_decorators;\n  let _traverseHistory_decorators;\n  let _navigate_decorators;\n  let _reload_decorators;\n  let _print_decorators;\n  let _handleUserPrompt_decorators;\n  let _setViewport_decorators;\n  let _performActions_decorators;\n  let _releaseActions_decorators;\n  let _createWindowRealm_decorators;\n  let _addPreloadScript_decorators;\n  let _addIntercept_decorators;\n  let _removePreloadScript_decorators;\n  let _getCookies_decorators;\n  let _setCookie_decorators;\n  let _setFiles_decorators;\n  let _subscribe_decorators;\n  let _addInterception_decorators;\n  let _deleteCookie_decorators;\n  let _locateNodes_decorators;\n  return _navigation = /*#__PURE__*/new WeakMap(), _reason = /*#__PURE__*/new WeakMap(), _url = /*#__PURE__*/new WeakMap(), _children = /*#__PURE__*/new WeakMap(), _disposables = /*#__PURE__*/new WeakMap(), _realms = /*#__PURE__*/new WeakMap(), _requests = /*#__PURE__*/new WeakMap(), _BrowsingContext_brand = /*#__PURE__*/new WeakSet(), _ref = (_dispose_decorators = [decorators_js_1.inertIfDisposed], _activate_decorators = [(0, decorators_js_1.throwIfDisposed)(context => {\n    // SAFETY: Disposal implies this exists.\n    return _classPrivateFieldGet(_reason, context);\n  })], _captureScreenshot_decorators = [(0, decorators_js_1.throwIfDisposed)(context => {\n    // SAFETY: Disposal implies this exists.\n    return _classPrivateFieldGet(_reason, context);\n  })], _close_decorators = [(0, decorators_js_1.throwIfDisposed)(context => {\n    // SAFETY: Disposal implies this exists.\n    return _classPrivateFieldGet(_reason, context);\n  })], _traverseHistory_decorators = [(0, decorators_js_1.throwIfDisposed)(context => {\n    // SAFETY: Disposal implies this exists.\n    return _classPrivateFieldGet(_reason, context);\n  })], _navigate_decorators = [(0, decorators_js_1.throwIfDisposed)(context => {\n    // SAFETY: Disposal implies this exists.\n    return _classPrivateFieldGet(_reason, context);\n  })], _reload_decorators = [(0, decorators_js_1.throwIfDisposed)(context => {\n    // SAFETY: Disposal implies this exists.\n    return _classPrivateFieldGet(_reason, context);\n  })], _print_decorators = [(0, decorators_js_1.throwIfDisposed)(context => {\n    // SAFETY: Disposal implies this exists.\n    return _classPrivateFieldGet(_reason, context);\n  })], _handleUserPrompt_decorators = [(0, decorators_js_1.throwIfDisposed)(context => {\n    // SAFETY: Disposal implies this exists.\n    return _classPrivateFieldGet(_reason, context);\n  })], _setViewport_decorators = [(0, decorators_js_1.throwIfDisposed)(context => {\n    // SAFETY: Disposal implies this exists.\n    return _classPrivateFieldGet(_reason, context);\n  })], _performActions_decorators = [(0, decorators_js_1.throwIfDisposed)(context => {\n    // SAFETY: Disposal implies this exists.\n    return _classPrivateFieldGet(_reason, context);\n  })], _releaseActions_decorators = [(0, decorators_js_1.throwIfDisposed)(context => {\n    // SAFETY: Disposal implies this exists.\n    return _classPrivateFieldGet(_reason, context);\n  })], _createWindowRealm_decorators = [(0, decorators_js_1.throwIfDisposed)(context => {\n    // SAFETY: Disposal implies this exists.\n    return _classPrivateFieldGet(_reason, context);\n  })], _addPreloadScript_decorators = [(0, decorators_js_1.throwIfDisposed)(context => {\n    // SAFETY: Disposal implies this exists.\n    return _classPrivateFieldGet(_reason, context);\n  })], _addIntercept_decorators = [(0, decorators_js_1.throwIfDisposed)(context => {\n    // SAFETY: Disposal implies this exists.\n    return _classPrivateFieldGet(_reason, context);\n  })], _removePreloadScript_decorators = [(0, decorators_js_1.throwIfDisposed)(context => {\n    // SAFETY: Disposal implies this exists.\n    return _classPrivateFieldGet(_reason, context);\n  })], _getCookies_decorators = [(0, decorators_js_1.throwIfDisposed)(context => {\n    // SAFETY: Disposal implies this exists.\n    return _classPrivateFieldGet(_reason, context);\n  })], _setCookie_decorators = [(0, decorators_js_1.throwIfDisposed)(context => {\n    // SAFETY: Disposal implies this exists.\n    return _classPrivateFieldGet(_reason, context);\n  })], _setFiles_decorators = [(0, decorators_js_1.throwIfDisposed)(context => {\n    // SAFETY: Disposal implies this exists.\n    return _classPrivateFieldGet(_reason, context);\n  })], _subscribe_decorators = [(0, decorators_js_1.throwIfDisposed)(context => {\n    // SAFETY: Disposal implies this exists.\n    return _classPrivateFieldGet(_reason, context);\n  })], _addInterception_decorators = [(0, decorators_js_1.throwIfDisposed)(context => {\n    // SAFETY: Disposal implies this exists.\n    return _classPrivateFieldGet(_reason, context);\n  })], disposable_js_1.disposeSymbol), (_BrowsingContext = class BrowsingContext extends _classSuper {\n    static from(userContext, parent, id, url) {\n      const browsingContext = new BrowsingContext(userContext, parent, id, url);\n      _assertClassBrand(_BrowsingContext_brand, browsingContext, _initialize).call(browsingContext);\n      return browsingContext;\n    }\n    constructor(context, parent, _id, _url2) {\n      super();\n      _classPrivateMethodInitSpec(this, _BrowsingContext_brand);\n      _classPrivateFieldInitSpec(this, _navigation, (__runInitializers(this, _instanceExtraInitializers), void 0));\n      _classPrivateFieldInitSpec(this, _reason, void 0);\n      _classPrivateFieldInitSpec(this, _url, void 0);\n      _classPrivateFieldInitSpec(this, _children, new Map());\n      _classPrivateFieldInitSpec(this, _disposables, new disposable_js_1.DisposableStack());\n      _classPrivateFieldInitSpec(this, _realms, new Map());\n      _classPrivateFieldInitSpec(this, _requests, new Map());\n      _defineProperty(this, \"defaultRealm\", void 0);\n      _defineProperty(this, \"id\", void 0);\n      _defineProperty(this, \"parent\", void 0);\n      _defineProperty(this, \"userContext\", void 0);\n      _classPrivateFieldSet(_url, this, _url2);\n      this.id = _id;\n      this.parent = parent;\n      this.userContext = context;\n      this.defaultRealm = _assertClassBrand(_BrowsingContext_brand, this, _createWindowRealm).call(this);\n    }\n    get children() {\n      return _classPrivateFieldGet(_children, this).values();\n    }\n    get closed() {\n      return _classPrivateFieldGet(_reason, this) !== undefined;\n    }\n    get disposed() {\n      return this.closed;\n    }\n    get realms() {\n      // eslint-disable-next-line @typescript-eslint/no-this-alias -- Required\n      const self = this;\n      return function* () {\n        yield self.defaultRealm;\n        yield* _classPrivateFieldGet(_realms, self).values();\n      }();\n    }\n    get top() {\n      let context = this;\n      for (let {\n        parent\n      } = context; parent; ({\n        parent\n      } = context)) {\n        context = parent;\n      }\n      return context;\n    }\n    get url() {\n      return _classPrivateFieldGet(_url, this);\n    }\n    dispose(reason) {\n      _classPrivateFieldSet(_reason, this, reason);\n      this[disposable_js_1.disposeSymbol]();\n    }\n    async activate() {\n      await _classPrivateGetter(_BrowsingContext_brand, this, _get_session).send('browsingContext.activate', {\n        context: this.id\n      });\n    }\n    async captureScreenshot(options = {}) {\n      const {\n        result: {\n          data\n        }\n      } = await _classPrivateGetter(_BrowsingContext_brand, this, _get_session).send('browsingContext.captureScreenshot', {\n        context: this.id,\n        ...options\n      });\n      return data;\n    }\n    async close(promptUnload) {\n      await Promise.all([..._classPrivateFieldGet(_children, this).values()].map(async child => {\n        await child.close(promptUnload);\n      }));\n      await _classPrivateGetter(_BrowsingContext_brand, this, _get_session).send('browsingContext.close', {\n        context: this.id,\n        promptUnload\n      });\n    }\n    async traverseHistory(delta) {\n      await _classPrivateGetter(_BrowsingContext_brand, this, _get_session).send('browsingContext.traverseHistory', {\n        context: this.id,\n        delta\n      });\n    }\n    async navigate(url, wait) {\n      await _classPrivateGetter(_BrowsingContext_brand, this, _get_session).send('browsingContext.navigate', {\n        context: this.id,\n        url,\n        wait\n      });\n    }\n    async reload(options = {}) {\n      await _classPrivateGetter(_BrowsingContext_brand, this, _get_session).send('browsingContext.reload', {\n        context: this.id,\n        ...options\n      });\n    }\n    async print(options = {}) {\n      const {\n        result: {\n          data\n        }\n      } = await _classPrivateGetter(_BrowsingContext_brand, this, _get_session).send('browsingContext.print', {\n        context: this.id,\n        ...options\n      });\n      return data;\n    }\n    async handleUserPrompt(options = {}) {\n      await _classPrivateGetter(_BrowsingContext_brand, this, _get_session).send('browsingContext.handleUserPrompt', {\n        context: this.id,\n        ...options\n      });\n    }\n    async setViewport(options = {}) {\n      await _classPrivateGetter(_BrowsingContext_brand, this, _get_session).send('browsingContext.setViewport', {\n        context: this.id,\n        ...options\n      });\n    }\n    async performActions(actions) {\n      await _classPrivateGetter(_BrowsingContext_brand, this, _get_session).send('input.performActions', {\n        context: this.id,\n        actions\n      });\n    }\n    async releaseActions() {\n      await _classPrivateGetter(_BrowsingContext_brand, this, _get_session).send('input.releaseActions', {\n        context: this.id\n      });\n    }\n    createWindowRealm(sandbox) {\n      return _assertClassBrand(_BrowsingContext_brand, this, _createWindowRealm).call(this, sandbox);\n    }\n    async addPreloadScript(functionDeclaration, options = {}) {\n      return await this.userContext.browser.addPreloadScript(functionDeclaration, {\n        ...options,\n        contexts: [this]\n      });\n    }\n    async addIntercept(options) {\n      const {\n        result: {\n          intercept\n        }\n      } = await this.userContext.browser.session.send('network.addIntercept', {\n        ...options,\n        contexts: [this.id]\n      });\n      return intercept;\n    }\n    async removePreloadScript(script) {\n      await this.userContext.browser.removePreloadScript(script);\n    }\n    async getCookies(options = {}) {\n      const {\n        result: {\n          cookies\n        }\n      } = await _classPrivateGetter(_BrowsingContext_brand, this, _get_session).send('storage.getCookies', {\n        ...options,\n        partition: {\n          type: 'context',\n          context: this.id\n        }\n      });\n      return cookies;\n    }\n    async setCookie(cookie) {\n      await _classPrivateGetter(_BrowsingContext_brand, this, _get_session).send('storage.setCookie', {\n        cookie,\n        partition: {\n          type: 'context',\n          context: this.id\n        }\n      });\n    }\n    async setFiles(element, files) {\n      await _classPrivateGetter(_BrowsingContext_brand, this, _get_session).send('input.setFiles', {\n        context: this.id,\n        element,\n        files\n      });\n    }\n    async subscribe(events) {\n      await _classPrivateGetter(_BrowsingContext_brand, this, _get_session).subscribe(events, [this.id]);\n    }\n    async addInterception(events) {\n      await _classPrivateGetter(_BrowsingContext_brand, this, _get_session).subscribe(events, [this.id]);\n    }\n    [_ref]() {\n      _classPrivateFieldGet(_reason, this) ?? _classPrivateFieldSet(_reason, this, 'Browsing context already closed, probably because the user context closed.');\n      this.emit('closed', {\n        reason: _classPrivateFieldGet(_reason, this)\n      });\n      _classPrivateFieldGet(_disposables, this).dispose();\n      super[disposable_js_1.disposeSymbol]();\n    }\n    async deleteCookie(...cookieFilters) {\n      await Promise.all(cookieFilters.map(async filter => {\n        await _classPrivateGetter(_BrowsingContext_brand, this, _get_session).send('storage.deleteCookies', {\n          filter: filter,\n          partition: {\n            type: 'context',\n            context: this.id\n          }\n        });\n      }));\n    }\n    async locateNodes(locator, startNodes) {\n      // TODO: add other locateNodes options if needed.\n      const result = await _classPrivateGetter(_BrowsingContext_brand, this, _get_session).send('browsingContext.locateNodes', {\n        context: this.id,\n        locator,\n        startNodes: startNodes.length ? startNodes : undefined\n      });\n      return result.result.nodes;\n    }\n  }, (() => {\n    const _metadata = typeof Symbol === \"function\" && Symbol.metadata ? Object.create(_classSuper[Symbol.metadata] ?? null) : void 0;\n    _deleteCookie_decorators = [(0, decorators_js_1.throwIfDisposed)(context => {\n      // SAFETY: Disposal implies this exists.\n      return _classPrivateFieldGet(_reason, context);\n    })];\n    _locateNodes_decorators = [(0, decorators_js_1.throwIfDisposed)(context => {\n      // SAFETY: Disposal implies this exists.\n      return _classPrivateFieldGet(_reason, context);\n    })];\n    __esDecorate(_BrowsingContext, null, _dispose_decorators, {\n      kind: \"method\",\n      name: \"dispose\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"dispose\" in obj,\n        get: obj => obj.dispose\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    __esDecorate(_BrowsingContext, null, _activate_decorators, {\n      kind: \"method\",\n      name: \"activate\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"activate\" in obj,\n        get: obj => obj.activate\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    __esDecorate(_BrowsingContext, null, _captureScreenshot_decorators, {\n      kind: \"method\",\n      name: \"captureScreenshot\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"captureScreenshot\" in obj,\n        get: obj => obj.captureScreenshot\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    __esDecorate(_BrowsingContext, null, _close_decorators, {\n      kind: \"method\",\n      name: \"close\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"close\" in obj,\n        get: obj => obj.close\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    __esDecorate(_BrowsingContext, null, _traverseHistory_decorators, {\n      kind: \"method\",\n      name: \"traverseHistory\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"traverseHistory\" in obj,\n        get: obj => obj.traverseHistory\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    __esDecorate(_BrowsingContext, null, _navigate_decorators, {\n      kind: \"method\",\n      name: \"navigate\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"navigate\" in obj,\n        get: obj => obj.navigate\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    __esDecorate(_BrowsingContext, null, _reload_decorators, {\n      kind: \"method\",\n      name: \"reload\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"reload\" in obj,\n        get: obj => obj.reload\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    __esDecorate(_BrowsingContext, null, _print_decorators, {\n      kind: \"method\",\n      name: \"print\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"print\" in obj,\n        get: obj => obj.print\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    __esDecorate(_BrowsingContext, null, _handleUserPrompt_decorators, {\n      kind: \"method\",\n      name: \"handleUserPrompt\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"handleUserPrompt\" in obj,\n        get: obj => obj.handleUserPrompt\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    __esDecorate(_BrowsingContext, null, _setViewport_decorators, {\n      kind: \"method\",\n      name: \"setViewport\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"setViewport\" in obj,\n        get: obj => obj.setViewport\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    __esDecorate(_BrowsingContext, null, _performActions_decorators, {\n      kind: \"method\",\n      name: \"performActions\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"performActions\" in obj,\n        get: obj => obj.performActions\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    __esDecorate(_BrowsingContext, null, _releaseActions_decorators, {\n      kind: \"method\",\n      name: \"releaseActions\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"releaseActions\" in obj,\n        get: obj => obj.releaseActions\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    __esDecorate(_BrowsingContext, null, _createWindowRealm_decorators, {\n      kind: \"method\",\n      name: \"createWindowRealm\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"createWindowRealm\" in obj,\n        get: obj => obj.createWindowRealm\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    __esDecorate(_BrowsingContext, null, _addPreloadScript_decorators, {\n      kind: \"method\",\n      name: \"addPreloadScript\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"addPreloadScript\" in obj,\n        get: obj => obj.addPreloadScript\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    __esDecorate(_BrowsingContext, null, _addIntercept_decorators, {\n      kind: \"method\",\n      name: \"addIntercept\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"addIntercept\" in obj,\n        get: obj => obj.addIntercept\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    __esDecorate(_BrowsingContext, null, _removePreloadScript_decorators, {\n      kind: \"method\",\n      name: \"removePreloadScript\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"removePreloadScript\" in obj,\n        get: obj => obj.removePreloadScript\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    __esDecorate(_BrowsingContext, null, _getCookies_decorators, {\n      kind: \"method\",\n      name: \"getCookies\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"getCookies\" in obj,\n        get: obj => obj.getCookies\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    __esDecorate(_BrowsingContext, null, _setCookie_decorators, {\n      kind: \"method\",\n      name: \"setCookie\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"setCookie\" in obj,\n        get: obj => obj.setCookie\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    __esDecorate(_BrowsingContext, null, _setFiles_decorators, {\n      kind: \"method\",\n      name: \"setFiles\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"setFiles\" in obj,\n        get: obj => obj.setFiles\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    __esDecorate(_BrowsingContext, null, _subscribe_decorators, {\n      kind: \"method\",\n      name: \"subscribe\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"subscribe\" in obj,\n        get: obj => obj.subscribe\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    __esDecorate(_BrowsingContext, null, _addInterception_decorators, {\n      kind: \"method\",\n      name: \"addInterception\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"addInterception\" in obj,\n        get: obj => obj.addInterception\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    __esDecorate(_BrowsingContext, null, _deleteCookie_decorators, {\n      kind: \"method\",\n      name: \"deleteCookie\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"deleteCookie\" in obj,\n        get: obj => obj.deleteCookie\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    __esDecorate(_BrowsingContext, null, _locateNodes_decorators, {\n      kind: \"method\",\n      name: \"locateNodes\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"locateNodes\" in obj,\n        get: obj => obj.locateNodes\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    if (_metadata) Object.defineProperty(_BrowsingContext, Symbol.metadata, {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: _metadata\n    });\n  })(), _BrowsingContext);\n  function _initialize() {\n    const userContextEmitter = _classPrivateFieldGet(_disposables, this).use(new EventEmitter_js_1.EventEmitter(this.userContext));\n    userContextEmitter.once('closed', ({\n      reason\n    }) => {\n      this.dispose(`Browsing context already closed: ${reason}`);\n    });\n    const sessionEmitter = _classPrivateFieldGet(_disposables, this).use(new EventEmitter_js_1.EventEmitter(_classPrivateGetter(_BrowsingContext_brand, this, _get_session)));\n    sessionEmitter.on('browsingContext.contextCreated', info => {\n      if (info.parent !== this.id) {\n        return;\n      }\n      const browsingContext = _BrowsingContext.from(this.userContext, this, info.context, info.url);\n      _classPrivateFieldGet(_children, this).set(info.context, browsingContext);\n      const browsingContextEmitter = _classPrivateFieldGet(_disposables, this).use(new EventEmitter_js_1.EventEmitter(browsingContext));\n      browsingContextEmitter.once('closed', () => {\n        browsingContextEmitter.removeAllListeners();\n        _classPrivateFieldGet(_children, this).delete(browsingContext.id);\n      });\n      this.emit('browsingcontext', {\n        browsingContext\n      });\n    });\n    sessionEmitter.on('browsingContext.contextDestroyed', info => {\n      if (info.context !== this.id) {\n        return;\n      }\n      this.dispose('Browsing context already closed.');\n    });\n    sessionEmitter.on('browsingContext.domContentLoaded', info => {\n      if (info.context !== this.id) {\n        return;\n      }\n      _classPrivateFieldSet(_url, this, info.url);\n      this.emit('DOMContentLoaded', undefined);\n    });\n    sessionEmitter.on('browsingContext.load', info => {\n      if (info.context !== this.id) {\n        return;\n      }\n      _classPrivateFieldSet(_url, this, info.url);\n      this.emit('load', undefined);\n    });\n    sessionEmitter.on('browsingContext.navigationStarted', info => {\n      if (info.context !== this.id) {\n        return;\n      }\n      _classPrivateFieldSet(_url, this, info.url);\n      for (const [id, request] of _classPrivateFieldGet(_requests, this)) {\n        if (request.disposed) {\n          _classPrivateFieldGet(_requests, this).delete(id);\n        }\n      }\n      // If the navigation hasn't finished, then this is nested navigation. The\n      // current navigation will handle this.\n      if (_classPrivateFieldGet(_navigation, this) !== undefined && !_classPrivateFieldGet(_navigation, this).disposed) {\n        return;\n      }\n      // Note the navigation ID is null for this event.\n      _classPrivateFieldSet(_navigation, this, Navigation_js_1.Navigation.from(this));\n      const navigationEmitter = _classPrivateFieldGet(_disposables, this).use(new EventEmitter_js_1.EventEmitter(_classPrivateFieldGet(_navigation, this)));\n      for (const eventName of ['fragment', 'failed', 'aborted']) {\n        navigationEmitter.once(eventName, ({\n          url\n        }) => {\n          navigationEmitter[disposable_js_1.disposeSymbol]();\n          _classPrivateFieldSet(_url, this, url);\n        });\n      }\n      this.emit('navigation', {\n        navigation: _classPrivateFieldGet(_navigation, this)\n      });\n    });\n    sessionEmitter.on('network.beforeRequestSent', event => {\n      if (event.context !== this.id) {\n        return;\n      }\n      if (_classPrivateFieldGet(_requests, this).has(event.request.request)) {\n        // Means the request is a redirect. This is handled in Request.\n        // Or an Auth event was issued\n        return;\n      }\n      const request = Request_js_1.Request.from(this, event);\n      _classPrivateFieldGet(_requests, this).set(request.id, request);\n      this.emit('request', {\n        request\n      });\n    });\n    sessionEmitter.on('log.entryAdded', entry => {\n      if (entry.source.context !== this.id) {\n        return;\n      }\n      this.emit('log', {\n        entry\n      });\n    });\n    sessionEmitter.on('browsingContext.userPromptOpened', info => {\n      if (info.context !== this.id) {\n        return;\n      }\n      const userPrompt = UserPrompt_js_1.UserPrompt.from(this, info);\n      this.emit('userprompt', {\n        userPrompt\n      });\n    });\n  }\n  function _get_session(_this) {\n    return _this.userContext.browser.session;\n  }\n  function _createWindowRealm(sandbox) {\n    const realm = Realm_js_1.WindowRealm.from(this, sandbox);\n    realm.on('worker', realm => {\n      this.emit('worker', {\n        realm\n      });\n    });\n    return realm;\n  }\n})();\nexports.BrowsingContext = BrowsingContext;","map":{"version":3,"names":["_classPrivateMethodInitSpec","require","default","_defineProperty","_classPrivateFieldInitSpec","_classPrivateGetter","_classPrivateFieldSet","_assertClassBrand","_classPrivateFieldGet","EventEmitter_js_1","decorators_js_1","disposable_js_1","Navigation_js_1","Realm_js_1","Request_js_1","UserPrompt_js_1","BrowsingContext","_ref","_BrowsingContext","_navigation","_reason","_url","_children","_disposables","_realms","_requests","_BrowsingContext_brand","EventEmitter","_dispose_decorators","inertIfDisposed","_activate_decorators","throwIfDisposed","context","_captureScreenshot_decorators","_close_decorators","_traverseHistory_decorators","_navigate_decorators","_reload_decorators","_print_decorators","_handleUserPrompt_decorators","_setViewport_decorators","_performActions_decorators","_releaseActions_decorators","_createWindowRealm_decorators","_addPreloadScript_decorators","_addIntercept_decorators","_removePreloadScript_decorators","_getCookies_decorators","_setCookie_decorators","_setFiles_decorators","_subscribe_decorators","_addInterception_decorators","disposeSymbol","_classSuper","from","userContext","parent","id","url","browsingContext","_initialize","call","constructor","__runInitializers","_instanceExtraInitializers","Map","DisposableStack","defaultRealm","_createWindowRealm","children","values","closed","undefined","disposed","realms","self","top","dispose","reason","activate","_get_session","send","captureScreenshot","options","result","data","close","promptUnload","Promise","all","map","child","traverseHistory","delta","navigate","wait","reload","print","handleUserPrompt","setViewport","performActions","actions","releaseActions","createWindowRealm","sandbox","addPreloadScript","functionDeclaration","browser","contexts","addIntercept","intercept","session","removePreloadScript","script","getCookies","cookies","partition","type","setCookie","cookie","setFiles","element","files","subscribe","events","addInterception","emit","deleteCookie","cookieFilters","filter","locateNodes","locator","startNodes","length","nodes","__esDecorate","kind","name","static","private","access","has","obj","get","metadata","_metadata","_deleteCookie_decorators","_locateNodes_decorators","userContextEmitter","use","once","sessionEmitter","on","info","set","browsingContextEmitter","removeAllListeners","delete","request","Navigation","navigationEmitter","eventName","navigation","event","Request","entry","source","userPrompt","UserPrompt","_this","realm","WindowRealm","exports"],"sources":["../../../../../src/bidi/core/BrowsingContext.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}