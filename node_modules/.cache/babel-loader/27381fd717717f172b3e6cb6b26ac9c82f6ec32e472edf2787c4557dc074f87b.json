{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.array.push.js\");\nrequire(\"core-js/modules/es.array-buffer.detached.js\");\nrequire(\"core-js/modules/es.array-buffer.transfer.js\");\nrequire(\"core-js/modules/es.array-buffer.transfer-to-fixed-length.js\");\nrequire(\"core-js/modules/es.typed-array.to-reversed.js\");\nrequire(\"core-js/modules/es.typed-array.to-sorted.js\");\nrequire(\"core-js/modules/es.typed-array.with.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.dataUriToBuffer = void 0;\nconst common_1 = require(\"./common\");\nfunction base64ToArrayBuffer(base64) {\n  const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n  const bytes = [];\n  for (let i = 0; i < base64.length; i += 4) {\n    const idx0 = chars.indexOf(base64.charAt(i));\n    const idx1 = chars.indexOf(base64.charAt(i + 1));\n    const idx2 = base64.charAt(i + 2) === '=' ? 0 : chars.indexOf(base64.charAt(i + 2));\n    const idx3 = base64.charAt(i + 3) === '=' ? 0 : chars.indexOf(base64.charAt(i + 3));\n    const bin0 = idx0 << 2 | idx1 >> 4;\n    const bin1 = (idx1 & 15) << 4 | idx2 >> 2;\n    const bin2 = (idx2 & 3) << 6 | idx3;\n    bytes.push(bin0);\n    if (base64.charAt(i + 2) !== '=') bytes.push(bin1);\n    if (base64.charAt(i + 3) !== '=') bytes.push(bin2);\n  }\n  const buffer = new ArrayBuffer(bytes.length);\n  const view = new Uint8Array(buffer);\n  view.set(bytes);\n  return buffer;\n}\nfunction stringToBuffer(str) {\n  // Create a buffer with length equal to the string length\n  const buffer = new ArrayBuffer(str.length);\n  // Create a view to manipulate the buffer content\n  const view = new Uint8Array(buffer);\n  // Iterate over the string and populate the buffer with ASCII codes\n  for (let i = 0; i < str.length; i++) {\n    view[i] = str.charCodeAt(i);\n  }\n  return buffer;\n}\n/**\n * Returns a `Buffer` instance from the given data URI `uri`.\n *\n * @param {String} uri Data URI to turn into a Buffer instance\n */\nexports.dataUriToBuffer = (0, common_1.makeDataUriToBuffer)({\n  stringToBuffer,\n  base64ToArrayBuffer\n});","map":{"version":3,"names":["common_1","require","base64ToArrayBuffer","base64","chars","bytes","i","length","idx0","indexOf","charAt","idx1","idx2","idx3","bin0","bin1","bin2","push","buffer","ArrayBuffer","view","Uint8Array","set","stringToBuffer","str","charCodeAt","exports","dataUriToBuffer","makeDataUriToBuffer"],"sources":["../src/index.ts"],"sourcesContent":[null],"mappings":";;;;;;;;;;;;;AAAA,MAAAA,QAAA,GAAAC,OAAA;AAIA,SAASC,mBAAmBA,CAACC,MAAc;EAC1C,MAAMC,KAAK,GACV,kEAAkE;EAEnE,MAAMC,KAAK,GAAG,EAAE;EAEhB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,MAAM,CAACI,MAAM,EAAED,CAAC,IAAI,CAAC,EAAE;IAC1C,MAAME,IAAI,GAAGJ,KAAK,CAACK,OAAO,CAACN,MAAM,CAACO,MAAM,CAACJ,CAAC,CAAC,CAAC;IAC5C,MAAMK,IAAI,GAAGP,KAAK,CAACK,OAAO,CAACN,MAAM,CAACO,MAAM,CAACJ,CAAC,GAAG,CAAC,CAAC,CAAC;IAChD,MAAMM,IAAI,GACTT,MAAM,CAACO,MAAM,CAACJ,CAAC,GAAG,CAAC,CAAC,KAAK,GAAG,GACzB,CAAC,GACDF,KAAK,CAACK,OAAO,CAACN,MAAM,CAACO,MAAM,CAACJ,CAAC,GAAG,CAAC,CAAC,CAAC;IACvC,MAAMO,IAAI,GACTV,MAAM,CAACO,MAAM,CAACJ,CAAC,GAAG,CAAC,CAAC,KAAK,GAAG,GACzB,CAAC,GACDF,KAAK,CAACK,OAAO,CAACN,MAAM,CAACO,MAAM,CAACJ,CAAC,GAAG,CAAC,CAAC,CAAC;IAEvC,MAAMQ,IAAI,GAAIN,IAAI,IAAI,CAAC,GAAKG,IAAI,IAAI,CAAE;IACtC,MAAMI,IAAI,GAAI,CAACJ,IAAI,GAAG,EAAE,KAAK,CAAC,GAAKC,IAAI,IAAI,CAAE;IAC7C,MAAMI,IAAI,GAAI,CAACJ,IAAI,GAAG,CAAC,KAAK,CAAC,GAAIC,IAAI;IAErCR,KAAK,CAACY,IAAI,CAACH,IAAI,CAAC;IAChB,IAAIX,MAAM,CAACO,MAAM,CAACJ,CAAC,GAAG,CAAC,CAAC,KAAK,GAAG,EAAED,KAAK,CAACY,IAAI,CAACF,IAAI,CAAC;IAClD,IAAIZ,MAAM,CAACO,MAAM,CAACJ,CAAC,GAAG,CAAC,CAAC,KAAK,GAAG,EAAED,KAAK,CAACY,IAAI,CAACD,IAAI,CAAC;;EAGnD,MAAME,MAAM,GAAG,IAAIC,WAAW,CAACd,KAAK,CAACE,MAAM,CAAC;EAC5C,MAAMa,IAAI,GAAG,IAAIC,UAAU,CAACH,MAAM,CAAC;EACnCE,IAAI,CAACE,GAAG,CAACjB,KAAK,CAAC;EACf,OAAOa,MAAM;AACd;AAEA,SAASK,cAAcA,CAACC,GAAW;EAClC;EACA,MAAMN,MAAM,GAAG,IAAIC,WAAW,CAACK,GAAG,CAACjB,MAAM,CAAC;EAE1C;EACA,MAAMa,IAAI,GAAG,IAAIC,UAAU,CAACH,MAAM,CAAC;EAEnC;EACA,KAAK,IAAIZ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGkB,GAAG,CAACjB,MAAM,EAAED,CAAC,EAAE,EAAE;IACpCc,IAAI,CAACd,CAAC,CAAC,GAAGkB,GAAG,CAACC,UAAU,CAACnB,CAAC,CAAC;;EAG5B,OAAOY,MAAM;AACd;AAEA;;;;;AAKaQ,OAAA,CAAAC,eAAe,GAAG,IAAA3B,QAAA,CAAA4B,mBAAmB,EAAC;EAAEL,cAAc;EAAErB;AAAmB,CAAE,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}