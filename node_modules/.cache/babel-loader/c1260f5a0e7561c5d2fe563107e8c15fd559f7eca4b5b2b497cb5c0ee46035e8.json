{"ast":null,"code":"\"use strict\";\n\n/**\n * @license\n * Copyright 2024 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nvar _classPrivateMethodInitSpec = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateMethodInitSpec.js\").default;\nvar _assertClassBrand = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/assertClassBrand.js\").default;\nvar _defineProperty = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/defineProperty.js\").default;\nvar _classPrivateFieldInitSpec = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldInitSpec.js\").default;\nvar _classPrivateFieldSet = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldSet2.js\").default;\nvar _classPrivateFieldGet = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldGet2.js\").default;\nrequire(\"core-js/modules/es.array.push.js\");\nvar __runInitializers = this && this.__runInitializers || function (thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n    value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\nvar __esDecorate = this && this.__esDecorate || function (ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) {\n    if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\");\n    return f;\n  }\n  var kind = contextIn.kind,\n    key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _,\n    done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n    var context = {};\n    for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n    for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n    context.addInitializer = function (f) {\n      if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\");\n      extraInitializers.push(accept(f || null));\n    };\n    var result = (0, decorators[i])(kind === \"accessor\" ? {\n      get: descriptor.get,\n      set: descriptor.set\n    } : descriptor[key], context);\n    if (kind === \"accessor\") {\n      if (result === void 0) continue;\n      if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n      if (_ = accept(result.get)) descriptor.get = _;\n      if (_ = accept(result.set)) descriptor.set = _;\n      if (_ = accept(result.init)) initializers.unshift(_);\n    } else if (_ = accept(result)) {\n      if (kind === \"field\") initializers.unshift(_);else descriptor[key] = _;\n    }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\nvar _a;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SharedWorkerRealm = exports.DedicatedWorkerRealm = exports.WindowRealm = exports.Realm = void 0;\nconst EventEmitter_js_1 = require(\"../../common/EventEmitter.js\");\nconst decorators_js_1 = require(\"../../util/decorators.js\");\nconst disposable_js_1 = require(\"../../util/disposable.js\");\n/**\n * @internal\n */\nlet Realm = ((_ref, _Realm, _reason) => {\n  let _classSuper = EventEmitter_js_1.EventEmitter;\n  let _instanceExtraInitializers = [];\n  let _dispose_decorators;\n  let _disown_decorators;\n  let _callFunction_decorators;\n  let _evaluate_decorators;\n  let _resolveExecutionContextId_decorators;\n  return _reason = /*#__PURE__*/new WeakMap(), _ref = (_dispose_decorators = [decorators_js_1.inertIfDisposed], _disown_decorators = [(0, decorators_js_1.throwIfDisposed)(realm => {\n    // SAFETY: Disposal implies this exists.\n    return _classPrivateFieldGet(_reason, realm);\n  })], _callFunction_decorators = [(0, decorators_js_1.throwIfDisposed)(realm => {\n    // SAFETY: Disposal implies this exists.\n    return _classPrivateFieldGet(_reason, realm);\n  })], _evaluate_decorators = [(0, decorators_js_1.throwIfDisposed)(realm => {\n    // SAFETY: Disposal implies this exists.\n    return _classPrivateFieldGet(_reason, realm);\n  })], _resolveExecutionContextId_decorators = [(0, decorators_js_1.throwIfDisposed)(realm => {\n    // SAFETY: Disposal implies this exists.\n    return _classPrivateFieldGet(_reason, realm);\n  })], disposable_js_1.disposeSymbol), (_Realm = class Realm extends _classSuper {\n    constructor(id, origin) {\n      super();\n      _classPrivateFieldInitSpec(this, _reason, (__runInitializers(this, _instanceExtraInitializers), void 0));\n      _defineProperty(this, \"disposables\", new disposable_js_1.DisposableStack());\n      _defineProperty(this, \"id\", void 0);\n      _defineProperty(this, \"origin\", void 0);\n      _defineProperty(this, \"executionContextId\", void 0);\n      this.id = id;\n      this.origin = origin;\n    }\n    get disposed() {\n      return _classPrivateFieldGet(_reason, this) !== undefined;\n    }\n    get target() {\n      return {\n        realm: this.id\n      };\n    }\n    dispose(reason) {\n      _classPrivateFieldSet(_reason, this, reason);\n      this[disposable_js_1.disposeSymbol]();\n    }\n    async disown(handles) {\n      await this.session.send('script.disown', {\n        target: this.target,\n        handles\n      });\n    }\n    async callFunction(functionDeclaration, awaitPromise, options = {}) {\n      const {\n        result\n      } = await this.session.send('script.callFunction', {\n        functionDeclaration,\n        awaitPromise,\n        target: this.target,\n        ...options\n      });\n      return result;\n    }\n    async evaluate(expression, awaitPromise, options = {}) {\n      const {\n        result\n      } = await this.session.send('script.evaluate', {\n        expression,\n        awaitPromise,\n        target: this.target,\n        ...options\n      });\n      return result;\n    }\n    async resolveExecutionContextId() {\n      if (!this.executionContextId) {\n        const {\n          result\n        } = await this.session.connection.send('cdp.resolveRealm', {\n          realm: this.id\n        });\n        this.executionContextId = result.executionContextId;\n      }\n      return this.executionContextId;\n    }\n    [_ref]() {\n      _classPrivateFieldGet(_reason, this) ?? _classPrivateFieldSet(_reason, this, 'Realm already destroyed, probably because all associated browsing contexts closed.');\n      this.emit('destroyed', {\n        reason: _classPrivateFieldGet(_reason, this)\n      });\n      this.disposables.dispose();\n      super[disposable_js_1.disposeSymbol]();\n    }\n  }, (() => {\n    const _metadata = typeof Symbol === \"function\" && Symbol.metadata ? Object.create(_classSuper[Symbol.metadata] ?? null) : void 0;\n    __esDecorate(_Realm, null, _dispose_decorators, {\n      kind: \"method\",\n      name: \"dispose\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"dispose\" in obj,\n        get: obj => obj.dispose\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    __esDecorate(_Realm, null, _disown_decorators, {\n      kind: \"method\",\n      name: \"disown\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"disown\" in obj,\n        get: obj => obj.disown\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    __esDecorate(_Realm, null, _callFunction_decorators, {\n      kind: \"method\",\n      name: \"callFunction\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"callFunction\" in obj,\n        get: obj => obj.callFunction\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    __esDecorate(_Realm, null, _evaluate_decorators, {\n      kind: \"method\",\n      name: \"evaluate\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"evaluate\" in obj,\n        get: obj => obj.evaluate\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    __esDecorate(_Realm, null, _resolveExecutionContextId_decorators, {\n      kind: \"method\",\n      name: \"resolveExecutionContextId\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"resolveExecutionContextId\" in obj,\n        get: obj => obj.resolveExecutionContextId\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    if (_metadata) Object.defineProperty(_Realm, Symbol.metadata, {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: _metadata\n    });\n  })(), _Realm);\n})();\nexports.Realm = Realm;\n/**\n * @internal\n */\nvar _workers = /*#__PURE__*/new WeakMap();\nvar _WindowRealm_brand = /*#__PURE__*/new WeakSet();\nclass WindowRealm extends Realm {\n  static from(context, sandbox) {\n    const realm = new WindowRealm(context, sandbox);\n    _assertClassBrand(_WindowRealm_brand, realm, _initialize).call(realm);\n    return realm;\n  }\n  constructor(context, sandbox) {\n    super('', '');\n    _classPrivateMethodInitSpec(this, _WindowRealm_brand);\n    _defineProperty(this, \"browsingContext\", void 0);\n    _defineProperty(this, \"sandbox\", void 0);\n    _classPrivateFieldInitSpec(this, _workers, new Map());\n    this.browsingContext = context;\n    this.sandbox = sandbox;\n  }\n  get session() {\n    return this.browsingContext.userContext.browser.session;\n  }\n  get target() {\n    return {\n      context: this.browsingContext.id,\n      sandbox: this.sandbox\n    };\n  }\n}\nfunction _initialize() {\n  const browsingContextEmitter = this.disposables.use(new EventEmitter_js_1.EventEmitter(this.browsingContext));\n  browsingContextEmitter.on('closed', ({\n    reason\n  }) => {\n    this.dispose(reason);\n  });\n  const sessionEmitter = this.disposables.use(new EventEmitter_js_1.EventEmitter(this.session));\n  sessionEmitter.on('script.realmCreated', info => {\n    if (info.type !== 'window' || info.context !== this.browsingContext.id || info.sandbox !== this.sandbox) {\n      return;\n    }\n    this.id = info.realm;\n    this.origin = info.origin;\n    this.executionContextId = undefined;\n    this.emit('updated', this);\n  });\n  sessionEmitter.on('script.realmCreated', info => {\n    if (info.type !== 'dedicated-worker') {\n      return;\n    }\n    if (!info.owners.includes(this.id)) {\n      return;\n    }\n    const realm = DedicatedWorkerRealm.from(this, info.realm, info.origin);\n    _classPrivateFieldGet(_workers, this).set(realm.id, realm);\n    const realmEmitter = this.disposables.use(new EventEmitter_js_1.EventEmitter(realm));\n    realmEmitter.once('destroyed', () => {\n      realmEmitter.removeAllListeners();\n      _classPrivateFieldGet(_workers, this).delete(realm.id);\n    });\n    this.emit('worker', realm);\n  });\n}\nexports.WindowRealm = WindowRealm;\n/**\n * @internal\n */\nvar _workers2 = /*#__PURE__*/new WeakMap();\nvar _DedicatedWorkerRealm_brand = /*#__PURE__*/new WeakSet();\nclass DedicatedWorkerRealm extends Realm {\n  static from(owner, id, origin) {\n    const realm = new _a(owner, id, origin);\n    _assertClassBrand(_DedicatedWorkerRealm_brand, realm, _initialize2).call(realm);\n    return realm;\n  }\n  constructor(owner, id, origin) {\n    super(id, origin);\n    _classPrivateMethodInitSpec(this, _DedicatedWorkerRealm_brand);\n    _classPrivateFieldInitSpec(this, _workers2, new Map());\n    _defineProperty(this, \"owners\", void 0);\n    this.owners = new Set([owner]);\n  }\n  get session() {\n    // SAFETY: At least one owner will exist.\n    return this.owners.values().next().value.session;\n  }\n}\nfunction _initialize2() {\n  const sessionEmitter = this.disposables.use(new EventEmitter_js_1.EventEmitter(this.session));\n  sessionEmitter.on('script.realmDestroyed', info => {\n    if (info.realm !== this.id) {\n      return;\n    }\n    this.dispose('Realm already destroyed.');\n  });\n  sessionEmitter.on('script.realmCreated', info => {\n    if (info.type !== 'dedicated-worker') {\n      return;\n    }\n    if (!info.owners.includes(this.id)) {\n      return;\n    }\n    const realm = _a.from(this, info.realm, info.origin);\n    _classPrivateFieldGet(_workers2, this).set(realm.id, realm);\n    const realmEmitter = this.disposables.use(new EventEmitter_js_1.EventEmitter(realm));\n    realmEmitter.once('destroyed', () => {\n      _classPrivateFieldGet(_workers2, this).delete(realm.id);\n    });\n    this.emit('worker', realm);\n  });\n}\nexports.DedicatedWorkerRealm = DedicatedWorkerRealm;\n_a = DedicatedWorkerRealm;\n/**\n * @internal\n */\nvar _workers3 = /*#__PURE__*/new WeakMap();\nvar _SharedWorkerRealm_brand = /*#__PURE__*/new WeakSet();\nclass SharedWorkerRealm extends Realm {\n  static from(browser, id, origin) {\n    const realm = new SharedWorkerRealm(browser, id, origin);\n    _assertClassBrand(_SharedWorkerRealm_brand, realm, _initialize3).call(realm);\n    return realm;\n  }\n  constructor(browser, id, origin) {\n    super(id, origin);\n    _classPrivateMethodInitSpec(this, _SharedWorkerRealm_brand);\n    _classPrivateFieldInitSpec(this, _workers3, new Map());\n    _defineProperty(this, \"browser\", void 0);\n    this.browser = browser;\n  }\n  get session() {\n    return this.browser.session;\n  }\n}\nfunction _initialize3() {\n  const sessionEmitter = this.disposables.use(new EventEmitter_js_1.EventEmitter(this.session));\n  sessionEmitter.on('script.realmDestroyed', info => {\n    if (info.realm !== this.id) {\n      return;\n    }\n    this.dispose('Realm already destroyed.');\n  });\n  sessionEmitter.on('script.realmCreated', info => {\n    if (info.type !== 'dedicated-worker') {\n      return;\n    }\n    if (!info.owners.includes(this.id)) {\n      return;\n    }\n    const realm = DedicatedWorkerRealm.from(this, info.realm, info.origin);\n    _classPrivateFieldGet(_workers3, this).set(realm.id, realm);\n    const realmEmitter = this.disposables.use(new EventEmitter_js_1.EventEmitter(realm));\n    realmEmitter.once('destroyed', () => {\n      _classPrivateFieldGet(_workers3, this).delete(realm.id);\n    });\n    this.emit('worker', realm);\n  });\n}\nexports.SharedWorkerRealm = SharedWorkerRealm;","map":{"version":3,"names":["_classPrivateMethodInitSpec","require","default","_assertClassBrand","_defineProperty","_classPrivateFieldInitSpec","_classPrivateFieldSet","_classPrivateFieldGet","EventEmitter_js_1","decorators_js_1","disposable_js_1","Realm","_ref","_Realm","_reason","EventEmitter","_dispose_decorators","inertIfDisposed","_disown_decorators","throwIfDisposed","realm","_callFunction_decorators","_evaluate_decorators","_resolveExecutionContextId_decorators","disposeSymbol","_classSuper","constructor","id","origin","__runInitializers","_instanceExtraInitializers","DisposableStack","disposed","undefined","target","dispose","reason","disown","handles","session","send","callFunction","functionDeclaration","awaitPromise","options","result","evaluate","expression","resolveExecutionContextId","executionContextId","connection","emit","disposables","__esDecorate","kind","name","static","private","access","has","obj","get","metadata","_metadata","exports","_workers","WeakMap","_WindowRealm_brand","WeakSet","WindowRealm","from","context","sandbox","_initialize","call","Map","browsingContext","userContext","browser","browsingContextEmitter","use","on","sessionEmitter","info","type","owners","includes","DedicatedWorkerRealm","set","realmEmitter","once","removeAllListeners","delete","_workers2","_DedicatedWorkerRealm_brand","owner","_a","_initialize2","Set","values","next","value","_workers3","_SharedWorkerRealm_brand","SharedWorkerRealm","_initialize3"],"sources":["../../../../../src/bidi/core/Realm.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}