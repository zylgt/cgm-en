{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { formatDate, formatTime } from '@/utils/formatTime';\nimport { mapGetters } from \"vuex\";\nexport default {\n  data() {\n    return {\n      pickerOptions: {\n        shortcuts: [{\n          text: '最近7天',\n          onClick(picker) {\n            const end = new Date();\n            const start = new Date();\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\n            picker.$emit('pick', [start, end]);\n          }\n        }, {\n          text: '最近14天',\n          onClick(picker) {\n            const end = new Date();\n            const start = new Date();\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 14);\n            picker.$emit('pick', [start, end]);\n          }\n        }, {\n          text: '最近30天',\n          onClick(picker) {\n            const end = new Date();\n            const start = new Date();\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\n            picker.$emit('pick', [start, end]);\n          }\n        }, {\n          text: '最近90天',\n          onClick(picker) {\n            const end = new Date();\n            const start = new Date();\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\n            picker.$emit('pick', [start, end]);\n          }\n        }]\n      },\n      //日期选择快速选项\n      agpDate: ['', ''],\n      //日期选中值\n      dayDate: 14,\n      //天数\n      checkAll: false,\n      //下载打印全选\n      isIndeterminate: true,\n      //全选框配置\n      downloadList: ['AGP报告', '每日分析', '多日血糖分析', '报告解读', '饮食分析'],\n      //下载，打印选项\n      checkedDowns: [],\n      //复选框选中项\n      dialogVisible: false,\n      //下载打印弹窗开关\n      dialogType: \"\" // print 打印 download 下载\n    };\n  },\n  computed: {\n    ...mapGetters(['unit'])\n  },\n  mounted() {\n    let end_ts = new Date();\n    let start_ts = new Date().setDate(end_ts.getDate() - 13);\n    this.chooseDay(new Date(start_ts), end_ts);\n    this.agpDate = [formatDate(start_ts, \"YYYY-mm-dd\"), formatDate(end_ts, \"YYYY-mm-dd\")];\n  },\n  methods: {\n    // 选择时间\n    changeDate(e) {\n      this.chooseDay(new Date(e[0]), new Date(e[1]));\n      // if( _.indexOf(this.$store.state.report.chooseDateList,this.agpDate.join('/'))==-1){\n      //     this.getData()\n      // }else{\n      //     let result  = this.$store.state.report.day[this.agpDate.join('/')]\n      //     // this.list = result\n      //     this.addWeek(result)\n      //     if( result.length>0){\n      //         this.empty = false\n      //     }else{\n      //         this.empty = true\n      //     }\n      // }\n    },\n    // 选择天数\n    chooseDay(date1, date2) {\n      let s_date = date1.setHours(0, 0, 0) / 1000;\n      let e_date = date2.setHours(23, 59, 59) / 1000;\n      let oneDay = 24 * 60 * 60; // 每天的毫秒数\n      let diff = Math.abs(s_date - e_date); // 计算差值的绝对值\n      this.dayDate = Math.ceil(diff / oneDay);\n    },\n    upload() {\n      this.$router.push('/upLoad');\n    },\n    // 选择下载。打印的内容\n    handleCheckedCitiesChange(val) {\n      let checkedCount = val.length;\n      this.checkAll = checkedCount === this.downloadList.length;\n      this.isIndeterminate = checkedCount > 0 && checkedCount < this.downloadList.length;\n    },\n    // 全选\n    handleCheckAllChange(val) {\n      this.checkedDowns = val ? this.downloadList : [];\n      this.isIndeterminate = false;\n    },\n    // 打印\n    async print() {\n      this.dialogVisible = true;\n      this.dialogType = 'print';\n    },\n    // 导出pdf\n    handleExport() {\n      this.dialogVisible = true;\n      this.dialogType = 'export';\n    }\n  }\n};","map":{"version":3,"names":["formatDate","formatTime","mapGetters","data","pickerOptions","shortcuts","text","onClick","picker","end","Date","start","setTime","getTime","$emit","agpDate","dayDate","checkAll","isIndeterminate","downloadList","checkedDowns","dialogVisible","dialogType","computed","mounted","end_ts","start_ts","setDate","getDate","chooseDay","methods","changeDate","e","date1","date2","s_date","setHours","e_date","oneDay","diff","Math","abs","ceil","upload","$router","push","handleCheckedCitiesChange","val","checkedCount","length","handleCheckAllChange","print","handleExport"],"sources":["/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/src/views/report/mixin.js"],"sourcesContent":["import {formatDate,formatTime} from '@/utils/formatTime'\nimport {mapGetters} from \"vuex\"\n\nexport default{\n    data(){\n        return{\n            pickerOptions: {\n                shortcuts: [{\n                    text: '最近7天',\n                    onClick(picker) {\n                    const end = new Date();\n                    const start = new Date();\n                    start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\n                    picker.$emit('pick', [start, end]);\n                    }\n                },{\n                    text: '最近14天',\n                    onClick(picker) {\n                    const end = new Date();\n                    const start = new Date();\n                    start.setTime(start.getTime() - 3600 * 1000 * 24 * 14);\n                    picker.$emit('pick', [start, end]);\n                    }\n                }, {\n                    text: '最近30天',\n                    onClick(picker) {\n                    const end = new Date();\n                    const start = new Date();\n                    start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\n                    picker.$emit('pick', [start, end]);\n                    }\n                }, {\n                    text: '最近90天',\n                    onClick(picker) {\n                    const end = new Date();\n                    const start = new Date();\n                    start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\n                    picker.$emit('pick', [start, end]);\n                    }\n                }]\n            },  //日期选择快速选项\n            agpDate:['',''], //日期选中值\n            dayDate:14,//天数\n            checkAll:false, //下载打印全选\n            isIndeterminate: true, //全选框配置\n            downloadList:['AGP报告','每日分析','多日血糖分析','报告解读','饮食分析'], //下载，打印选项\n            checkedDowns:[], //复选框选中项\n            dialogVisible:false, //下载打印弹窗开关\n            dialogType:\"\", // print 打印 download 下载\n\n        }\n    },\n    computed:{\n        ...mapGetters([\n           'unit']),\n    },\n    mounted() {\n        let end_ts = new Date()\n        let start_ts = new Date().setDate(end_ts.getDate() - 13)\n        this.chooseDay(new Date(start_ts),end_ts)\n        this.agpDate = [formatDate(start_ts,\"YYYY-mm-dd\"), formatDate(end_ts,\"YYYY-mm-dd\")] \n    },\n    methods: {\n         // 选择时间\n         changeDate(e){\n            this.chooseDay(new Date(e[0]), new Date(e[1]))\n            // if( _.indexOf(this.$store.state.report.chooseDateList,this.agpDate.join('/'))==-1){\n            //     this.getData()\n            // }else{\n            //     let result  = this.$store.state.report.day[this.agpDate.join('/')]\n            //     // this.list = result\n            //     this.addWeek(result)\n            //     if( result.length>0){\n            //         this.empty = false\n            //     }else{\n            //         this.empty = true\n            //     }\n            // }\n        },\n        // 选择天数\n        chooseDay(date1,date2){\n            let s_date = date1.setHours(0,0,0)/1000\n            let e_date = date2.setHours(23,59,59)/1000\n            let oneDay = 24 * 60 * 60 ; // 每天的毫秒数\n            let diff = Math.abs(s_date - e_date); // 计算差值的绝对值\n            this.dayDate  = Math.ceil(diff / oneDay)\n        },\n        upload(){\n            this.$router.push('/upLoad')\n        },\n          // 选择下载。打印的内容\n        handleCheckedCitiesChange(val){\n            let checkedCount = val.length;\n            this.checkAll = checkedCount === this.downloadList.length;\n            this.isIndeterminate = checkedCount > 0 && checkedCount < this.downloadList.length;\n        },\n        // 全选\n        handleCheckAllChange(val){\n            this.checkedDowns = val ? this.downloadList : [];\n            this.isIndeterminate = false;\n        },\n          // 打印\n        async print(){\n            this.dialogVisible = true\n            this.dialogType='print'\n        },\n        // 导出pdf\n        handleExport() {\n            this.dialogVisible = true\n            this.dialogType='export'\n        },\n    },\n   \n\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}