{"ast":null,"code":"\"use strict\";\n\nvar _get = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/get.js\").default;\nvar _getPrototypeOf = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/getPrototypeOf.js\").default;\nvar _classPrivateFieldInitSpec = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldInitSpec.js\").default;\nvar _classPrivateFieldGet = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldGet2.js\").default;\nvar _classPrivateFieldSet = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldSet2.js\").default;\nvar _classPrivateMethodInitSpec = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateMethodInitSpec.js\").default;\nvar _defineProperty = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/defineProperty.js\").default;\nvar _assertClassBrand = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/assertClassBrand.js\").default;\nvar _BidiFrameRealm;\nrequire(\"core-js/modules/es.array.push.js\");\nvar __addDisposableResource = this && this.__addDisposableResource || function (env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose;\n    if (async) {\n      if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n      dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n      if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n      dispose = value[Symbol.dispose];\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    env.stack.push({\n      value: value,\n      dispose: dispose,\n      async: async\n    });\n  } else if (async) {\n    env.stack.push({\n      async: true\n    });\n  }\n  return value;\n};\nvar __disposeResources = this && this.__disposeResources || function (SuppressedError) {\n  return function (env) {\n    function fail(e) {\n      env.error = env.hasError ? new SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n      env.hasError = true;\n    }\n    function next() {\n      while (env.stack.length) {\n        var rec = env.stack.pop();\n        try {\n          var result = rec.dispose && rec.dispose.call(rec.value);\n          if (rec.async) return Promise.resolve(result).then(next, function (e) {\n            fail(e);\n            return next();\n          });\n        } catch (e) {\n          fail(e);\n        }\n      }\n      if (env.hasError) throw env.error;\n    }\n    return next();\n  };\n}(typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n});\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BidiWorkerRealm = exports.BidiFrameRealm = exports.BidiRealm = void 0;\nconst Realm_js_1 = require(\"../api/Realm.js\");\nconst AriaQueryHandler_js_1 = require(\"../cdp/AriaQueryHandler.js\");\nconst LazyArg_js_1 = require(\"../common/LazyArg.js\");\nconst ScriptInjector_js_1 = require(\"../common/ScriptInjector.js\");\nconst util_js_1 = require(\"../common/util.js\");\nconst AsyncIterableUtil_js_1 = require(\"../util/AsyncIterableUtil.js\");\nconst Function_js_1 = require(\"../util/Function.js\");\nconst Deserializer_js_1 = require(\"./Deserializer.js\");\nconst ElementHandle_js_1 = require(\"./ElementHandle.js\");\nconst ExposedFunction_js_1 = require(\"./ExposedFunction.js\");\nconst JSHandle_js_1 = require(\"./JSHandle.js\");\nconst Serializer_js_1 = require(\"./Serializer.js\");\nconst util_js_2 = require(\"./util.js\");\n/**\n * @internal\n */\nvar _BidiRealm_brand = /*#__PURE__*/new WeakSet();\nclass BidiRealm extends Realm_js_1.Realm {\n  constructor(realm, timeoutSettings) {\n    super(timeoutSettings);\n    _classPrivateMethodInitSpec(this, _BidiRealm_brand);\n    _defineProperty(this, \"realm\", void 0);\n    _defineProperty(this, \"internalPuppeteerUtil\", void 0);\n    this.realm = realm;\n  }\n  initialize() {\n    this.realm.on('destroyed', ({\n      reason\n    }) => {\n      this.taskManager.terminateAll(new Error(reason));\n      this.dispose();\n    });\n    this.realm.on('updated', () => {\n      this.internalPuppeteerUtil = undefined;\n      void this.taskManager.rerunAll();\n    });\n  }\n  get puppeteerUtil() {\n    const promise = Promise.resolve();\n    ScriptInjector_js_1.scriptInjector.inject(script => {\n      if (this.internalPuppeteerUtil) {\n        void this.internalPuppeteerUtil.then(handle => {\n          void handle.dispose();\n        });\n      }\n      this.internalPuppeteerUtil = promise.then(() => {\n        return this.evaluateHandle(script);\n      });\n    }, !this.internalPuppeteerUtil);\n    return this.internalPuppeteerUtil;\n  }\n  async evaluateHandle(pageFunction, ...args) {\n    return await _assertClassBrand(_BidiRealm_brand, this, _evaluate).call(this, false, pageFunction, ...args);\n  }\n  async evaluate(pageFunction, ...args) {\n    return await _assertClassBrand(_BidiRealm_brand, this, _evaluate).call(this, true, pageFunction, ...args);\n  }\n  createHandle(result) {\n    if ((result.type === 'node' || result.type === 'window') && this instanceof BidiFrameRealm) {\n      return ElementHandle_js_1.BidiElementHandle.from(result, this);\n    }\n    return JSHandle_js_1.BidiJSHandle.from(result, this);\n  }\n  async serialize(arg) {\n    if (arg instanceof LazyArg_js_1.LazyArg) {\n      arg = await arg.get(this);\n    }\n    if (arg instanceof JSHandle_js_1.BidiJSHandle || arg instanceof ElementHandle_js_1.BidiElementHandle) {\n      if (arg.realm !== this) {\n        if (!(arg.realm instanceof BidiFrameRealm) || !(this instanceof BidiFrameRealm)) {\n          throw new Error(\"Trying to evaluate JSHandle from different global types. Usually this means you're using a handle from a worker in a page or vice versa.\");\n        }\n        if (arg.realm.environment !== this.environment) {\n          throw new Error(\"Trying to evaluate JSHandle from different frames. Usually this means you're using a handle from a page on a different page.\");\n        }\n      }\n      if (arg.disposed) {\n        throw new Error('JSHandle is disposed!');\n      }\n      return arg.remoteValue();\n    }\n    return Serializer_js_1.BidiSerializer.serialize(arg);\n  }\n  async destroyHandles(handles) {\n    if (this.disposed) {\n      return;\n    }\n    const handleIds = handles.map(({\n      id\n    }) => {\n      return id;\n    }).filter(id => {\n      return id !== undefined;\n    });\n    if (handleIds.length === 0) {\n      return;\n    }\n    await this.realm.disown(handleIds).catch(error => {\n      // Exceptions might happen in case of a page been navigated or closed.\n      // Swallow these since they are harmless and we don't leak anything in this case.\n      (0, util_js_1.debugError)(error);\n    });\n  }\n  async adoptHandle(handle) {\n    return await this.evaluateHandle(node => {\n      return node;\n    }, handle);\n  }\n  async transferHandle(handle) {\n    if (handle.realm === this) {\n      return handle;\n    }\n    const transferredHandle = this.adoptHandle(handle);\n    await handle.dispose();\n    return await transferredHandle;\n  }\n}\nasync function _evaluate(returnByValue, pageFunction, ...args) {\n  const sourceUrlComment = (0, util_js_1.getSourceUrlComment)((0, util_js_1.getSourcePuppeteerURLIfAvailable)(pageFunction)?.toString() ?? util_js_1.PuppeteerURL.INTERNAL_URL);\n  let responsePromise;\n  const resultOwnership = returnByValue ? \"none\" /* Bidi.Script.ResultOwnership.None */ : \"root\" /* Bidi.Script.ResultOwnership.Root */;\n  const serializationOptions = returnByValue ? {} : {\n    maxObjectDepth: 0,\n    maxDomDepth: 0\n  };\n  if ((0, util_js_1.isString)(pageFunction)) {\n    const expression = util_js_1.SOURCE_URL_REGEX.test(pageFunction) ? pageFunction : `${pageFunction}\\n${sourceUrlComment}\\n`;\n    responsePromise = this.realm.evaluate(expression, true, {\n      resultOwnership,\n      userActivation: true,\n      serializationOptions\n    });\n  } else {\n    let functionDeclaration = (0, Function_js_1.stringifyFunction)(pageFunction);\n    functionDeclaration = util_js_1.SOURCE_URL_REGEX.test(functionDeclaration) ? functionDeclaration : `${functionDeclaration}\\n${sourceUrlComment}\\n`;\n    responsePromise = this.realm.callFunction(functionDeclaration, /* awaitPromise= */true, {\n      arguments: args.length ? await Promise.all(args.map(arg => {\n        return this.serialize(arg);\n      })) : [],\n      resultOwnership,\n      userActivation: true,\n      serializationOptions\n    });\n  }\n  const result = await responsePromise;\n  if ('type' in result && result.type === 'exception') {\n    throw (0, util_js_2.createEvaluationError)(result.exceptionDetails);\n  }\n  return returnByValue ? Deserializer_js_1.BidiDeserializer.deserialize(result.result) : this.createHandle(result.result);\n}\nexports.BidiRealm = BidiRealm;\n/**\n * @internal\n */\nvar _frame = /*#__PURE__*/new WeakMap();\nvar _BidiFrameRealm_brand = /*#__PURE__*/new WeakSet();\nvar _bindingsInstalled = /*#__PURE__*/new WeakMap();\nclass BidiFrameRealm extends BidiRealm {\n  static from(realm, frame) {\n    const frameRealm = new BidiFrameRealm(realm, frame);\n    _assertClassBrand(_BidiFrameRealm_brand, frameRealm, _initialize).call(frameRealm);\n    return frameRealm;\n  }\n  constructor(realm, frame) {\n    super(realm, frame.timeoutSettings);\n    _classPrivateMethodInitSpec(this, _BidiFrameRealm_brand);\n    _classPrivateFieldInitSpec(this, _frame, void 0);\n    _classPrivateFieldInitSpec(this, _bindingsInstalled, false);\n    _classPrivateFieldSet(_frame, this, frame);\n  }\n  get puppeteerUtil() {\n    let promise = Promise.resolve();\n    if (!_classPrivateFieldGet(_bindingsInstalled, this)) {\n      promise = Promise.all([ExposedFunction_js_1.ExposeableFunction.from(this.environment, '__ariaQuerySelector', AriaQueryHandler_js_1.ARIAQueryHandler.queryOne, !!this.sandbox), ExposedFunction_js_1.ExposeableFunction.from(this.environment, '__ariaQuerySelectorAll', async (element, selector) => {\n        const results = AriaQueryHandler_js_1.ARIAQueryHandler.queryAll(element, selector);\n        return await element.realm.evaluateHandle((...elements) => {\n          return elements;\n        }, ...(await AsyncIterableUtil_js_1.AsyncIterableUtil.collect(results)));\n      }, !!this.sandbox)]);\n      _classPrivateFieldSet(_bindingsInstalled, this, true);\n    }\n    return promise.then(() => {\n      return super.puppeteerUtil;\n    });\n  }\n  get sandbox() {\n    return this.realm.sandbox;\n  }\n  get environment() {\n    return _classPrivateFieldGet(_frame, this);\n  }\n  async adoptBackendNode(backendNodeId) {\n    const env_1 = {\n      stack: [],\n      error: void 0,\n      hasError: false\n    };\n    try {\n      const {\n        object\n      } = await _classPrivateFieldGet(_frame, this).client.send('DOM.resolveNode', {\n        backendNodeId,\n        executionContextId: await this.realm.resolveExecutionContextId()\n      });\n      const handle = __addDisposableResource(env_1, ElementHandle_js_1.BidiElementHandle.from({\n        handle: object.objectId,\n        type: 'node'\n      }, this), false);\n      // We need the sharedId, so we perform the following to obtain it.\n      return await handle.evaluateHandle(element => {\n        return element;\n      });\n    } catch (e_1) {\n      env_1.error = e_1;\n      env_1.hasError = true;\n    } finally {\n      __disposeResources(env_1);\n    }\n  }\n}\n_BidiFrameRealm = BidiFrameRealm;\nfunction _initialize() {\n  _get(_getPrototypeOf(_BidiFrameRealm.prototype), \"initialize\", this).call(this);\n  // This should run first.\n  this.realm.on('updated', () => {\n    this.environment.clearDocumentHandle();\n    _classPrivateFieldSet(_bindingsInstalled, this, false);\n  });\n}\nexports.BidiFrameRealm = BidiFrameRealm;\n/**\n * @internal\n */\nvar _worker = /*#__PURE__*/new WeakMap();\nclass BidiWorkerRealm extends BidiRealm {\n  static from(realm, worker) {\n    const workerRealm = new BidiWorkerRealm(realm, worker);\n    workerRealm.initialize();\n    return workerRealm;\n  }\n  constructor(realm, frame) {\n    super(realm, frame.timeoutSettings);\n    _classPrivateFieldInitSpec(this, _worker, void 0);\n    _classPrivateFieldSet(_worker, this, frame);\n  }\n  get environment() {\n    return _classPrivateFieldGet(_worker, this);\n  }\n  async adoptBackendNode() {\n    throw new Error('Cannot adopt DOM nodes into a worker.');\n  }\n}\nexports.BidiWorkerRealm = BidiWorkerRealm;","map":{"version":3,"names":["Realm_js_1","require","AriaQueryHandler_js_1","LazyArg_js_1","ScriptInjector_js_1","util_js_1","AsyncIterableUtil_js_1","Function_js_1","Deserializer_js_1","ElementHandle_js_1","ExposedFunction_js_1","JSHandle_js_1","Serializer_js_1","util_js_2","_BidiRealm_brand","WeakSet","BidiRealm","Realm","constructor","realm","timeoutSettings","_classPrivateMethodInitSpec","_defineProperty","initialize","on","reason","taskManager","terminateAll","Error","dispose","internalPuppeteerUtil","undefined","rerunAll","puppeteerUtil","promise","Promise","resolve","scriptInjector","inject","script","then","handle","evaluateHandle","pageFunction","args","_assertClassBrand","_evaluate","call","evaluate","createHandle","result","type","BidiFrameRealm","BidiElementHandle","from","BidiJSHandle","serialize","arg","LazyArg","get","environment","disposed","remoteValue","BidiSerializer","destroyHandles","handles","handleIds","map","id","filter","length","disown","catch","error","debugError","adoptHandle","node","transferHandle","transferredHandle","returnByValue","sourceUrlComment","getSourceUrlComment","getSourcePuppeteerURLIfAvailable","toString","PuppeteerURL","INTERNAL_URL","responsePromise","resultOwnership","serializationOptions","maxObjectDepth","maxDomDepth","isString","expression","SOURCE_URL_REGEX","test","userActivation","functionDeclaration","stringifyFunction","callFunction","arguments","all","createEvaluationError","exceptionDetails","BidiDeserializer","deserialize","exports","_frame","WeakMap","_BidiFrameRealm_brand","_bindingsInstalled","frame","frameRealm","_initialize","_classPrivateFieldInitSpec","_classPrivateFieldSet","_classPrivateFieldGet","ExposeableFunction","ARIAQueryHandler","queryOne","sandbox","element","selector","results","queryAll","elements","AsyncIterableUtil","collect","adoptBackendNode","backendNodeId","object","client","send","executionContextId","resolveExecutionContextId","__addDisposableResource","env_1","objectId","_BidiFrameRealm","_get","_getPrototypeOf","prototype","clearDocumentHandle","_worker","BidiWorkerRealm","worker","workerRealm"],"sources":["../../../../src/bidi/Realm.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}