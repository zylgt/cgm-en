{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport TChart from '@/views/components/TChart';\nexport default {\n  data() {\n    return {\n      agpDate: ['2024-05-01', '2024-05-08'],\n      pickerOptions: {\n        shortcuts: [{\n          text: '最近7天',\n          onClick(picker) {\n            const end = new Date();\n            const start = new Date();\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\n            picker.$emit('pick', [start, end]);\n          }\n        }, {\n          text: '最近14天',\n          onClick(picker) {\n            const end = new Date();\n            const start = new Date();\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 14);\n            picker.$emit('pick', [start, end]);\n          }\n        }, {\n          text: '最近30天',\n          onClick(picker) {\n            const end = new Date();\n            const start = new Date();\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\n            picker.$emit('pick', [start, end]);\n          }\n        }, {\n          text: '最近90天',\n          onClick(picker) {\n            const end = new Date();\n            const start = new Date();\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\n            picker.$emit('pick', [start, end]);\n          }\n        }]\n      },\n      dialogVisible: false,\n      dialogType: \"\",\n      downloadList: ['AGP报告', '每日分析', '多日血糖分析', '报告解读', '饮食分析'],\n      checkedDowns: [],\n      checkAll: false,\n      isIndeterminate: true,\n      initOptions: {\n        renderer: 'svg'\n      },\n      option: {\n        tooltip: {\n          show: true,\n          trigger: 'axis',\n          confine: true\n        },\n        grid: {\n          left: 30,\n          top: 60,\n          bottom: 20,\n          right: 30\n        },\n        xAxis: [{\n          type: 'category',\n          data: ['01.31', '02.01', '02.02', '02.03', '02.04', '02.05', '02.06'],\n          axisPointer: {\n            type: 'shadow'\n          }\n        }],\n        yAxis: [{\n          type: 'value',\n          name: '实际下发总数',\n          min: 0,\n          max: 18,\n          axisLabel: {\n            formatter: '{value}'\n          }\n        }, {\n          type: 'value',\n          name: '回收占比',\n          show: true,\n          min: 0,\n          max: 100,\n          interval: 20,\n          axisLabel: {\n            formatter: '{value}%'\n          }\n        }],\n        series: [{\n          name: '实际下发总数',\n          type: 'bar',\n          barMaxWidth: 30,\n          tooltip: {\n            valueFormatter: function (value) {\n              return value + '份';\n            }\n          },\n          itemStyle: {\n            color: '#e5e5e5'\n          },\n          label: {\n            show: true,\n            distance: 5,\n            color: '#666',\n            fontSize: 16,\n            position: 'top'\n          },\n          data: [4.6, 6.3, 4.5, 6, 7.8, 9, 11.3, 13.9, 15, 17, 13.2, 4.6]\n        }, {\n          name: '回收占比',\n          type: 'line',\n          yAxisIndex: 1,\n          tooltip: {\n            valueFormatter: function (value) {\n              return value + ' %';\n            }\n          },\n          lineStyle: {\n            color: '#ccc'\n          },\n          itemStyle: {\n            color: val => {\n              return val.value < 70 ? \"#32BAC0\" : \"#F43F31\";\n            }\n          },\n          symbolSize: 13,\n          data: [70, 50, 60, 90, 50, 67, 90]\n        }]\n      }\n    };\n  },\n  components: {\n    TChart\n  },\n  methods: {\n    upload() {\n      this.$router.push('/upLoad');\n    },\n    // 从云\n    // 选择时间\n    changeDate(e) {\n      // if( _.indexOf(this.$store.state.report.chooseDateList,this.agpDate.join('/'))==-1){\n      //     this.getData()\n      // }else{\n      //     this.$bus.$emit('getVuexTag',this.agpDate.join('/'))\n      // }\n    },\n    // 选择下载。打印的内容\n    handleCheckedCitiesChange(val) {\n      let checkedCount = val.length;\n      this.checkAll = checkedCount === this.downloadList.length;\n      this.isIndeterminate = checkedCount > 0 && checkedCount < this.downloadList.length;\n    },\n    // 全选\n    handleCheckAllChange(val) {\n      this.checkedDowns = val ? this.downloadList : [];\n      this.isIndeterminate = false;\n    },\n    // 打印\n    async print() {\n      this.dialogVisible = true;\n      this.dialogType = 'print';\n    },\n    // 导出pdf\n    handleExport() {\n      this.dialogVisible = true;\n      this.dialogType = 'export';\n    }\n  }\n};","map":{"version":3,"names":["TChart","data","agpDate","pickerOptions","shortcuts","text","onClick","picker","end","Date","start","setTime","getTime","$emit","dialogVisible","dialogType","downloadList","checkedDowns","checkAll","isIndeterminate","initOptions","renderer","option","tooltip","show","trigger","confine","grid","left","top","bottom","right","xAxis","type","axisPointer","yAxis","name","min","max","axisLabel","formatter","interval","series","barMaxWidth","valueFormatter","value","itemStyle","color","label","distance","fontSize","position","yAxisIndex","lineStyle","val","symbolSize","components","methods","upload","$router","push","changeDate","e","handleCheckedCitiesChange","checkedCount","length","handleCheckAllChange","print","handleExport"],"sources":["src/views/report/dayReport.vue"],"sourcesContent":["<template>\n    <div>\n        <div class='agp-top' >\n            <div class='agp-top-fl' >\n                <div class='report-title'> {{$t('message.route.'+$route.meta.title)}}</div>\n                \n            </div>\n            <div class='agp-fr' >\n                <img src=\"~@/assets/image/printer.png\" alt=\"\" class='agp-icon' @click='print' >\n                <img src=\"~@/assets/image/down-icon.png\" alt=\"\" class='agp-icon' @click='handleExport' >\n                <img src=\"~@/assets/image/share.png\" alt=\"\" class='agp-icon agp-fr-icon'>\n                <el-button type=\"primary\" @click=\"upload\">\n                    <img src=\"~@/assets/image/btn-upload.png\" alt=\"\" class='btn-upload' >\n                    上传数据\n                </el-button>\n            </div>\n        </div>\n        <div class='report-agp-date' >\n                <img src=\"~@/assets/image/date-calendar.png\" alt=\"\" class='agp-icon' >\n                <div class='agp-date' >{{agpDate[0]}} — {{agpDate[1]}}（4天）</div>\n                    <img src=\"~@/assets/image/select-icon.png\" alt=\"\" class='select-icon' >\n                <el-date-picker\n                    class='agp-picker'\n                    v-model=\"agpDate\"\n                    type=\"daterange\"\n                    align=\"right\"\n                    unlink-panels\n                    range-separator=\"至\"\n                    start-placeholder=\"开始日期\"\n                    end-placeholder=\"结束日期\"\n                    value-format=\"yyyy-MM-dd\"\n                    format=\"yyyy-MM-dd\"\n                    @change=\"changeDate\"\n                    :picker-options=\"pickerOptions\">\n                </el-date-picker>\n        </div>\n        <div class='bg-summary agp-cont-main'>\n           <div class='cgm-cont-title'>  <span class='title-border' ></span>每日血糖总结</div>\n            <div class='cgm-agp-info-box'>\n                <div class='cgm-agp-info'></div>\n                <img src=\"~@/assets/image/reason-icon.png\" alt=\"\" class='reason-icon'  v-popover:tirPopover @click='openPopover(\"tir\")' >\n            </div>\n            <div class='summary-chart' >\n                 <t-chart\n                    style=\"width: 100%;height:250px;\"\n                    :option=\"option\"\n                    :init-options=\"initOptions\"\n                    theme=\"tduck-echarts-theme\"\n                />\n            </div>\n        </div>\n         <!-- 下载打印弹窗 -->\n        <el-dialog  :visible.sync=\"dialogVisible\"  :show-close=\"false\" :title='dialogType==\"print\"?\"打印报告\":\"下载报告\"'\n         width=\"1060\" >\n            <div class='slot-popover'  id='popover'>\n                <div class='slot-popover-cont slot-popover-conts'>\n                    <div class='report-agp-date report-agp-dates' >\n                            <img src=\"~@/assets/image/date-calendar.png\" alt=\"\" class='agp-icon' >\n                            <div class='agp-date' >{{agpDate[0]}} — {{agpDate[1]}}（4天）</div>\n                            <img src=\"~@/assets/image/select-icon.png\" alt=\"\" class='select-icon' >\n                            <el-date-picker\n                                class='agp-picker'\n                                v-model=\"agpDate\"\n                                type=\"daterange\"\n                                align=\"right\"\n                                unlink-panels\n                                range-separator=\"至\"\n                                start-placeholder=\"开始日期\"\n                                end-placeholder=\"结束日期\"\n                                value-format=\"yyyy-MM-dd\"\n                                format=\"yyyy-MM-dd\"\n                                @change=\"changeDate\"\n                                :picker-options=\"pickerOptions\">\n                            </el-date-picker>\n                    </div>\n                    <div class='popover-cont-label' >\n                        <div class='popover-cont-label-label' v-if='dialogType==\"print\"'>请选择您想要打印的报告内容：</div>\n                        <div class='popover-cont-label-label' v-else>请选择您想要下载的报告内容：</div>\n                         <el-checkbox :indeterminate=\"isIndeterminate\" v-model=\"checkAll\" @change=\"handleCheckAllChange\">全选</el-checkbox>\n                    </div>\n                    <el-checkbox-group v-model=\"checkedDowns\" @change=\"handleCheckedCitiesChange\">\n                        <el-checkbox v-for=\"item in downloadList\" :label=\"item\" :key=\"item\">{{item}}</el-checkbox>\n                    </el-checkbox-group>\n                </div>\n                <div class='slot-popover-btn'>\n                    <el-button type=\"primary\" v-if='dialogType==\"print\"'>打印报告</el-button>\n                    <el-button type=\"primary\" v-else>下载报告</el-button>\n                </div>\n            </div>\n            <img src=\"~@/assets/image/close-icon.png\" alt=\"\" class='dialog-close' @click='dialogVisible=false' >\n        </el-dialog>\n    </div>\n</template>\n<script>\nimport TChart from '@/views/components/TChart'\nexport default {\n    \n    data(){\n        return{\n            agpDate:['2024-05-01','2024-05-08'],\n            pickerOptions: {\n                shortcuts: [{\n                    text: '最近7天',\n                    onClick(picker) {\n                    const end = new Date();\n                    const start = new Date();\n                    start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\n                    picker.$emit('pick', [start, end]);\n                    }\n                },{\n                    text: '最近14天',\n                    onClick(picker) {\n                    const end = new Date();\n                    const start = new Date();\n                    start.setTime(start.getTime() - 3600 * 1000 * 24 * 14);\n                    picker.$emit('pick', [start, end]);\n                    }\n                }, {\n                    text: '最近30天',\n                    onClick(picker) {\n                    const end = new Date();\n                    const start = new Date();\n                    start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\n                    picker.$emit('pick', [start, end]);\n                    }\n                }, {\n                    text: '最近90天',\n                    onClick(picker) {\n                    const end = new Date();\n                    const start = new Date();\n                    start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\n                    picker.$emit('pick', [start, end]);\n                    }\n                }]\n            },\n            dialogVisible:false,\n            dialogType:\"\",\n            downloadList:['AGP报告','每日分析','多日血糖分析','报告解读','饮食分析'],\n            checkedDowns:[],\n            checkAll:false,\n            isIndeterminate: true,\n            initOptions: {\n                renderer: 'svg'\n            },\n            option:{\n                tooltip:{\n                    show:true,\n                    trigger:'axis',\n                    confine:true\n\n                },\n                grid:{\n                    left:30,\n                    top:60,\n                    bottom:20,\n                    right:30\n                },\n                xAxis: [\n                    {\n                    type: 'category',\n                    data: ['01.31', '02.01', '02.02', '02.03', '02.04', '02.05', '02.06'],\n                    axisPointer: {\n                        type: 'shadow'\n                    }\n                    }\n                ],\n                yAxis: [\n                    {\n                    type: 'value',\n                    name: '实际下发总数',\n                    min: 0,\n                    max:18 ,\n                    axisLabel: {\n                        formatter: '{value}'\n                    }\n                    },\n                    {\n                        type: 'value',\n                        name: '回收占比',\n                        show:true,\n                        min: 0,\n                        max: 100,\n                        interval: 20,\n                        axisLabel: {\n                            formatter: '{value}%'\n                        }\n                    }\n                ],\n                 series: [\n                    {\n                    name: '实际下发总数',\n                    type: 'bar',\n                    barMaxWidth:30,\n                    tooltip: {\n                        valueFormatter: function (value) {\n                        return value + '份';\n                        }\n                    },\n                    itemStyle:{\n                        color:'#e5e5e5'\n                    },\n                    label:{\n                        show:true,\n                        distance:5,\n                        color:'#666',\n                        fontSize:16,\n                        position:'top'\n                    },\n                    data: [\n                        4.6, 6.3, 4.5, 6, 7.8, 9, 11.3, 13.9, 15, 17, 13.2, 4.6\n                    ]\n                    },\n                    {\n                    name: '回收占比',\n                    type: 'line',\n                    yAxisIndex: 1,\n                    tooltip: {\n                        valueFormatter: function (value) {\n                        return value + ' %';\n                        }\n                    },\n                    lineStyle:{\n                        color:'#ccc',\n                    },\n                    itemStyle:{\n                        color:(val)=>{\n                            return val.value<70?\"#32BAC0\":\"#F43F31\"\n                        }\n                    },\n                    symbolSize:13,\n                    data: [70,50,60,90,50,67,90]\n                    }\n                ]\n            }\n        }\n    },\n    components: {\n        TChart\n    },\n    methods:{\n        upload(){\n            this.$router.push('/upLoad')\n        },\n        // 从云\n         // 选择时间\n        changeDate(e){\n            // if( _.indexOf(this.$store.state.report.chooseDateList,this.agpDate.join('/'))==-1){\n            //     this.getData()\n            // }else{\n            //     this.$bus.$emit('getVuexTag',this.agpDate.join('/'))\n            // }\n        },\n        // 选择下载。打印的内容\n        handleCheckedCitiesChange(val){\n            let checkedCount = val.length;\n            this.checkAll = checkedCount === this.downloadList.length;\n            this.isIndeterminate = checkedCount > 0 && checkedCount < this.downloadList.length;\n        },\n        // 全选\n        handleCheckAllChange(val){\n            this.checkedDowns = val ? this.downloadList : [];\n            this.isIndeterminate = false;\n        },\n          // 打印\n        async print(){\n            this.dialogVisible = true\n            this.dialogType='print'\n        },\n        // 导出pdf\n        handleExport() {\n            this.dialogVisible = true\n            this.dialogType='export'\n        },\n    }\n}\n</script>\n<style scoped>\n\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}