{"ast":null,"code":"\"use strict\";\n\nvar _classPrivateMethodInitSpec = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateMethodInitSpec.js\").default;\nvar _classPrivateFieldInitSpec = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldInitSpec.js\").default;\nvar _classPrivateFieldGet = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldGet2.js\").default;\nvar _classPrivateFieldSet = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/classPrivateFieldSet2.js\").default;\nvar _assertClassBrand = require(\"/Users/hexuemin/Desktop/jiuan/CGM/CGMWeb/node_modules/@babel/runtime/helpers/assertClassBrand.js\").default;\nrequire(\"core-js/modules/es.array.push.js\");\nvar __runInitializers = this && this.__runInitializers || function (thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n    value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\nvar __esDecorate = this && this.__esDecorate || function (ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) {\n    if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\");\n    return f;\n  }\n  var kind = contextIn.kind,\n    key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _,\n    done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n    var context = {};\n    for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n    for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n    context.addInitializer = function (f) {\n      if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\");\n      extraInitializers.push(accept(f || null));\n    };\n    var result = (0, decorators[i])(kind === \"accessor\" ? {\n      get: descriptor.get,\n      set: descriptor.set\n    } : descriptor[key], context);\n    if (kind === \"accessor\") {\n      if (result === void 0) continue;\n      if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n      if (_ = accept(result.get)) descriptor.get = _;\n      if (_ = accept(result.set)) descriptor.set = _;\n      if (_ = accept(result.init)) initializers.unshift(_);\n    } else if (_ = accept(result)) {\n      if (kind === \"field\") initializers.unshift(_);else descriptor[key] = _;\n    }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BidiHTTPResponse = void 0;\nconst HTTPResponse_js_1 = require(\"../api/HTTPResponse.js\");\nconst Errors_js_1 = require(\"../common/Errors.js\");\nconst decorators_js_1 = require(\"../util/decorators.js\");\n/**\n * @internal\n */\nlet BidiHTTPResponse = ((_BidiHTTPResponse, _data, _request, _BidiHTTPResponse_brand) => {\n  let _classSuper = HTTPResponse_js_1.HTTPResponse;\n  let _instanceExtraInitializers = [];\n  let _remoteAddress_decorators;\n  return _data = /*#__PURE__*/new WeakMap(), _request = /*#__PURE__*/new WeakMap(), _BidiHTTPResponse_brand = /*#__PURE__*/new WeakSet(), (_BidiHTTPResponse = class BidiHTTPResponse extends _classSuper {\n    static from(data, request) {\n      const response = new BidiHTTPResponse(data, request);\n      _assertClassBrand(_BidiHTTPResponse_brand, response, _initialize).call(response);\n      return response;\n    }\n    constructor(data, request) {\n      super();\n      _classPrivateMethodInitSpec(this, _BidiHTTPResponse_brand);\n      _classPrivateFieldInitSpec(this, _data, (__runInitializers(this, _instanceExtraInitializers), void 0));\n      _classPrivateFieldInitSpec(this, _request, void 0);\n      _classPrivateFieldSet(_data, this, data);\n      _classPrivateFieldSet(_request, this, request);\n    }\n    remoteAddress() {\n      return {\n        ip: '',\n        port: -1\n      };\n    }\n    url() {\n      return _classPrivateFieldGet(_data, this).url;\n    }\n    status() {\n      return _classPrivateFieldGet(_data, this).status;\n    }\n    statusText() {\n      return _classPrivateFieldGet(_data, this).statusText;\n    }\n    headers() {\n      const headers = {};\n      // TODO: Remove once the Firefox implementation is compliant with https://w3c.github.io/webdriver-bidi/#get-the-response-data.\n      for (const header of _classPrivateFieldGet(_data, this).headers || []) {\n        // TODO: How to handle Binary Headers\n        // https://w3c.github.io/webdriver-bidi/#type-network-Header\n        if (header.value.type === 'string') {\n          headers[header.name.toLowerCase()] = header.value.value;\n        }\n      }\n      return headers;\n    }\n    request() {\n      return _classPrivateFieldGet(_request, this);\n    }\n    fromCache() {\n      return _classPrivateFieldGet(_data, this).fromCache;\n    }\n    timing() {\n      // TODO: File and issue with BiDi spec\n      throw new Errors_js_1.UnsupportedOperation();\n    }\n    frame() {\n      return _classPrivateFieldGet(_request, this).frame();\n    }\n    fromServiceWorker() {\n      return false;\n    }\n    securityDetails() {\n      throw new Errors_js_1.UnsupportedOperation();\n    }\n    buffer() {\n      throw new Errors_js_1.UnsupportedOperation();\n    }\n  }, (() => {\n    const _metadata = typeof Symbol === \"function\" && Symbol.metadata ? Object.create(_classSuper[Symbol.metadata] ?? null) : void 0;\n    _remoteAddress_decorators = [decorators_js_1.invokeAtMostOnceForArguments];\n    __esDecorate(_BidiHTTPResponse, null, _remoteAddress_decorators, {\n      kind: \"method\",\n      name: \"remoteAddress\",\n      static: false,\n      private: false,\n      access: {\n        has: obj => \"remoteAddress\" in obj,\n        get: obj => obj.remoteAddress\n      },\n      metadata: _metadata\n    }, null, _instanceExtraInitializers);\n    if (_metadata) Object.defineProperty(_BidiHTTPResponse, Symbol.metadata, {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: _metadata\n    });\n  })(), _BidiHTTPResponse);\n  function _initialize() {\n    if (_classPrivateFieldGet(_data, this).fromCache) {\n      _classPrivateFieldGet(_request, this).frame()?.page().trustedEmitter.emit(\"requestservedfromcache\" /* PageEvent.RequestServedFromCache */, _classPrivateFieldGet(_request, this));\n    }\n    _classPrivateFieldGet(_request, this).frame()?.page().trustedEmitter.emit(\"response\" /* PageEvent.Response */, this);\n  }\n})();\nexports.BidiHTTPResponse = BidiHTTPResponse;","map":{"version":3,"names":["HTTPResponse_js_1","require","Errors_js_1","decorators_js_1","BidiHTTPResponse","_BidiHTTPResponse","_data","_request","_BidiHTTPResponse_brand","HTTPResponse","_classSuper","from","data","request","response","_assertClassBrand","_initialize","call","constructor","_classPrivateMethodInitSpec","_classPrivateFieldInitSpec","__runInitializers","_instanceExtraInitializers","_classPrivateFieldSet","remoteAddress","ip","port","url","_classPrivateFieldGet","status","statusText","headers","header","value","type","name","toLowerCase","fromCache","timing","UnsupportedOperation","frame","fromServiceWorker","securityDetails","buffer","invokeAtMostOnceForArguments","__esDecorate","_remoteAddress_decorators","kind","static","private","access","has","obj","get","metadata","_metadata","page","trustedEmitter","emit","exports"],"sources":["../../../../src/bidi/HTTPResponse.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}