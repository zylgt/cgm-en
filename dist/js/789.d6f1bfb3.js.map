{"version":3,"file":"js/789.d6f1bfb3.js","mappings":"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","sources":["webpack://CGM3/./src/views/components/Chart/AGPchart.vue","webpack://CGM3/src/views/components/Chart/AGPchart.vue","webpack://CGM3/./src/views/components/Chart/AGPchart.vue?b471","webpack://CGM3/./src/views/components/Chart/AGPchart.vue?2d2a","webpack://CGM3/./src/views/components/Chart/DayChart.vue","webpack://CGM3/src/views/components/Chart/DayChart.vue","webpack://CGM3/./src/views/components/Chart/DayChart.vue?ddee","webpack://CGM3/./src/views/components/Chart/DayChart.vue?6b60","webpack://CGM3/./src/views/components/Chart/TIR.vue","webpack://CGM3/src/views/components/Chart/TIR.vue","webpack://CGM3/./src/views/components/Chart/TIR.vue?6860","webpack://CGM3/./src/views/components/Chart/TIR.vue?593c"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.empty)?_c('div',{staticClass:\"agp-chart-empty\"},[_c('img',{staticClass:\"empty-icon\",attrs:{\"src\":require(\"@/assets/image/empty-icon.png\"),\"alt\":\"\"}}),_c('div',{staticClass:\"agp-chartempty-tips\"},[_vm._v(\"至少需要五天数据才可显示AGP图谱\")])]):_c('div',[_vm._m(0),_c('t-chart',{style:({\"width\":_vm.tWidth+\"%\",\"height\":_vm.height+\"px\"}),attrs:{\"option\":_vm.option,\"init-options\":_vm.initOptions,\"theme\":\"tduck-echarts-theme\"}})],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"agp-legend\"},[_c('div',{staticClass:\"agp-legend-item\"},[_c('div',{staticClass:\"apg-legend-shape1\"},[_vm._v(\"—\")]),_c('div',{staticClass:\"agp-legend-info\"},[_vm._v(\"50%中位线\")])]),_c('div',{staticClass:\"agp-legend-item\"},[_c('div',{staticClass:\"apg-legend-shape2\"}),_c('div',{staticClass:\"agp-legend-info\"},[_vm._v(\"25%-75%区间\")])]),_c('div',{staticClass:\"agp-legend-item\"},[_c('div',{staticClass:\"apg-legend-shape3\"}),_c('div',{staticClass:\"agp-legend-info\"},[_vm._v(\"5%-95%区间\")])]),_c('div',{staticClass:\"agp-legend-item\"},[_c('div',{staticClass:\"apg-legend-shape4-box\"},[_c('p',{staticClass:\"apg-legend-shape4\"}),_c('p',{staticClass:\"apg-legend-shape4\"})]),_c('div',{staticClass:\"agp-legend-info\"},[_vm._v(\"目标范围\")])])])\n}]\n\nexport { render, staticRenderFns }","<template>\n    <div>\n         <div class='agp-chart-empty' v-if='empty'>\n            <img src=\"~@/assets/image/empty-icon.png\" alt=\"\" class='empty-icon' >\n            <div class='agp-chartempty-tips' >至少需要五天数据才可显示AGP图谱</div>\n        </div>\n        <div v-else>\n            <div class='agp-legend' >\n                <div class='agp-legend-item' >\n                    <div class='apg-legend-shape1'>—</div>\n                    <div class='agp-legend-info' >50%中位线</div>\n                </div>\n                <div class='agp-legend-item' >\n                    <div class='apg-legend-shape2'></div>\n                    <div class='agp-legend-info' >25%-75%区间</div>\n                </div>\n                <div class='agp-legend-item' >\n                    <div class='apg-legend-shape3'></div>\n                    <div class='agp-legend-info' >5%-95%区间</div>\n                </div>\n                <div class='agp-legend-item' >\n                    <div class='apg-legend-shape4-box'>\n                        <p class='apg-legend-shape4'></p>\n                        <p class='apg-legend-shape4'></p>\n                    </div>\n                    <div class='agp-legend-info' >目标范围</div>\n                </div>\n            </div>\n            <t-chart\n                    :style='{\"width\":tWidth+\"%\",\"height\":height+\"px\"}'\n                    :option=\"option\"\n                    :init-options=\"initOptions\"\n                    theme=\"tduck-echarts-theme\"\n            />\n        </div>\n    </div>\n</template>\n<script>\n    import TChart from '@/views/components/TChart'\n    import { hasEventListener } from \"@/utils/utils\";\n    import {formatDate,formatTime} from '@/utils/formatTime'\n    import { AGPUtils } from \"@/utils/algorithm/AGP\";\n    import { GlucoseUtils } from \"@/utils/algorithm/Glucose\";\n    import {mapGetters} from \"vuex\"\n    export default {\n        data(){\n            return{\n                initOptions: {\n                    renderer: 'svg'\n                },\n                option: {\n                    grid:[\n                        {\n                            height:300,\n                            left:140,\n                            right:120,\n                            top:30\n                        }\n                    ],\n                    xAxis: [\n                        {\n                            type: 'category',\n                            gridIndex:0,\n                            boundaryGap:false,\n                            axisTick: false,\n                            splitLine:{\n                                show:false,\n                                lineStyle:{\n                                    color:'var(--color-black-60)'\n                                },\n                                interval:59\n                            },\n                            axisLine: {\n                                show: true,\n                                lineStyle: {\n                                    color: 'var(--color-black-60)',\n                                    width:1,\n                                },\n                            },\n                            data:[],\n                            axisLabel: {\n                                formatter: function (value, index) {\n                                    if (index  % 360 === 0) {\n                                        let h =  Math.floor(value/60)<10 ? '0'+ Math.floor(value/60) : Math.floor(value/60) \n                                        let m =  value%60 < 10 ? '0' + value%60 : value%60\n                                        let moment = h+':'+m\n                                        return moment;\n                                    }\n                                    if(index+1===24*60){\n                                        return '00:00'\n                                    }\n                                },\n                                interval:0,\n                                color: 'var(--color-black-60)',\n                                fontSize: 20, \n                                margin:14\n                            }\n                        }\n                    ],\n                    yAxis: [\n                        {\n                            type: 'value',\n                            gridIndex:0,\n                            min: 0,\n                            max: 15,\n                            interval:3,\n                            splitLine:{\n                                lineStyle:{\n                                   color:'var(--color-black-60)'\n                                }\n                            },\n                            axisLabel: {\n                                formatter: '{value}',\n                                color: 'var(--color-black-60)',\n                                fontSize: 20,\n                                margin:14\n                            }\n                        }\n                    ],\n                    series: [\n                        {\n                            name: 'L',\n                            type: 'line',\n\n                            data: [],\n                            lineStyle: {\n                            opacity: 0,\n                            },\n                            stack: 'confidence-band',\n                            symbol: 'none',\n                            silent: true, \n                            emphasis:{\n                                disabled:true\n                            },\n                            animation:false\n                        },\n                        // 置信区间5-25\n                        {\n                            name: 'U',\n                            type: 'line',\n                            data: [],\n                            lineStyle: {\n                            opacity: 0,\n                            },\n                            areaStyle: {\n                            color: '#D6F1F2',\n                            },\n                            stack: 'confidence-band',\n                            symbol: 'none',\n                            silent: true, \n                            emphasis:{\n                                disabled:true\n                            },\n                            animation:false\n                        },\n                        //置信区间25-75\n                        {\n                            name: 'U',\n                            type: 'line',\n                            data: [],\n                            lineStyle: {\n                            opacity: 0,\n                            },\n                            areaStyle: {\n                            color: '#94DBDE',\n                            },\n                            stack: 'confidence-band',\n                            symbol: 'none',\n                            silent: true, \n                            emphasis:{\n                                disabled:true\n                            },\n                            animation:false\n                        },\n                        //75-95\n                        {\n                            name: 'U',\n                            type: 'line',\n                            data:[],\n                            lineStyle: {\n                            opacity: 0,\n                            },\n                            areaStyle: {\n                            color: '#D6F1F2',\n                            },\n                            stack: 'confidence-band',\n                            symbol: 'none',\n                            silent: true, \n                            emphasis:{\n                                disabled:true\n                            },\n                            animation:false\n                        },\n                        //中位线\n                        {\n                            type: 'line',\n                            data: [],\n                            itemStyle: {\n                            color:'var(--color-primary)',\n                            },\n                            showSymbol: false,\n                            lineStyle: {\n                            width: 2,\n                            },\n                            silent: true, \n                            emphasis:{\n                                disabled:true\n                            },\n                            animation:false,\n                            markLine: {\n                            silent: true, // 不高亮辅助线\n                            symbol: 'none',\n                            animation:false,\n                            data: [\n                                {\n                                type: 'min',\n                                yAxis:70,\n                                lineStyle: {\n                                    color: 'var(--color-error)',\n                                    width: 2,\n                                    type:'solid'\n                                },\n                                label: {\n                                    color: 'var(--color-error)',\n                                    fontSize: 20,\n                                    distance: 14,\n                                    position:'start'\n                                },\n                                },\n                                {\n                                type: 'max',\n                                yAxis:180,\n                                lineStyle: {\n                                    color: 'var(--color-warning)',\n                                    width: 2,\n                                    type:'solid'\n                                },\n                                label: {\n                                    color: 'var(--color-warning)',\n                                    fontSize: 20,\n                                    distance:14,\n                                    position:'start'\n                                },\n                                },\n                            ],\n                            },\n                        }\n                    ],\n\n                \n                },\n                empty:true,\n                tWidth:100,\n                target:[3.9,13.9],\n            }\n        },\n        props:{\n            dataList:{\n                type:Object\n            },\n            height:{\n                type:Number\n            }\n        },\n        components: {\n            TChart\n        },\n        computed:{\n            ...mapGetters([\n            'unit','targetScope']),\n        },\n        created(){\n        },\n        mounted(){\n            let data = this.dataList\n            if(_.compact(data.agp05).length>1&&_.compact(data.agp25).length>1&&_.compact(data.agp50).length>1\n            &&_.compact(data.agp75).length>1&&_.compact(data.agp95).length>1){\n                    this.renderIng(data) \n                    this.empty = false \n            }else{\n                    this.empty = true\n            }\n        },\n        methods:{\n            // 渲染数据\n            renderIng(data){\n                let value = _.cloneDeep(data)\n                this.option.xAxis[0].data = value.xData\n                let unit = this.unit\n                let max =  Math.ceil(GlucoseUtils.mgdlToMmol(_.maxBy(value.agp95)) / 3) * 3<15?15:Math.ceil(GlucoseUtils.mgdlToMmol(_.maxBy(value.agp95)) / 3) * 3\n                this.option.series[4].markLine.data[0].yAxis = this.targetScope[0]\n                this.option.series[4].markLine.data[1].yAxis = this.targetScope[1]\n                if(unit != 'mg/dL'){\n                    max = max\n                    this.option.yAxis[0].max = max\n                    this.option.series[0].data = value.agp05.map(val => GlucoseUtils.mgdlToMmol(val));\n                    this.option.series[1].data = value.agp25.map((item, index) => {\n                            return GlucoseUtils.mgdlToMmol(item - value.agp05[index]);\n                            })\n                    this.option.series[2].data = value.agp75.map((item, index) => {\n                            return GlucoseUtils.mgdlToMmol(item - value.agp25[index]);\n                            })\n                    this.option.series[3].data = value.agp95.map((item, index) => {\n                            return GlucoseUtils.mgdlToMmol(item - value.agp75[index]);\n                            })\n                    this.option.series[4].data = value.agp50.map(val => GlucoseUtils.mgdlToMmol(val))\n                   \n                }else{\n                    this.option.yAxis[0].max = GlucoseUtils.mmolToMgdl(max)\n                    this.option.yAxis[0].interval =3*18\n                    this.option.series[0].data = value.agp05;\n                    this.option.series[1].data =  value.agp25.map((item, index) => {\n                            return item - value.agp05[index];\n                            })\n                    this.option.series[2].data = value.agp75.map((item, index) => {\n                            return item - value.agp25[index];\n                            })\n                    this.option.series[3].data = value.agp95.map((item, index) => {\n                            return item - value.agp75[index];\n                            })\n                    this.option.series[4].data = value.agp50\n                }\n                this.$nextTick(()=>{\n                    console.log(formatTime(new Date()),'AGP渲染完成')\n                })\n                \n            }\n        },\n        watch:{\n            dataList:function(n,o){\n                console.log(n)\n                let data = n\n                if(_.compact(data.agp05).length>1&&_.compact(data.agp25).length>1&&_.compact(data.agp50).length>1\n                &&_.compact(data.agp75).length>1&&_.compact(data.agp95).length>1){\n                        this.renderIng(data) \n                        this.empty = false \n                }else{\n                     this.empty = true\n                }\n            }\n        },\n    }\n</script>\n<style scoped>\n   /* agp图谱legend */\n    .agp-chart-empty{\n        width:100%;\n        padding:150px 0;\n    }\n    .empty-icon{\n        width:80px;\n        height:80px;\n        display: block;\n        margin:0 auto;\n    }\n    .agp-chartempty-tips{\n        text-align: center;\n        font-size:var(--fontSize-max);\n        color:var(--color-black-40);\n    }\n    .agp-legend{\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    }\n    .agp-legend-item{\n        display: flex;\n        align-items: center;\n        margin:0 10px;\n    }\n    .agp-legend-info{\n         color:var(--color-black-60);\n         margin-left:6px;\n    }\n    .apg-legend-shape1{\n        color:var(--color-primary); \n    }\n    .apg-legend-shape2{\n        width:20px;\n        height:20px;\n        background:#94DBDE;\n    }\n    .apg-legend-shape3{\n        width:20px;\n        height:20px;\n        background:#D6F1F2;\n    }\n    .apg-legend-shape4{\n        width:20px;\n        border-top:2px solid var(--color-error); \n        display: block;\n    }\n    .apg-legend-shape4:nth-child(1){\n        margin-bottom:10px;\n        border-top:2px solid var(--color-warning); \n    }\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AGPchart.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AGPchart.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AGPchart.vue?vue&type=template&id=5a867ac2&scoped=true\"\nimport script from \"./AGPchart.vue?vue&type=script&lang=js\"\nexport * from \"./AGPchart.vue?vue&type=script&lang=js\"\nimport style0 from \"./AGPchart.vue?vue&type=style&index=0&id=5a867ac2&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a867ac2\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{ref:\"day\",staticClass:\"day-box\",attrs:{\"id\":\"day-box\"}},[(_vm.dayList.length>0)?_c('div',{staticClass:\"day-item-box\"},_vm._l((_vm.dayList),function(item,index){return _c('div',{key:index,staticClass:\"day-item\",style:({width:_vm.gridW+'px'})},[(index<7)?_c('div',{staticClass:\"day-week\"},[_vm._v(_vm._s(item.week))]):_vm._e(),_c('div',{staticClass:\"day-grid-border\"})])}),0):_vm._e(),_c('t-chart',{style:({\"width\":\"100%\",\"height\":_vm.height+\"px\"}),attrs:{\"option\":_vm.option,\"init-options\":_vm.initOptions,\"theme\":\"tduck-echarts-theme\"}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <div class='day-box' ref='day' id='day-box'>\n            <div class='day-item-box' v-if='dayList.length>0'>\n                <div class='day-item'  v-for='(item,index) in dayList' :key='index' :style=\"{width:gridW+'px'}\" >\n                    <div class='day-week' v-if='index<7'>{{item.week}}</div>\n                    <div class='day-grid-border'></div>\n                </div>\n            </div>\n            <t-chart\n                :style='{\"width\":\"100%\",\"height\":height+\"px\"}'\n                :option=\"option\"\n                :init-options=\"initOptions\"\n                theme=\"tduck-echarts-theme\"\n            />\n        </div>\n    </div>\n</template>\n<script>\nimport TChart from '@/views/components/TChart'\nimport { hasEventListener } from \"@/utils/utils\";\nimport {formatDate,formatTime} from '@/utils/formatTime'\nimport { TIRUtils } from \"@/utils/algorithm/TIR\";\nimport { GlucoseUtils } from \"@/utils/algorithm/Glucose\";\nimport { Divider } from 'element-ui';\nimport {mapGetters} from \"vuex\"\nexport default {\n    data(){\n        return{\n            initOptions: {\n                renderer: 'svg'\n            },\n            option: {\n                tooltip:{\n                    show:true,\n                    trigger:'axis',\n                    confine:true\n\n                },\n                title:[],\n                grid:[],\n                xAxis: [],\n                yAxis: [],\n                visualMap:[],\n                series: [],\n            },\n            dayList:[],\n            week:[],\n            gridW:0,\n            height:510\n        }\n    },\n    props:{\n        dataList:{\n            type:Array\n        }\n    },\n    components: {\n        TChart\n    },\n    created(){\n        \n    },\n    computed:{\n        ...mapGetters([\n           'unit','targetScope']),\n    },\n    mounted(){\n        this.getOption(this.dataList)\n    },\n    methods:{\n        // 渲染数据\n        getOption(data){\n            let dayList = _.cloneDeep(data)\n            console.log(dayList)\n            this.dayList = data\n            this.height = Math.ceil(data.length/7)*170\n            let gridW = Math.floor((this.$refs.day.clientWidth-240)/7)\n            this.gridW = gridW\n            let xData = Array.from({length:60*24},(item, index) => index)\n            let max = data[0].max\n            max = GlucoseUtils.mgdlToMmol(max)<13.9?13.9: GlucoseUtils.mgdlToMmol(max)\n            let unit = this.unit\n            this.option = {\n                tooltip :{\n                    show:true,\n                    trigger:'axis',\n                    confine:false,\n                    axisPointer:{\n                        type:'none',\n                        axis:'x',\n                        snap:true\n                    },\n                    formatter(params){\n                        let h =  Math.floor(Number(params[0].axisValue)/60)<10 ? '0'+ Math.floor(Number(params[0].axisValue)/60) : Math.floor(Number(params[0].axisValue)/60) \n                        let m =  Number(params[0].axisValue)%60 < 10 ? '0' + Number(params[0].axisValue)%60 : Number(params[0].axisValue)%60\n                        let moment = h+':'+m\n                        let html =  \"<div class='tooltip-box' >\"+\n                           \" <div class='tooltips-val'>\"+\n                               \" <span class='tooltips-val-num'>\"+params[0].value+\"</span>\"+unit+\n                            \"</div>\"+\n                           \" <div class='tooltips-date'>\"+\n                              dayList[params[0].axisIndex].day +' '+ moment+\n                           \" </div>\"+\n                       \" </div>\"\n                        return params[0].value?html:''\n                    },\n                    extraCssText: 'box-shadow: 0 2px 10px rgba(195,245,247,1);'\n                },\n                title:[],\n                grid:[],\n                xAxis: [],\n                yAxis: [],\n                visualMap:[],\n                series: [],\n            }\n            dayList.forEach((item,index)=>{\n                if(unit != 'mg/dL'){\n                    item.value = item.value.map(val => GlucoseUtils.mgdlToMmol(val));\n                }\n                // if(index>14){\n                //     return ;\n                // }\n                let tirClass = item.tir>70?'tir':'tirs'\n                this.option.title.push({\n                    text:item.tir?['{date|'+item.day+'}{tirLable|TIR:}{'+tirClass+'|'+item.tir+'%}']:['{date|'+item.day+'}{tir|TIR:--}'],\n                    left:index==0?90:index<7&&index>0?index*(gridW+15)+90:(index%7)*(gridW+15)+90,\n                    top:index>=7?172*Math.floor(index/7):2,\n                    right:10,\n                    textStyle:{\n                        rich:{\n                            date:{\n                                fontSize:16,\n                                color:'#333',\n                                width:(gridW-10)/2-10,\n                                align:'left'\n                            },\n                            tirLable:{\n                                fontSize:20,\n                                width:30,\n                                color:'#333',\n                                align:'right'\n                            },\n                            tir:{\n                                fontSize:20,\n                                width:70,\n                                color:'#333',\n                                align:'left'\n                            },\n                            tirs:{\n                                fontSize:20,\n                                width:70,\n                                color:'#F43F31',\n                                align:'left'\n                            }\n                        }\n                    },\n                })\n                this.option.grid.push({   \n                        show:false,\n                        left:index==0?90:index<7&&index>0?index*(gridW+15)+90:(index%7)*(gridW+15)+90,\n                        right:0,\n                        top:index>=7?170*Math.floor(index/7)+30:30,\n                        width:gridW,\n                        height:90,\n                        borderColor:'#666',\n                        borderWidth:1\n                })\n                this.option.xAxis.push({   \n                        type: 'category',\n                        gridIndex:index,\n                        show:true,\n                        axisLine:{\n                            show:false\n                        },\n                        data:xData,\n                        axisLabel:{\n                            formatter: function (value, indexs) {\n                                if(indexs==0){\n                                    return '00:00'\n                                }else if(index==dayList.length-1&&indexs==item.value.length-1||index%7==6&&indexs==item.value.length-1){\n                                    return '00:00'\n                                }else if(indexs==(item.value.length/2)-1){\n                                    return '12:00'\n                                }\n                            },\n                            interval:0,\n                            color: 'var(--color-black-60)',\n                            fontSize: 16, \n                            margin:15\n                        },\n                        axisTick:{\n                            show:false\n                        }\n                })\n                this.option.yAxis.push({   \n                        type: 'value',\n                        show:false,\n                        gridIndex:index,\n                        min:0,\n                        max: unit == 'mg/dL'?GlucoseUtils.mmolToMgdl(Math.ceil(max / 3) * 3):Math.ceil(max / 3) * 3\n                })\n                this.option.visualMap.push({\n                      type: \"piecewise\",\n                        show: false,\n                        pieces: [\n                            {\n                                gt: 0,\n                                lt: this.unit=='mg/dL'?70:3.9,\n                                color: \"var(--color-error)\",//大于0小于12为红色\n                            },\n                            {\n                                gt: this.unit=='mg/dL'?180:10,\n                                color: \"var(--color-warning\",//大于12区间为红色\n                            },{\n                                gt: this.unit=='mg/dL'?70:3.9,\n                                lt: this.unit=='mg/dL'?180:10,\n                                color: \"var(--color-primary\",//大于12区间为红色\n                            },\n                        ],\n                })\n                this.option.series.push(  \n                        {\n                        type: 'line',\n                        data:item.value,\n                        xAxisIndex:index,\n                        yAxisIndex:index,\n                        showSymbol:_.compact(item.value).length>1?false:true,\n                        symbolSize:1,\n                        symbol:'circle',\n                        emphasis:{\n                            disabled:true\n                        },\n                        lineStyle: {\n                            width: 1,\n                        },\n                        markPoint:{\n                            symbol: 'circle',\n                            symbolSize:_.compact(item.value).length==1?5:0,\n                            itemStyle:{\n                                color:'var(--color-primary)'\n                            },\n                            emphasis:{\n                                disabled:true\n                            },\n                            data:[{\n                                coord:[_.indexOf(item.value,_.compact(item.value)[0]),_.compact(item.value)[0]]\n                            }]\n                        },\n                        markLine:{\n                                symbol: 'none',\n                                // animation:false,\n                                data:[\n                                    // {\n                                    //     xAxis:xData.length/2-1,\n                                    //     lineStyle: {\n                                    //         color: 'var(--color-black-10)',\n                                    //         width: 1,\n                                    //         type:'dashed'\n                                    //     },\n                                    //     label:{\n                                    //         show:false\n                                    //     }\n                                    // } ,\n                                    {\n                                        yAxis:this.targetScope[0],\n                                        lineStyle: {\n                                            width: 0,\n                                        },\n                                        label:{\n                                            show:index%7==0?true:false,\n                                            position:'start',\n                                            distance:14,\n                                            fontSize:16,\n                                            color:'#666',\n\n                                        }\n                                    } ,\n                                    {\n                                        yAxis:this.targetScope[1],\n                                        lineStyle: {\n                                            width: 0,\n                                        },\n                                        label:{\n                                            show:index%7==0?true:false,\n                                            position:'start',\n                                            fontSize:16,\n                                            distance:14,\n                                            color:'#666'\n                                        }\n                                    } ,\n                                ]\n                        },\n                        markArea:{\n                            data:[\n                                [{\n                                    yAxis: this.unit=='mg/dL'?70:3.9\n                                },\n                                {   \n                                    yAxis: this.unit=='mg/dL'?180:10\n                                }]\n                            ],\n                            itemStyle:{\n                                color:'rgba(50, 186, 192, 0.08)'\n                            }\n                        },\n\n                    }\n                )\n            })\n            this.$nextTick(()=>{\n                console.log(formatTime(new Date()),'每日血糖渲染完成')\n            })\n        },\n    },\n    watch:{\n        dataList:function(n,o){\n            let data = n\n            this.getOption(data)\n        }\n    },\n}\n</script>\n<style >\n    .day-box{\n        display: flex;\n        align-items: center;\n        flex-wrap: wrap;\n        position: relative;\n        padding-top:20px;\n    }\n    #day-box .day-item-box{\n        overflow: hidden;\n        padding:0 0 0 90px;\n        width:100%;\n        position: absolute;\n        left:0;\n        top:-11px;\n    }\n    #day-box .day-item{\n        position: relative;\n        margin-right:15px;\n        margin-bottom:49px;\n        float: left;\n    }\n    #day-box .day-week{\n        text-align: center;\n        font-size:var(--fontSize-big);\n        color:var(--color-black-80);\n        margin-bottom:10px;\n    }\n    #day-box .day-grid-border{\n        height:120px;\n        border:1px solid #666;\n        border-radius:10px;\n        width:100%;\n    }\n    #day-box .day-main{\n        width:180px;\n        height:120px;\n        position: relative;\n    }\n    #day-box .day-date-tir{\n        width:100%;\n        padding:2px 6px;\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        position: absolute;\n        left:0;\n        top:0;\n        color:var(--color-black-60);\n        font-size: var(--fontSize-big);\n    }\n    #day-box .day-target{\n        height: 66px;\n        display: flex;\n        flex-direction: column;\n        align-items:center ;\n        justify-content: space-between;\n        position: absolute;\n        top:35px;\n        left:-30px;\n        font-size:var(--fontSize-big);\n        color:var(--color-black-60);\n    }\n    #day-box .chart-box{\n        width:180px;\n        height:120px;\n        border:1px solid var(--color-black-10);\n        border-radius:10px;\n    }\n    #day-box .chart-x{\n        width:130px;\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        position: absolute;\n        bottom:0;\n        left:-20px;\n        font-size:var(--fontSize-big);\n        color:var(--color-black-40);\n    }\n    #day-box .chart-x-end{\n        width:220px;\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        position: absolute;\n        bottom:0;\n        left:-20px;\n        font-size:var(--fontSize-big);\n        color:var(--color-black-40);\n    }\n    #day-box .tooltip-box{\n        font-size:var(--fontSize-default);\n        color:var(--color-black-40);\n    }\n    #day-box .tooltips-val{\n        margin-bottom:4px;\n    }\n    #day-box .tooltips-val-num{\n        font-size:var(--fontSize-big);\n        color:var(--color-black-80);\n        padding-right:4px;\n    }\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DayChart.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DayChart.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DayChart.vue?vue&type=template&id=190d06e9\"\nimport script from \"./DayChart.vue?vue&type=script&lang=js\"\nexport * from \"./DayChart.vue?vue&type=script&lang=js\"\nimport style0 from \"./DayChart.vue?vue&type=style&index=0&id=190d06e9&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"tir\",staticClass:\"TIR\"},[_c('canvas',{ref:\"canvas\",staticClass:\"canvas\",attrs:{\"id\":\"myCanvas\"}}),_c('div',{staticClass:\"tir-info\"},[_c('div',{staticClass:\"tir-key\"},[_vm._l((_vm.tirList),function(item){return _c('div',{key:item.key},[(item.value!=0)?_c('div',{ref:\"tirInfo\",refInFor:true,staticClass:\"tir-key-item\",attrs:{\"data-index\":item.index}},[_c('div',{staticClass:\"tir-key-box\"},[_c('div',{ref:\"legend\",refInFor:true,staticClass:\"tir-key-legend\",style:({backgroundColor:item.color}),attrs:{\"data-index\":item.index}}),_c('div',{staticClass:\"tir-key-desc\"},[_c('div',{staticClass:\"tir-key-key\"},[_vm._v(_vm._s(item.key))]),_c('div',{staticClass:\"tir-key-range\"},[_vm._v(_vm._s(_vm.unit=='mg/dL'?item.descmg:item.desc))])])]),_c('div',{staticClass:\"tir-value\"},[_c('div',{staticClass:\"tir-key-key\"},[_c('span',{class:[item.index==2?\"active\":\"\",\"tir-print-key\"]},[_vm._v(_vm._s(item.value)+\"%\")]),_vm._v(\"(\"+_vm._s(item.duration[0])+\"时\"+_vm._s(item.duration[1])+\"分)\")]),(item.index==2)?_c('div',{staticClass:\"tir-key-range\"},[_vm._v(\"目标值＞\"+_vm._s(item.target)+\"%\")]):_c('div',{staticClass:\"tir-key-range\"},[_vm._v(\"目标值＞\"+_vm._s(item.target)+\"%\")])])]):_vm._e()])}),(_vm.highTarget!=0)?_c('div',{staticClass:\"tir-all-1\",style:({height:_vm.highTargetHeight+\"px\"})},[_c('div',{staticClass:\"tir-all-line\"}),_c('div',{staticClass:\"tir-all-value\"},[_c('div',{staticClass:\"tir-key-key\"},[_vm._v(_vm._s(_vm.highTarget)+\"%\")]),_c('div',{staticClass:\"tir-key-range\"},[_vm._v(\"目标值＜25%\")])])]):_vm._e(),(_vm.lowTarget!=0)?_c('div',{staticClass:\"tir-all-2\",style:({height:_vm.lowTargetHeight+\"px\"})},[_c('div',{staticClass:\"tir-all-line\"}),_c('div',{staticClass:\"tir-all-value\"},[_c('div',{staticClass:\"tir-key-key\"},[_vm._v(_vm._s(_vm.lowTarget)+\"%\")]),_c('div',{staticClass:\"tir-key-range\"},[_vm._v(\"目标值＜4%\")])])]):_vm._e()],2)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class='TIR' ref='tir'>\n        <canvas id='myCanvas' ref='canvas' class='canvas' ></canvas>\n        <div class='tir-info' >\n            <div class='tir-key' >\n                <div  v-for='(item) in tirList'  :key='item.key'>\n                    <div class='tir-key-item' ref='tirInfo'  :data-index='item.index'  v-if='item.value!=0'>\n                        <div class='tir-key-box'>\n                            <div class='tir-key-legend' :style='{backgroundColor:item.color}' ref='legend' :data-index='item.index' ></div>\n                            <div class='tir-key-desc' >\n                                <div class='tir-key-key' >{{item.key}}</div>\n                                <div class='tir-key-range' >{{unit=='mg/dL'?item.descmg:item.desc}}</div>\n                            </div>\n                        </div>\n                        <div class='tir-value'>\n                            <div class='tir-key-key ' > <span :class='[item.index==2?\"active\":\"\",\"tir-print-key\"]' >{{item.value}}%</span>({{item.duration[0]}}时{{item.duration[1]}}分)</div>\n                            <div class='tir-key-range' v-if='item.index==2'>目标值＞{{item.target}}%</div>\n                            <div class='tir-key-range' v-else>目标值＞{{item.target}}%</div>\n                        </div>\n                    </div>\n                </div>\n                <div class='tir-all-1' v-if='highTarget!=0' :style='{height:highTargetHeight+\"px\"}' >\n                    <div class='tir-all-line'></div>\n                    <div class='tir-all-value' >\n                        <div class='tir-key-key' >{{highTarget}}%</div>\n                        <div class='tir-key-range' >目标值＜25%</div>\n                    </div>\n                </div>\n                <div class='tir-all-2'  v-if='lowTarget!=0' :style='{height:lowTargetHeight+\"px\"}'>\n                    <div class='tir-all-line' ></div>\n                    <div class='tir-all-value'  >\n                        <div class='tir-key-key' >{{lowTarget}}%</div>\n                        <div class='tir-key-range' >目标值＜4%</div>\n                    </div>\n                </div>\n            </div>\n            \n        </div>\n    </div>\n</template>\n<script>\n\nimport {formatDate,formatTime} from '@/utils/formatTime'\nimport {mapGetters} from \"vuex\"\nexport default {\n    name:'TIR',\n    data(){\n        return{\n            levels: [\n                {key: '血糖很高', \n                    value:1,  \n                    duration:[],\n                    color: '#E98C41',\n                    desc: '>13.9mmol/L',\n                    descmg:'>250mg/dL',\n                    target:'5',\n                    index:0\n                },\n                {\n                    key: '血糖偏高',\n                    value: 1,\n                    duration:[],\n                    color: '#F6C059',\n                    desc: '10.1-13.9mmol/L',\n                    descmg:'181-250mg/dL',\n                    target:'25',\n                    index:1\n                },\n                {\n                    key: '目标范围内',\n                    value: 60,\n                    duration:[],\n                    color: '#32BAC0',\n                    desc: '3.9-10mmol/L',\n                    descmg:'70-180mg/dL',\n                    target:'70',\n                    index:2\n                },\n                {key: '血糖偏低', value: 30,  duration:[],color: '#F43F31', desc: '3.0~3.8mmol/L', descmg:'54-69mg/dL',target:'4', index:3},\n                {key: '血糖很低', value:0,  duration:[],color: '#96251C', desc: '<3.0mmol/L', descmg:'<54/dL',target:'1', index:4},\n            ],\n            tirList:[],\n            canvas:null,\n            ctx:null,\n            highTarget:0,\n            lowTarget:0,\n            highTargetHeight:0,\n            lowTargetHeight:0,\n        }\n    },\n    props:{\n        dataList:{\n            type:Object\n        }\n    },\n    created(){\n    },\n    computed:{\n        ...mapGetters([\n           'unit','targetScope']),\n    },\n    mounted(){\n        this.renderData(this.dataList)\n    },\n    methods:{\n        // 渲染\n        renderData(data){\n            let result = _.clone(data)\n            this.levels[0].value = _.round(Number(result.veryHighRate*100),1)\n            this.levels[1].value = _.round(Number(result.highRate*100),1)\n            this.levels[2].value = _.round(Number(result.normalRate*100),1)\n            this.levels[3].value = _.round(Number(result.lowRate*100),1)\n            this.levels[4].value = _.round(Number(result.veryLowRate*100),1)\n\n            this.levels[0].duration =[Math.floor(result.veryHighDuration/60), result.veryHighDuration%60 ]\n            this.levels[1].duration =[Math.floor(result.highDuration/60), result.highDuration%60]\n            this.levels[2].duration =[Math.floor(result.normalDuration/60), result.normalDuration%60]\n            this.levels[3].duration =[Math.floor(result.lowDuration/60),result.lowDuration%60]\n            this.levels[4].duration =[Math.floor(result.veryLowDuration/60), result.veryLowDuration%60]\n\n            this.levels[2].desc = this.targetScope[0]+'-'+ this.targetScope[1]+'mmol/L'\n            this.levels[2].descmg = this.targetScope[0]+'-'+this.targetScope[1]+'mg/dL'\n            this.levels[1].desc = _.round(this.targetScope[1]+0.1,1)+'-13.9mmol/L'\n            this.levels[1].descmg = this.targetScope[1]+1+'-250mg/dL'\n            this.levels[3].desc = '3.0-'+_.round(this.targetScope[0]-0.1,1)+'mmol/L'\n            this.levels[3].descmg = '54-'+(this.targetScope[0]-1)+'mg/dL'\n\n            this.highTarget = this.levels[0].value && this.levels[1].value ?_.round(this.levels[0].value+this.levels[1].value,1):0\n            this.lowTarget =  this.levels[3].value && this.levels[4].value ?_.round(this.levels[4].value+this.levels[4].value,1):0\n            this.tirList = _.filter(this.levels,function(e){return e.value>0})\n            console.log(this.tirList)\n             console.log(formatTime(new Date()),'TIR计算完成')\n            this.$nextTick(()=>{\n                this.drawTir()\n                this.handelHeight()\n            }) \n        },\n        // 计算高血糖，低血糖总比例的高度\n        handelHeight(){\n              let legend = _.sortBy(this.$refs.legend,['dataset.index']) //图例的位置\n            if(this.highTarget!=0){\n                // 计算高度\n                this.highTargetHeight = legend[1].offsetTop - legend[0].offsetTop\n            }\n            if(this.lowTarget!=0){\n                this.lowTargetHeight = legend[legend.length-1].offsetTop - legend[legend.length-2].offsetTop\n            }\n        },\n        // 画图\n        drawTir(){\n            const canvas = document.getElementById(\"myCanvas\");\n            const ctx = canvas.getContext(\"2d\")\n            const W = 160\n            const H = this.$refs.tir.offsetHeight*2\n            canvas.width = W\n            canvas.height = H\n            ctx.scale(2, 2)\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            \n            const barW = 40 //柱状图宽度\n            const splitInterval = 1 //间隔距离\n            const lineStart = barW+5 //标识线x轴起点\n            const lineWidth =30//标识线总宽度\n            let  start_y = 2 //柱状图y轴起始点 \n            let  start_text_y = this.$refs.tir.offsetTop //第一段文字说明的起点\n            let legend = _.sortBy(this.$refs.legend,['dataset.index']) //图例的位置\n            let noRangeLength = 1 //需要花第2段线的数量\n            for(var i=0;i<this.tirList.length;i++){\n                let value = Number(this.tirList[i].value)*2.8\n\n                // 画柱\n                ctx.fillStyle = this.tirList[i].color\n                ctx.fillRect(0,start_y,barW,value)\n\n                // 画线\n                let tir_key_top = null\n                if( legend[i]) tir_key_top = legend[i].offsetTop+3\n                let lineOneX = 0\n                let lineOneY = 0\n                let lineTwoX = 0\n                let lineTwoY = 0\n                let lineThreeX = 0\n                let lineThreeY = 0\n                if(tir_key_top-start_y>10&&start_y+value-tir_key_top>10){\n                    lineOneX = lineStart+lineWidth\n                    lineOneY= tir_key_top\n                    lineTwoX =lineOneX\n                    lineTwoY = lineOneY\n                    lineThreeX = lineOneX\n                    lineThreeY = lineOneY\n                    noRangeLength = 1\n                }else{\n                    noRangeLength++\n                    lineOneX = tir_key_top<start_y+value?lineStart+lineWidth-(lineWidth-noRangeLength*3):lineStart+(lineWidth-noRangeLength*3)-lineWidth/2\n                    lineOneY= start_y +(value/2)\n                    lineTwoX =  tir_key_top<start_y+value?lineStart+lineWidth-(lineWidth-noRangeLength*3):lineStart+(lineWidth-noRangeLength*3)-lineWidth/2\n                    lineTwoY = tir_key_top\n                    lineThreeX = lineStart+lineWidth\n                    lineThreeY = tir_key_top\n                }\n                if(value!=0){\n                    ctx.lineWidth=\"1\";\n                    ctx.strokeStyle=\"#e5e5e5\";\n                    ctx.beginPath();\n                    ctx.moveTo(lineStart,lineOneY);\n                    ctx.lineTo(lineOneX,lineOneY);\n                    ctx.lineTo(lineTwoX,lineTwoY);\n                    ctx.lineTo(lineThreeX,lineThreeY);\n                    ctx.stroke();\n                }\n                start_y = start_y + value + splitInterval\n            }\n            this.$nextTick(()=>{\n                console.log(formatTime(new Date()),'TIR渲染完成')\n            })\n        },\n    },\n    watch:{\n        dataList:function(n,o){\n            console.log(n)\n            let data = n\n            this.renderData(data)\n        }\n    }\n}\n</script>\n<style scoped>\n    .TIR{\n        height:300px;\n        display: flex;\n    }\n    .canvas{\n        width:80px;\n        height:300px;\n    }\n    .tir-info{\n        flex-grow: 1;\n        display: flex;\n    }\n    .tir-key{\n        width:100%;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        position: relative;\n    }\n    .tir-key-item{\n        width:100%;\n        height:47px;\n        display: flex;\n    }\n    .tir-key-box{\n        display: flex;\n        align-items:baseline;\n        width:220px;\n    }\n    .tir-key-legend{\n        width:7px;\n        height:7px;\n        margin-right:10px;\n    }\n    .tir-key-key{\n        font-size:var(--fontSize-max);\n        color:var(--color-black-100);\n        line-height: 26px;\n    }\n    .tir-print-key{\n        font-size:24px;\n        font-weight: 440;\n        line-height: 26px;\n    }\n    .tir-print-key.active{\n        color:var(--color-primary);\n    }\n    .tir-key-range{\n        font-size:var(--fontSize-big);\n        color:var(--color-black-60);\n        line-height: 18px;\n    }\n    .tir-value{\n        width:200px;\n    }\n    .tir-value-all{\n        display: flex;\n    }\n    .tir-all-1{\n        height:60px;\n        display: flex;\n        align-items: center;\n        width:220px;\n        position: absolute;\n        right:0;\n        top:13px;\n    } \n    .tir-all-2{\n        height:60px;\n        display: flex;\n        align-items: center;\n        margin-top:25px;\n        width:220px;\n        position: absolute;\n        right:0;\n        bottom:25px;\n    }\n    .tir-all-line{\n        width:120px;\n        height:100%;\n        border-top-right-radius: 10px;\n        border-bottom-right-radius: 10px;\n        border:1px solid var(--color-black-40);\n        border-left:none;\n        margin-right:10px;\n    }\n    .tir-all-value{\n        width:120px;\n    }\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TIR.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TIR.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TIR.vue?vue&type=template&id=13ad542b&scoped=true\"\nimport script from \"./TIR.vue?vue&type=script&lang=js\"\nexport * from \"./TIR.vue?vue&type=script&lang=js\"\nimport style0 from \"./TIR.vue?vue&type=style&index=0&id=13ad542b&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"13ad542b\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","empty","staticClass","attrs","require","_v","_m","style","tWidth","height","option","initOptions","staticRenderFns","data","renderer","grid","left","right","top","xAxis","type","gridIndex","boundaryGap","axisTick","splitLine","show","lineStyle","color","interval","axisLine","width","axisLabel","formatter","value","index","h","Math","floor","m","moment","fontSize","margin","yAxis","min","max","series","name","opacity","stack","symbol","silent","emphasis","disabled","animation","areaStyle","itemStyle","showSymbol","markLine","label","distance","position","target","props","dataList","Object","Number","components","TChart","computed","mapGetters","created","mounted","_","compact","agp05","length","agp25","agp50","agp75","agp95","renderIng","methods","cloneDeep","xData","unit","ceil","GlucoseUtils","mgdlToMmol","maxBy","targetScope","map","val","item","mmolToMgdl","$nextTick","console","log","formatTime","Date","watch","n","o","component","ref","dayList","_l","key","gridW","_s","week","_e","tooltip","trigger","confine","title","visualMap","Array","getOption","$refs","day","clientWidth","from","axisPointer","axis","snap","params","axisValue","html","axisIndex","extraCssText","forEach","tirClass","tir","push","text","textStyle","rich","date","align","tirLable","tirs","borderColor","borderWidth","indexs","pieces","gt","lt","xAxisIndex","yAxisIndex","symbolSize","markPoint","coord","indexOf","markArea","tirList","refInFor","backgroundColor","descmg","desc","class","duration","highTarget","highTargetHeight","lowTarget","lowTargetHeight","levels","canvas","ctx","renderData","result","clone","round","veryHighRate","highRate","normalRate","lowRate","veryLowRate","veryHighDuration","highDuration","normalDuration","lowDuration","veryLowDuration","filter","e","drawTir","handelHeight","legend","sortBy","offsetTop","document","getElementById","getContext","W","H","offsetHeight","scale","clearRect","barW","splitInterval","lineStart","lineWidth","start_y","noRangeLength","i","fillStyle","fillRect","tir_key_top","lineOneX","lineOneY","lineTwoX","lineTwoY","lineThreeX","lineThreeY","strokeStyle","beginPath","moveTo","lineTo","stroke"],"sourceRoot":""}