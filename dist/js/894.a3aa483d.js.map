{"version":3,"file":"js/894.a3aa483d.js","mappings":"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","sources":["webpack://CGM3/./src/views/userInfo/userInfo.vue","webpack://CGM3/src/views/userInfo/userInfo.vue","webpack://CGM3/./src/views/userInfo/userInfo.vue?2ac0","webpack://CGM3/./src/views/userInfo/userInfo.vue?103b","webpack://CGM3/./src/api/userApi.js","webpack://CGM3/./src/utils/phone.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.pageLoading),expression:\"pageLoading\"}],staticClass:\"userinfobox\",attrs:{\"id\":\"old_userinfo\"}},[_c('el-header',{staticClass:\"header\",attrs:{\"height\":\"84px\"}},[_c('div',{staticClass:\"header-title\"},[_c('img',{staticClass:\"logo\",attrs:{\"src\":require(\"@/assets/image/logo.png\"),\"alt\":\"\"}}),_vm._v(\" iHealth CGM \")]),_c('div',{staticClass:\"header-other\",on:{\"click\":_vm.logout}},[_vm._v(\" 退出 \")])]),_c('div',{staticClass:\"userinfo\"},[_c('div',{staticClass:\"userinfo-title\"},[_vm._m(0),_c('div',{staticClass:\"jump\",on:{\"click\":function($event){return _vm.saveSubmit(true)}}},[_vm._v(\"跳过\")])]),_c('div',{staticClass:\"tips\"},[_vm._v(\"请填写您的健康信息，将为您制定个性化管理方案！\")]),_c('div',{staticClass:\"step-box\"},_vm._l((_vm.stepList),function(item,index){return _c('div',{key:index,class:[_vm.step>index?'active':'','step-item']})}),0),_c('div',{staticClass:\"config\"},[(_vm.configs.length>_vm.step-1)?_c('div',_vm._l((_vm.configs),function(item,index){return _c('div',{key:item.config_key},[(index+1==_vm.step)?_c('div',{staticClass:\"config-title\"},[_vm._v(_vm._s(item.config_name))]):_vm._e(),_vm._l((item.items),function(ele,indexs){return _c('div',{key:ele.item_key},[(index+1==_vm.step)?_c('div',{staticClass:\"config-item\",on:{\"click\":function($event){return _vm.changeConfig(index,indexs)}}},[_c('div',{staticClass:\"config-choose\"},[(ele.checked)?_c('img',{staticClass:\"choose-img\",attrs:{\"src\":require(\"@/assets/image/radio-check.png\"),\"alt\":\"\"}}):_c('img',{staticClass:\"choose-img\",attrs:{\"src\":require(\"@/assets/image/no-check.png\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"config-text\"},[_vm._v(_vm._s(ele.item_name))])]):_vm._e()])})],2)}),0):_c('div',{staticClass:\"config-message\"},[_c('div',{staticClass:\"config-title\"},[_vm._v(\"基础信息\")]),_c('div',{staticClass:\"message-box\"},[_c('el-form',{ref:\"formData\",attrs:{\"label-width\":\"140px\",\"label-position\":\"left\",\"model\":_vm.formData}},[_c('el-form-item',{attrs:{\"label\":\"出生日期\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"未填写\",\"picker-options\":_vm.pickerOptions,\"default-value\":_vm.defaultBirthday,\"prefix-icon\":\" \",\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.formData.birthdate),callback:function ($$v) {_vm.$set(_vm.formData, \"birthdate\", $$v)},expression:\"formData.birthdate\"}}),_c('i',{staticClass:\"el-icon-arrow-down picker-date-icon\"})],1),_c('el-form-item',{attrs:{\"label\":\"性别\"}},[_c('el-select',{attrs:{\"placeholder\":\"未填写\"},model:{value:(_vm.formData.gender),callback:function ($$v) {_vm.$set(_vm.formData, \"gender\", $$v)},expression:\"formData.gender\"}},[_c('el-option',{attrs:{\"label\":\"男\",\"value\":0}},[_c('div',{class:[_vm.formData.gender?\"\":\"active\",\"select-item\"]},[_vm._v(\"男\")])]),_c('el-option',{attrs:{\"label\":\"女\",\"value\":1}},[_c('div',[_vm._v(\"女\")])])],1)],1),_c('el-form-item',{attrs:{\"label\":\"身高\"}},[_c('el-select',{attrs:{\"placeholder\":\"未填写\"},model:{value:(_vm.formData.height),callback:function ($$v) {_vm.$set(_vm.formData, \"height\", $$v)},expression:\"formData.height\"}},_vm._l((_vm.heightArray),function(item){return _c('el-option',{key:item,attrs:{\"label\":item+'cm',\"value\":item}},[_c('div',{class:[item==175&&!_vm.formData.height?\"active\":\"\",\"select-item\"]},[_vm._v(_vm._s(item)+\"cm\")])])}),1)],1),_c('el-form-item',{attrs:{\"label\":\"体重\"}},[_c('el-select',{attrs:{\"placeholder\":\"未填写\"},model:{value:(_vm.formData.weight),callback:function ($$v) {_vm.$set(_vm.formData, \"weight\", $$v)},expression:\"formData.weight\"}},_vm._l((_vm.weightArray),function(item){return _c('el-option',{key:item,attrs:{\"label\":item+'kg',\"value\":item}},[_c('div',{class:[item==60&&!_vm.formData.weight?\"active\":\"\",\"select-item\"]},[_vm._v(_vm._s(item)+\"cm\")])])}),1)],1),(_vm.diagnosisShow)?_c('el-form-item',{attrs:{\"label\":\"确诊日期\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"value-format\":\"yyyy-MM-dd\",\"prefix-icon\":\" \",\"placeholder\":\"未填写\",\"picker-options\":_vm.diagnosisPickerOptions},model:{value:(_vm.formData.diagnosis_date),callback:function ($$v) {_vm.$set(_vm.formData, \"diagnosis_date\", $$v)},expression:\"formData.diagnosis_date\"}}),_c('i',{staticClass:\"el-icon-arrow-down picker-date-icon\"})],1):_vm._e()],1)],1)]),(_vm.step>1)?_c('div',{staticClass:\"config-btn\"},[_c('el-button',{attrs:{\"type\":\"info\",\"round\":\"\"},on:{\"click\":_vm.prevStep}},[_vm._v(\"上一步\")]),(_vm.step==_vm.configs.length+1)?_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\",\"loading\":_vm.loading},on:{\"click\":function($event){return _vm.saveSubmit(true)}}},[_vm._v(\"完成配置\")]):_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\",\"loading\":_vm.loading},on:{\"click\":_vm.nextStep}},[_vm._v(\"下一步\")])],1):_vm._e(),(_vm.step<=1)?_c('div',{staticClass:\"configs-btn\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\",\"loading\":_vm.loading},on:{\"click\":_vm.nextStep}},[_vm._v(\"下一步\")])],1):_vm._e()])])],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"userinfo-label\"},[_c('div',{staticClass:\"userinf-diver\"}),_c('div',{staticClass:\"userinfo-text\"},[_vm._v(\"个人信息\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n    <div class='userinfobox' id='old_userinfo' v-loading='pageLoading'>\n       <el-header class='header' height='84px' >\n            <div class='header-title' >\n                <img src=\"~@/assets/image/logo.png\" alt=\"\" class='logo' >\n                iHealth CGM\n            </div>\n            <div class='header-other ' @click='logout' >\n                退出\n            </div>\n        </el-header>\n        <div class='userinfo' >\n            <div class='userinfo-title' >\n                <div class='userinfo-label' >\n                    <div class='userinf-diver' ></div>\n                    <div class='userinfo-text' >个人信息</div>\n                </div>\n                <div class='jump' @click=\"saveSubmit(true)\">跳过</div>\n            </div>\n            <div class='tips' >请填写您的健康信息，将为您制定个性化管理方案！</div>\n            <div class='step-box'>\n                <div :class=\"[step>index?'active':'','step-item']\" v-for='(item,index) in stepList' :key='index' ></div>\n            </div>\n            <div class='config'>\n                <!-- 糖尿病信息 -->\n                <div v-if='configs.length>step-1' >\n                    <div v-for='(item,index) in configs' :key='item.config_key' >\n                        <div class='config-title' v-if='index+1==step' >{{item.config_name}}</div>\n                        <div  v-for='(ele,indexs) in item.items' :key='ele.item_key'>\n                            <div class='config-item'  @click=\"changeConfig(index,indexs)\" v-if='index+1==step'>\n                                <div class='config-choose' >\n                                    <img src=\"~@/assets/image/radio-check.png\" alt=\"\" class='choose-img'  v-if='ele.checked'>\n                                    <img src=\"~@/assets/image/no-check.png\" alt=\"\" class='choose-img' v-else >\n                                </div>\n                                <div class='config-text' >{{ele.item_name}}</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <!-- 个人基础信息 -->\n                <div class='config-message' v-else>\n                    <div class='config-title'>基础信息</div>\n                    <div class='message-box' >\n                        <el-form ref=\"formData\"  label-width=\"140px\" label-position=\"left\" :model=\"formData\">\n                            <el-form-item label=\"出生日期\" >\n                                <el-date-picker v-model=\"formData.birthdate\" type=\"date\"  placeholder=\"未填写\"\n                                :picker-options=\"pickerOptions\"\n                                :default-value='defaultBirthday'\n                                prefix-icon =' '\n                                value-format=\"yyyy-MM-dd\"\t>\n                                </el-date-picker>\n                                 <i class=\"el-icon-arrow-down picker-date-icon \"></i>\n                            </el-form-item>\n                            <el-form-item label=\"性别\"  >\n                                <el-select v-model=\"formData.gender\" placeholder=\"未填写\">\n                                    <el-option label=\"男\" :value=\"0\" ><div :class='[formData.gender?\"\":\"active\",\"select-item\"]'>男</div></el-option>\n                                    <el-option label=\"女\" :value='1'><div>女</div></el-option>\n                                </el-select>\n                            </el-form-item>\n                            <el-form-item label=\"身高\" >\n                                 <el-select v-model=\"formData.height\" placeholder=\"未填写\">\n                                    <el-option  v-for='item in heightArray' :key='item' :label=\"item+'cm'\" :value=\"item\" >\n                                        <div :class='[item==175&&!formData.height?\"active\":\"\",\"select-item\"]'>{{item}}cm</div>\n                                    </el-option>\n                                </el-select>\n                            </el-form-item>\n                            <el-form-item label=\"体重\" >\n                                 <el-select v-model=\"formData.weight\" placeholder=\"未填写\">\n                                    <el-option  v-for='item in weightArray' :key='item' :label=\"item+'kg'\" :value=\"item\" >\n                                         <div :class='[item==60&&!formData.weight?\"active\":\"\",\"select-item\"]'>{{item}}cm</div>\n                                    </el-option>\n                                </el-select>\n                            </el-form-item>\n                            <el-form-item label=\"确诊日期\" v-if='diagnosisShow'>\n                                <el-date-picker v-model=\"formData.diagnosis_date\" type=\"date\" value-format=\"yyyy-MM-dd\"\n                                 prefix-icon =' ' placeholder=\"未填写\" :picker-options=\"diagnosisPickerOptions\"></el-date-picker>\n                                  <i class=\"el-icon-arrow-down picker-date-icon \"></i>\n                            </el-form-item>\n                        </el-form>\n                    </div>\n                </div>\n                <div class='config-btn' v-if='step>1'>\n                    <el-button type=\"info\" round @click=\"prevStep\">上一步</el-button>\n                    <el-button type=\"primary\" round @click=\"saveSubmit(true)\" :loading=\"loading\"  v-if='step==configs.length+1'>完成配置</el-button>\n                    <el-button type=\"primary\" round @click=\"nextStep\" :loading=\"loading\" v-else>下一步</el-button>\n                </div>\n                <div class='configs-btn' v-if='step<=1'>\n                    <el-button type=\"primary\" round @click=\"nextStep\" :loading=\"loading\" >下一步</el-button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport {configs,saveInfo,getInfo} from '@/api/userApi'\nimport Cookies from \"js-cookie\"\nimport maskPhoneNumber from '@/utils/phone'\nexport default {\n    data(){\n        return{\n            stepList:[],\n            step:1,\n            configs:[],\n            loading:false,\n            pageLoading:true,\n            formData:{\n                diabetes_type:null,\n                treatment_regimen:[],\n                comorbidities:[],\n                complications:[],\n                birthdate:null,\n                weight:null,\n                height:null,\n                gender:null,\n                diagnosis_date:null,\n                nickname:maskPhoneNumber(Cookies.get(\"username\")),\n                avatar:null\n            },\n            heightArray:[],\n            weightArray:[],\n            defaultBirthday:new Date().setFullYear(new Date().getFullYear()-40),\n            pickerOptions:{\n                disabledDate (time) {\n                        return time.getTime() > new Date().setFullYear(new Date().getFullYear()-4)||time.getTime()<new Date('1900-01-01')\n                }\n                    \n            },\n            diagnosisPickerOptions:{\n                disabledDate (time) {\n                        return time.getTime()<new Date('1900-01-01')||time.getTime() > new Date()\n                }\n            }\n        }\n    },\n      computed:{\n        diagnosisShow(){\n            return this.formData.diabetes_type&&this.formData.diabetes_type!=0\n        }\n    },\n    created(){\n        this.getConfig()\n        for(var i=50;i<=255;i++){\n            this.heightArray.push(i)\n        }\n        for(var i=10;i<=200;i++){\n            this.weightArray.push(i)\n        }\n    },\n    methods:{\n        // 获取配置项\n        getConfig(){\n            configs({}).then(response => {\n                    if(response.code == 1000){\n                       this.stepList = response.data.length+1\n                       this.configs = response.data\n                       this.getInfo()\n                    }else{\n                        this.$message({\n                            type: 'error',\n                            message: response.msg\n                        });\n                    }\n            }).catch((res) => {\n                   console.log(res)\n            })\n        },\n        // 选择配置项\n        changeConfig(index,indexs){\n            let item = this.configs[index].items[indexs]\n            let formData = this.formData\n            if(this.configs[index].config_key=='diabetes_type' || item.item_key==0){\n                this.configs[index].items.forEach(item=>{\n                    item.checked = false\n                })\n                item.checked = true\n                if(this.configs[index].config_key=='diabetes_type'){\n                    this.formData.diabetes_type = item.item_key\n                }else{\n                    this.formData[this.configs[index].config_key] = [0]\n                }\n            }else{\n                item.checked = !item.checked\n                this.configs[index].items.forEach(item=>{\n                    if(item.item_key==0){\n                         item.checked=false\n                    }\n                })\n                let arr = this.configs[index].items.filter(item=>item.checked)\n                let new_arr = []\n                arr.forEach(item=>{\n                    new_arr.push(item.item_key)\n                })\n                this.formData[this.configs[index].config_key] = new_arr\n            }\n            this.$set(this.configs[index].items,indexs,item)\n        },\n        // 下一步\n        nextStep(){\n            if(this.step<this.configs.length+1){\n                 this.step+=1\n            }\n            this.saveSubmit(false)\n            \n        },\n        // 上一步\n        prevStep(){\n            if(this.step>=1){\n                this.step-=1\n            }\n        },\n         // 保存用户配置\n        saveSubmit(goHome){\n            this.loading = true\n            this.formData.height = this.formData.height?Number(this.formData.height):null\n            this.formData.weight = this.formData.weight?Number(this.formData.weight):null\n            this.formData.gender = this.formData.gender?Number(this.formData.gender):null\n            saveInfo(this.formData).then(response => {\n                    this.loading = false\n                    if(response.code == 1000){\n                        if(goHome){\n                            this.$router.push('/')\n                        }\n                    }else{\n                        this.$message({\n                            type: 'error',\n                            message: response.msg\n                        });\n                    }\n            }).catch((res) => {\n                   console.log(res)\n            })\n        },\n        // 获取用户配置\n        getInfo(){\n            let configs = this.configs\n            getInfo().then(response => {\n                this.pageLoading = false\n                    if(response.code == 1000){\n                        this.formData = response.data\n                        configs.forEach((ele,index)=>{\n                            ele.items.forEach(item=>{\n                                if(ele.config_key=='diabetes_type'){\n                                    if(item.item_key == response.data[ele.config_key]){\n                                        item.checked = true\n                                    }\n                                }else  if(response.data[ele.config_key].length>0){\n                                    response.data[ele.config_key].forEach(Element=>{\n                                        if(Element == item.item_key){\n                                            item.checked = true\n                                        }\n                                    })\n                                }\n                            })\n                            this.$set(this.configs,index,ele)\n                        })\n                        \n                    }else{\n                        this.$message({\n                            type: 'error',\n                            message: response.msg\n                        });\n                    }\n            }).catch((res) => {\n                this.pageLoading = false\n                   console.log(res)\n            })\n        },\n        // 退出\n        logout(){\n            this.$router.push('/login');\n            removeToken()\n        }\n    }\n}\n</script>\n<style scoped>\n    .userinfobox{\n        width:100%;\n    }\n     .header{\n        height:84px;\n        display: flex;\n        align-items: center;\n        background: #fff;\n        justify-content: space-between;\n        margin-bottom:50px;\n    }\n    .header-title{\n        font-size:24px;\n        color:var(--color-primary);\n        width:230px;\n        font-weight: 440;\n        display: flex;\n        align-items: center;\n    }\n    .logo{\n        margin:0 14px;\n    }\n    .header-other{\n        display: flex;\n        align-items: center;\n        justify-content: flex-end;\n        height:100%;\n    }\n    .language{\n        width:140px;\n        position: relative;\n    }\n    .el-dropdown-link{\n        font-size:var(--fontSize-big);\n    }\n    .userinfo{\n        width: 600px;\n        margin:0 auto;\n        background: #fff;\n        padding:20px;\n        border-radius: 4px;\n        padding-bottom:50px;\n    }\n    .userinfo-title{\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        margin-bottom:20px;\n    }\n    .userinfo-label{\n        display: flex;\n        align-items: center;\n    }\n    .userinf-diver{\n        width:2px;\n        height:17px;\n        background-color: var(--color-primary);\n    }\n    .userinfo-text{\n        color:var(--color-black-100);\n        font-size:20px;\n        margin-left:6px;\n        font-weight: 440;\n    }\n    .jump{\n        font-size:var(--fontSize-big);\n        color: var(--color-blue);\n        cursor: pointer;\n    }\n    .tips{\n        font-size:var(-fontSize-default);\n        color:var(--color-black-60);\n        text-align: center;\n        margin-bottom:10px;\n    }\n    .step-box{\n        width:340px;\n        margin:0 auto;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        margin-bottom:20px;\n    }\n    .step-item{\n        width:60px;\n        height:5px;\n        border-radius:1px;\n        background-color: #f0f0f0;\n        margin:0 1px;\n    }\n    .step-item.active{\n         background-color: var(--color-primary);\n    }\n    .config{\n        width:400px;\n        margin:0 auto;\n    }\n    .config-title{\n        text-align: center;\n        font-size:18px;\n        color:var(--color-black-80);\n        font-weight:400;\n        margin-bottom:20px;\n    }\n    .config-item{\n        width:336px;\n        height:60px;\n        border:1px solid #dcdfe6;\n        border-radius:10px;\n        display: flex;\n        align-items: center;\n        box-sizing: border-box;\n        padding:0 20px;\n        margin:0 auto;\n        margin-bottom:10px;\n    }\n    .choose-img{\n        display: block;\n        margin-right:10px;\n        width:22px;\n        height:22px;\n    }\n    .config-text{\n        font-size:var(--fontSize-big);\n        color:var(--color-black-100);\n        font-weight: 440;\n    }\n    .config-btn{\n         width:336px;\n         margin:0 auto;\n         display: flex;\n         align-items: center;\n         justify-content: space-around;\n         margin-top:30px;\n    }\n    .configs-btn{\n         width:336px;\n         margin:0 auto;\n         display: flex;\n         align-items: center;\n         justify-content: space-around;\n         margin-top:30px;\n    }\n    .config-message{\n        width:300px;\n        margin:0 auto;\n    }\n    .select-item.active{\n        color: var(--color-primary);\n    }\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./userInfo.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./userInfo.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./userInfo.vue?vue&type=template&id=33f617a3&scoped=true\"\nimport script from \"./userInfo.vue?vue&type=script&lang=js\"\nexport * from \"./userInfo.vue?vue&type=script&lang=js\"\nimport style0 from \"./userInfo.vue?vue&type=style&index=0&id=33f617a3&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"33f617a3\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/api/index'\n\n// 账号密码登录\nexport function account(data) {\n    return request({\n        url: '/webuser/login/account',\n        method: 'POST',\n        data: data\n    })\n}\n// 手机号登录\nexport function phoneLogin(data) {\n    return request({\n        url: '/webuser/login/phone',\n        method: 'POST',\n        data: data\n    })\n}\n// 手机号注册\nexport function phoneRegister(data) {\n    return request({\n        url: '/webuser/regist/phone',\n        method: 'POST',\n        data: data\n    })\n}\n// 获取验证码\nexport function sendsmscode(data) {\n    return request({\n        url: '/user/sendsmscode',\n        method: 'POST',\n        data: data\n    })\n}\n// 验证验证码\nexport function verifysmscode(data) {\n    return request({\n        url: '/user/verifysmscode',\n        method: 'POST',\n        data: data\n    })\n}\n// 设置密码\nexport function setPassword(data){\n    return request({\n        url: '/user/changepassword',\n        method: 'POST',\n        data: data\n    })\n}\n// 重置密码\nexport function resetPassword(data){\n    return request({\n        url: '/user/resetpassword',\n        method: 'POST',\n        data: data\n    })\n}\n// 获取隐私和条款\nexport function protocol(data) {\n    return request({\n        url: '/protocol/last',\n        method: 'POST',\n        data: data\n    })\n}\n// 获取用户详情配置\nexport function configs(data) {\n    return request({\n        url: '/user/profile/configs',\n        method: 'POST',\n        data: data\n    })\n}\n// 保存用户信息\nexport function saveInfo(data) {\n    return request({\n        url: '/user/profile/save',\n        method: 'POST',\n        data: data\n    })\n}\n// 获取用户信息\nexport function getInfo(data) {\n    return request({\n        url: '/user/profile/get',\n        method: 'POST',\n        data: data\n    })\n}","function maskPhoneNumber(phoneNumber) {\n    return phoneNumber.replace(/(\\d{3})\\d{4}(\\d{4})/, '$1****$2');\n}\n\nexport default maskPhoneNumber"],"names":["render","_vm","this","_c","_self","directives","name","rawName","value","pageLoading","expression","staticClass","attrs","require","_v","on","logout","_m","$event","saveSubmit","_l","stepList","item","index","key","class","step","configs","length","config_key","_s","config_name","_e","items","ele","indexs","item_key","changeConfig","checked","item_name","ref","formData","pickerOptions","defaultBirthday","model","birthdate","callback","$$v","$set","gender","height","heightArray","weight","weightArray","diagnosisShow","diagnosisPickerOptions","diagnosis_date","prevStep","loading","nextStep","staticRenderFns","data","diabetes_type","treatment_regimen","comorbidities","complications","nickname","maskPhoneNumber","Cookies","get","avatar","Date","setFullYear","getFullYear","disabledDate","time","getTime","computed","created","getConfig","i","push","methods","then","response","code","getInfo","$message","type","message","msg","catch","res","console","log","forEach","arr","filter","new_arr","goHome","Number","saveInfo","$router","Element","removeToken","component","account","request","url","method","phoneLogin","phoneRegister","sendsmscode","verifysmscode","setPassword","resetPassword","protocol","phoneNumber","replace"],"sourceRoot":""}